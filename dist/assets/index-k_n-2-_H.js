var wV=Object.defineProperty;var _V=(e,t,n)=>t in e?wV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var dy=(e,t,n)=>_V(e,typeof t!="symbol"?t+"":t,n);function SV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hy={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC;function EV(){if(aC)return zu;aC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return zu.Fragment=t,zu.jsx=n,zu.jsxs=n,zu}var sC;function TV(){return sC||(sC=1,hy.exports=EV()),hy.exports}var w=TV(),py={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lC;function AV(){if(lC)return ke;lC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b($){return $===null||typeof $!="object"?null:($=g&&$[g]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C($,W,ce){this.props=$,this.context=W,this.refs=T,this.updater=ce||S}C.prototype.isReactComponent={},C.prototype.setState=function($,W){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,W,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function R(){}R.prototype=C.prototype;function N($,W,ce){this.props=$,this.context=W,this.refs=T,this.updater=ce||S}var I=N.prototype=new R;I.constructor=N,E(I,C.prototype),I.isPureReactComponent=!0;var O=Array.isArray;function M(){}var U={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function V($,W,ce){var ue=ce.ref;return{$$typeof:e,type:$,key:W,ref:ue!==void 0?ue:null,props:ce}}function ne($,W){return V($.type,W,$.props)}function ie($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function Y($){var W={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ce){return W[ce]})}var L=/\/+/g;function H($,W){return typeof $=="object"&&$!==null&&$.key!=null?Y(""+$.key):W.toString(36)}function j($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(M,M):($.status="pending",$.then(function(W){$.status==="pending"&&($.status="fulfilled",$.value=W)},function(W){$.status==="pending"&&($.status="rejected",$.reason=W)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function D($,W,ce,ue,de){var pe=typeof $;(pe==="undefined"||pe==="boolean")&&($=null);var he=!1;if($===null)he=!0;else switch(pe){case"bigint":case"string":case"number":he=!0;break;case"object":switch($.$$typeof){case e:case t:he=!0;break;case h:return he=$._init,D(he($._payload),W,ce,ue,de)}}if(he)return de=de($),he=ue===""?"."+H($,0):ue,O(de)?(ce="",he!=null&&(ce=he.replace(L,"$&/")+"/"),D(de,W,ce,"",function(Ae){return Ae})):de!=null&&(ie(de)&&(de=ne(de,ce+(de.key==null||$&&$.key===de.key?"":(""+de.key).replace(L,"$&/")+"/")+he)),W.push(de)),1;he=0;var ye=ue===""?".":ue+":";if(O($))for(var ee=0;ee<$.length;ee++)ue=$[ee],pe=ye+H(ue,ee),he+=D(ue,W,ce,pe,de);else if(ee=b($),typeof ee=="function")for($=ee.call($),ee=0;!(ue=$.next()).done;)ue=ue.value,pe=ye+H(ue,ee++),he+=D(ue,W,ce,pe,de);else if(pe==="object"){if(typeof $.then=="function")return D(j($),W,ce,ue,de);throw W=String($),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return he}function z($,W,ce){if($==null)return $;var ue=[],de=0;return D($,ue,"","",function(pe){return W.call(ce,pe,de++)}),ue}function F($){if($._status===-1){var W=$._result;W=W(),W.then(function(ce){($._status===0||$._status===-1)&&($._status=1,$._result=ce)},function(ce){($._status===0||$._status===-1)&&($._status=2,$._result=ce)}),$._status===-1&&($._status=0,$._result=W)}if($._status===1)return $._result.default;throw $._result}var J=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},se={map:z,forEach:function($,W,ce){z($,function(){W.apply(this,arguments)},ce)},count:function($){var W=0;return z($,function(){W++}),W},toArray:function($){return z($,function(W){return W})||[]},only:function($){if(!ie($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return ke.Activity=p,ke.Children=se,ke.Component=C,ke.Fragment=n,ke.Profiler=i,ke.PureComponent=N,ke.StrictMode=r,ke.Suspense=c,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,ke.__COMPILER_RUNTIME={__proto__:null,c:function($){return U.H.useMemoCache($)}},ke.cache=function($){return function(){return $.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function($,W,ce){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ue=E({},$.props),de=$.key;if(W!=null)for(pe in W.key!==void 0&&(de=""+W.key),W)!q.call(W,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&W.ref===void 0||(ue[pe]=W[pe]);var pe=arguments.length-2;if(pe===1)ue.children=ce;else if(1<pe){for(var he=Array(pe),ye=0;ye<pe;ye++)he[ye]=arguments[ye+2];ue.children=he}return V($.type,de,ue)},ke.createContext=function($){return $={$$typeof:s,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},ke.createElement=function($,W,ce){var ue,de={},pe=null;if(W!=null)for(ue in W.key!==void 0&&(pe=""+W.key),W)q.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(de[ue]=W[ue]);var he=arguments.length-2;if(he===1)de.children=ce;else if(1<he){for(var ye=Array(he),ee=0;ee<he;ee++)ye[ee]=arguments[ee+2];de.children=ye}if($&&$.defaultProps)for(ue in he=$.defaultProps,he)de[ue]===void 0&&(de[ue]=he[ue]);return V($,pe,de)},ke.createRef=function(){return{current:null}},ke.forwardRef=function($){return{$$typeof:u,render:$}},ke.isValidElement=ie,ke.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:F}},ke.memo=function($,W){return{$$typeof:f,type:$,compare:W===void 0?null:W}},ke.startTransition=function($){var W=U.T,ce={};U.T=ce;try{var ue=$(),de=U.S;de!==null&&de(ce,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(M,J)}catch(pe){J(pe)}finally{W!==null&&ce.types!==null&&(W.types=ce.types),U.T=W}},ke.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},ke.use=function($){return U.H.use($)},ke.useActionState=function($,W,ce){return U.H.useActionState($,W,ce)},ke.useCallback=function($,W){return U.H.useCallback($,W)},ke.useContext=function($){return U.H.useContext($)},ke.useDebugValue=function(){},ke.useDeferredValue=function($,W){return U.H.useDeferredValue($,W)},ke.useEffect=function($,W){return U.H.useEffect($,W)},ke.useEffectEvent=function($){return U.H.useEffectEvent($)},ke.useId=function(){return U.H.useId()},ke.useImperativeHandle=function($,W,ce){return U.H.useImperativeHandle($,W,ce)},ke.useInsertionEffect=function($,W){return U.H.useInsertionEffect($,W)},ke.useLayoutEffect=function($,W){return U.H.useLayoutEffect($,W)},ke.useMemo=function($,W){return U.H.useMemo($,W)},ke.useOptimistic=function($,W){return U.H.useOptimistic($,W)},ke.useReducer=function($,W,ce){return U.H.useReducer($,W,ce)},ke.useRef=function($){return U.H.useRef($)},ke.useState=function($){return U.H.useState($)},ke.useSyncExternalStore=function($,W,ce){return U.H.useSyncExternalStore($,W,ce)},ke.useTransition=function(){return U.H.useTransition()},ke.version="19.2.4",ke}var uC;function Rl(){return uC||(uC=1,py.exports=AV()),py.exports}var A=Rl();const Mw=Jr(A),CV=SV({__proto__:null,default:Mw},[A]);var my={exports:{}},Bu={},gy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cC;function PV(){return cC||(cC=1,(function(e){function t(D,z){var F=D.length;D.push(z);e:for(;0<F;){var J=F-1>>>1,se=D[J];if(0<i(se,z))D[J]=z,D[F]=se,F=J;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var z=D[0],F=D.pop();if(F!==z){D[0]=F;e:for(var J=0,se=D.length,$=se>>>1;J<$;){var W=2*(J+1)-1,ce=D[W],ue=W+1,de=D[ue];if(0>i(ce,F))ue<se&&0>i(de,ce)?(D[J]=de,D[ue]=F,J=ue):(D[J]=ce,D[W]=F,J=W);else if(ue<se&&0>i(de,F))D[J]=de,D[ue]=F,J=ue;else break e}}return z}function i(D,z){var F=D.sortIndex-z.sortIndex;return F!==0?F:D.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,g=3,b=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(D){for(var z=n(f);z!==null;){if(z.callback===null)r(f);else if(z.startTime<=D)r(f),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(f)}}function O(D){if(E=!1,I(D),!S)if(n(c)!==null)S=!0,M||(M=!0,Y());else{var z=n(f);z!==null&&j(O,z.startTime-D)}}var M=!1,U=-1,q=5,V=-1;function ne(){return T?!0:!(e.unstable_now()-V<q)}function ie(){if(T=!1,M){var D=e.unstable_now();V=D;var z=!0;try{e:{S=!1,E&&(E=!1,R(U),U=-1),b=!0;var F=g;try{t:{for(I(D),p=n(c);p!==null&&!(p.expirationTime>D&&ne());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var se=J(p.expirationTime<=D);if(D=e.unstable_now(),typeof se=="function"){p.callback=se,I(D),z=!0;break t}p===n(c)&&r(c),I(D)}else r(c);p=n(c)}if(p!==null)z=!0;else{var $=n(f);$!==null&&j(O,$.startTime-D),z=!1}}break e}finally{p=null,g=F,b=!1}z=void 0}}finally{z?Y():M=!1}}}var Y;if(typeof N=="function")Y=function(){N(ie)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=ie,Y=function(){H.postMessage(null)}}else Y=function(){C(ie,0)};function j(D,z){U=C(function(){D(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var z=3;break;default:z=g}var F=g;g=z;try{return D()}finally{g=F}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(D,z){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=g;g=D;try{return z()}finally{g=F}},e.unstable_scheduleCallback=function(D,z,F){var J=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?J+F:J):F=J,D){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,D={id:h++,callback:z,priorityLevel:D,startTime:F,expirationTime:se,sortIndex:-1},F>J?(D.sortIndex=F,t(f,D),n(c)===null&&D===n(f)&&(E?(R(U),U=-1):E=!0,j(O,F-J))):(D.sortIndex=se,t(c,D),S||b||(S=!0,M||(M=!0,Y()))),D},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(D){var z=g;return function(){var F=g;g=z;try{return D.apply(this,arguments)}finally{g=F}}}})(vy)),vy}var fC;function NV(){return fC||(fC=1,gy.exports=PV()),gy.exports}var yy={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dC;function RV(){if(dC)return xn;dC=1;var e=Rl();function t(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(c,f,null,h)},xn.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},xn.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},xn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},xn.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},xn.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},xn.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=u(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},xn.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},xn.requestFormReset=function(c){r.d.r(c)},xn.unstable_batchedUpdates=function(c,f){return c(f)},xn.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},xn.useFormStatus=function(){return s.H.useHostTransitionStatus()},xn.version="19.2.4",xn}var hC;function BD(){if(hC)return yy.exports;hC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yy.exports=RV(),yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC;function IV(){if(pC)return Bu;pC=1;var e=NV(),t=Rl(),n=BD();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function f(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var d=a,m=l;;){var x=d.return;if(x===null)break;var _=x.alternate;if(_===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===d)return c(x),a;if(_===m)return c(x),l;_=_.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=_;else{for(var P=!1,k=x.child;k;){if(k===d){P=!0,d=x,m=_;break}if(k===m){P=!0,m=x,d=_;break}k=k.sibling}if(!P){for(k=_.child;k;){if(k===d){P=!0,d=_,m=x;break}if(k===m){P=!0,m=_,d=x;break}k=k.sibling}if(!P)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function Y(a){return a===null||typeof a!="object"?null:(a=ie&&a[ie]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function H(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return a.displayName||"Context";case R:return(a._context.displayName||"Context")+".Consumer";case I:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case U:return l=a.displayName||null,l!==null?l:H(a.type)||"Memo";case q:l=a._payload,a=a._init;try{return H(a(l))}catch{}}return null}var j=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},J=[],se=-1;function $(a){return{current:a}}function W(a){0>se||(a.current=J[se],J[se]=null,se--)}function ce(a,l){se++,J[se]=a.current,a.current=l}var ue=$(null),de=$(null),pe=$(null),he=$(null);function ye(a,l){switch(ce(pe,l),ce(de,a),ce(ue,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?N1(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=N1(l),a=R1(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(ue),ce(ue,a)}function ee(){W(ue),W(de),W(pe)}function Ae(a){a.memoizedState!==null&&ce(he,a);var l=ue.current,d=R1(l,a.type);l!==d&&(ce(de,a),ce(ue,d))}function Ee(a){de.current===a&&(W(ue),W(de)),he.current===a&&(W(he),Lu._currentValue=F)}var fe,st;function _e(a){if(fe===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);fe=l&&l[1]||"",st=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+a+st}var Je=!1;function tt(a,l){if(!a||Je)return"";Je=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(re){var Q=re}Reflect.construct(a,[],le)}else{try{le.call()}catch(re){Q=re}a.call(le.prototype)}}else{try{throw Error()}catch(re){Q=re}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(re){if(re&&Q&&typeof re.stack=="string")return[re.stack,Q.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=m.DetermineComponentFrameRoot(),P=_[0],k=_[1];if(P&&k){var B=P.split(`
`),Z=k.split(`
`);for(x=m=0;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;for(;x<Z.length&&!Z[x].includes("DetermineComponentFrameRoot");)x++;if(m===B.length||x===Z.length)for(m=B.length-1,x=Z.length-1;1<=m&&0<=x&&B[m]!==Z[x];)x--;for(;1<=m&&0<=x;m--,x--)if(B[m]!==Z[x]){if(m!==1||x!==1)do if(m--,x--,0>x||B[m]!==Z[x]){var oe=`
`+B[m].replace(" at new "," at ");return a.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",a.displayName)),oe}while(1<=m&&0<=x);break}}}finally{Je=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?_e(d):""}function _t(a,l){switch(a.tag){case 26:case 27:case 5:return _e(a.type);case 16:return _e("Lazy");case 13:return a.child!==l&&l!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return tt(a.type,!1);case 11:return tt(a.type.render,!1);case 1:return tt(a.type,!0);case 31:return _e("Activity");default:return""}}function _i(a){try{var l="",d=null;do l+=_t(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var ei=Object.prototype.hasOwnProperty,Zm=e.unstable_scheduleCallback,Qm=e.unstable_cancelCallback,Qz=e.unstable_shouldYield,eB=e.unstable_requestPaint,Fn=e.unstable_now,tB=e.unstable_getCurrentPriorityLevel,sE=e.unstable_ImmediatePriority,lE=e.unstable_UserBlockingPriority,_f=e.unstable_NormalPriority,nB=e.unstable_LowPriority,uE=e.unstable_IdlePriority,rB=e.log,iB=e.unstable_setDisableYieldValue,Wl=null,Kn=null;function po(a){if(typeof rB=="function"&&iB(a),Kn&&typeof Kn.setStrictMode=="function")try{Kn.setStrictMode(Wl,a)}catch{}}var Wn=Math.clz32?Math.clz32:sB,oB=Math.log,aB=Math.LN2;function sB(a){return a>>>=0,a===0?32:31-(oB(a)/aB|0)|0}var Sf=256,Ef=262144,Tf=4194304;function oa(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Af(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var x=0,_=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~_,m!==0?x=oa(m):(P&=k,P!==0?x=oa(P):d||(d=k&~a,d!==0&&(x=oa(d))))):(k=m&~_,k!==0?x=oa(k):P!==0?x=oa(P):d||(d=m&~a,d!==0&&(x=oa(d)))),x===0?0:l!==0&&l!==x&&(l&_)===0&&(_=x&-x,d=l&-l,_>=d||_===32&&(d&4194048)!==0)?l:x}function Yl(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function lB(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cE(){var a=Tf;return Tf<<=1,(Tf&62914560)===0&&(Tf=4194304),a}function eg(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Jl(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function uB(a,l,d,m,x,_){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var k=a.entanglements,B=a.expirationTimes,Z=a.hiddenUpdates;for(d=P&~d;0<d;){var oe=31-Wn(d),le=1<<oe;k[oe]=0,B[oe]=-1;var Q=Z[oe];if(Q!==null)for(Z[oe]=null,oe=0;oe<Q.length;oe++){var re=Q[oe];re!==null&&(re.lane&=-536870913)}d&=~le}m!==0&&fE(a,m,0),_!==0&&x===0&&a.tag!==0&&(a.suspendedLanes|=_&~(P&~l))}function fE(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Wn(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function dE(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-Wn(d),x=1<<m;x&l|a[m]&l&&(a[m]|=l),d&=~x}}function hE(a,l){var d=l&-l;return d=(d&42)!==0?1:tg(d),(d&(a.suspendedLanes|l))!==0?0:d}function tg(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ng(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function pE(){var a=z.p;return a!==0?a:(a=window.event,a===void 0?32:Q1(a.type))}function mE(a,l){var d=z.p;try{return z.p=a,l()}finally{z.p=d}}var mo=Math.random().toString(36).slice(2),sn="__reactFiber$"+mo,Dn="__reactProps$"+mo,is="__reactContainer$"+mo,rg="__reactEvents$"+mo,cB="__reactListeners$"+mo,fB="__reactHandles$"+mo,gE="__reactResources$"+mo,Xl="__reactMarker$"+mo;function ig(a){delete a[sn],delete a[Dn],delete a[rg],delete a[cB],delete a[fB]}function os(a){var l=a[sn];if(l)return l;for(var d=a.parentNode;d;){if(l=d[is]||d[sn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=j1(a);a!==null;){if(d=a[sn])return d;a=j1(a)}return l}a=d,d=a.parentNode}return null}function as(a){if(a=a[sn]||a[is]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Zl(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function ss(a){var l=a[gE];return l||(l=a[gE]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Wt(a){a[Xl]=!0}var vE=new Set,yE={};function aa(a,l){ls(a,l),ls(a+"Capture",l)}function ls(a,l){for(yE[a]=l,a=0;a<l.length;a++)vE.add(l[a])}var dB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bE={},xE={};function hB(a){return ei.call(xE,a)?!0:ei.call(bE,a)?!1:dB.test(a)?xE[a]=!0:(bE[a]=!0,!1)}function Cf(a,l,d){if(hB(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Pf(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function Si(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function fr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function wE(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function pB(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var x=m.get,_=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return x.call(this)},set:function(P){d=""+P,_.call(this,P)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(P){d=""+P},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function og(a){if(!a._valueTracker){var l=wE(a)?"checked":"value";a._valueTracker=pB(a,l,""+a[l])}}function _E(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=wE(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Nf(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var mB=/[\n"\\]/g;function dr(a){return a.replace(mB,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ag(a,l,d,m,x,_,P,k){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),l!=null?P==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+fr(l)):a.value!==""+fr(l)&&(a.value=""+fr(l)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),l!=null?sg(a,P,fr(l)):d!=null?sg(a,P,fr(d)):m!=null&&a.removeAttribute("value"),x==null&&_!=null&&(a.defaultChecked=!!_),x!=null&&(a.checked=x&&typeof x!="function"&&typeof x!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+fr(k):a.removeAttribute("name")}function SE(a,l,d,m,x,_,P,k){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),l!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||l!=null)){og(a);return}d=d!=null?""+fr(d):"",l=l!=null?""+fr(l):d,k||l===a.value||(a.value=l),a.defaultValue=l}m=m??x,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P),og(a)}function sg(a,l,d){l==="number"&&Nf(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function us(a,l,d,m){if(a=a.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<a.length;d++)x=l.hasOwnProperty("$"+a[d].value),a[d].selected!==x&&(a[d].selected=x),x&&m&&(a[d].defaultSelected=!0)}else{for(d=""+fr(d),l=null,x=0;x<a.length;x++){if(a[x].value===d){a[x].selected=!0,m&&(a[x].defaultSelected=!0);return}l!==null||a[x].disabled||(l=a[x])}l!==null&&(l.selected=!0)}}function EE(a,l,d){if(l!=null&&(l=""+fr(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+fr(d):""}function TE(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(r(92));if(j(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=fr(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),og(a)}function cs(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var gB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AE(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||gB.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function CE(a,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var x in l)m=l[x],l.hasOwnProperty(x)&&d[x]!==m&&AE(a,x,m)}else for(var _ in l)l.hasOwnProperty(_)&&AE(a,_,l[_])}function lg(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vB=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rf(a){return yB.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ei(){}var ug=null;function cg(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fs=null,ds=null;function PE(a){var l=as(a);if(l&&(a=l.stateNode)){var d=a[Dn]||null;e:switch(a=l.stateNode,l.type){case"input":if(ag(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+dr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var x=m[Dn]||null;if(!x)throw Error(r(90));ag(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&_E(m)}break e;case"textarea":EE(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&us(a,!!d.multiple,l,!1)}}}var fg=!1;function NE(a,l,d){if(fg)return a(l,d);fg=!0;try{var m=a(l);return m}finally{if(fg=!1,(fs!==null||ds!==null)&&(vd(),fs&&(l=fs,a=ds,ds=fs=null,PE(l),a)))for(l=0;l<a.length;l++)PE(a[l])}}function Ql(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Dn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=!1;if(Ti)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){dg=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{dg=!1}var go=null,hg=null,If=null;function RE(){if(If)return If;var a,l=hg,d=l.length,m,x="value"in go?go.value:go.textContent,_=x.length;for(a=0;a<d&&l[a]===x[a];a++);var P=d-a;for(m=1;m<=P&&l[d-m]===x[_-m];m++);return If=x.slice(a,1<m?1-m:void 0)}function Mf(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Of(){return!0}function IE(){return!1}function Ln(a){function l(d,m,x,_,P){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(d=a[k],this[k]=d?d(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Of:IE,this.isPropagationStopped=IE,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Of)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Of)},persist:function(){},isPersistent:Of}),l}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=Ln(sa),tu=p({},sa,{view:0,detail:0}),bB=Ln(tu),pg,mg,nu,Df=p({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vg,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==nu&&(nu&&a.type==="mousemove"?(pg=a.screenX-nu.screenX,mg=a.screenY-nu.screenY):mg=pg=0,nu=a),pg)},movementY:function(a){return"movementY"in a?a.movementY:mg}}),ME=Ln(Df),xB=p({},Df,{dataTransfer:0}),wB=Ln(xB),_B=p({},tu,{relatedTarget:0}),gg=Ln(_B),SB=p({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),EB=Ln(SB),TB=p({},sa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),AB=Ln(TB),CB=p({},sa,{data:0}),OE=Ln(CB),PB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IB(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=RB[a])?!!l[a]:!1}function vg(){return IB}var MB=p({},tu,{key:function(a){if(a.key){var l=PB[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Mf(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?NB[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vg,charCode:function(a){return a.type==="keypress"?Mf(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Mf(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),OB=Ln(MB),kB=p({},Df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kE=Ln(kB),DB=p({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vg}),LB=Ln(DB),jB=p({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),UB=Ln(jB),$B=p({},Df,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),zB=Ln($B),BB=p({},sa,{newState:0,oldState:0}),VB=Ln(BB),qB=[9,13,27,32],yg=Ti&&"CompositionEvent"in window,ru=null;Ti&&"documentMode"in document&&(ru=document.documentMode);var GB=Ti&&"TextEvent"in window&&!ru,DE=Ti&&(!yg||ru&&8<ru&&11>=ru),LE=" ",jE=!1;function UE(a,l){switch(a){case"keyup":return qB.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hs=!1;function HB(a,l){switch(a){case"compositionend":return $E(l);case"keypress":return l.which!==32?null:(jE=!0,LE);case"textInput":return a=l.data,a===LE&&jE?null:a;default:return null}}function FB(a,l){if(hs)return a==="compositionend"||!yg&&UE(a,l)?(a=RE(),If=hg=go=null,hs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return DE&&l.locale!=="ko"?null:l.data;default:return null}}var KB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zE(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!KB[a.type]:l==="textarea"}function BE(a,l,d,m){fs?ds?ds.push(m):ds=[m]:fs=m,l=Ed(l,"onChange"),0<l.length&&(d=new kf("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var iu=null,ou=null;function WB(a){S1(a,0)}function Lf(a){var l=Zl(a);if(_E(l))return a}function VE(a,l){if(a==="change")return l}var qE=!1;if(Ti){var bg;if(Ti){var xg="oninput"in document;if(!xg){var GE=document.createElement("div");GE.setAttribute("oninput","return;"),xg=typeof GE.oninput=="function"}bg=xg}else bg=!1;qE=bg&&(!document.documentMode||9<document.documentMode)}function HE(){iu&&(iu.detachEvent("onpropertychange",FE),ou=iu=null)}function FE(a){if(a.propertyName==="value"&&Lf(ou)){var l=[];BE(l,ou,a,cg(a)),NE(WB,l)}}function YB(a,l,d){a==="focusin"?(HE(),iu=l,ou=d,iu.attachEvent("onpropertychange",FE)):a==="focusout"&&HE()}function JB(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lf(ou)}function XB(a,l){if(a==="click")return Lf(l)}function ZB(a,l){if(a==="input"||a==="change")return Lf(l)}function QB(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Yn=typeof Object.is=="function"?Object.is:QB;function au(a,l){if(Yn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!ei.call(l,x)||!Yn(a[x],l[x]))return!1}return!0}function KE(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function WE(a,l){var d=KE(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=KE(d)}}function YE(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?YE(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function JE(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Nf(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Nf(a.document)}return l}function wg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var e4=Ti&&"documentMode"in document&&11>=document.documentMode,ps=null,_g=null,su=null,Sg=!1;function XE(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Sg||ps==null||ps!==Nf(m)||(m=ps,"selectionStart"in m&&wg(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),su&&au(su,m)||(su=m,m=Ed(_g,"onSelect"),0<m.length&&(l=new kf("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=ps)))}function la(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var ms={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Eg={},ZE={};Ti&&(ZE=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function ua(a){if(Eg[a])return Eg[a];if(!ms[a])return a;var l=ms[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in ZE)return Eg[a]=l[d];return a}var QE=ua("animationend"),eT=ua("animationiteration"),tT=ua("animationstart"),t4=ua("transitionrun"),n4=ua("transitionstart"),r4=ua("transitioncancel"),nT=ua("transitionend"),rT=new Map,Tg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tg.push("scrollEnd");function Ir(a,l){rT.set(a,l),aa(l,[a])}var jf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},hr=[],gs=0,Ag=0;function Uf(){for(var a=gs,l=Ag=gs=0;l<a;){var d=hr[l];hr[l++]=null;var m=hr[l];hr[l++]=null;var x=hr[l];hr[l++]=null;var _=hr[l];if(hr[l++]=null,m!==null&&x!==null){var P=m.pending;P===null?x.next=x:(x.next=P.next,P.next=x),m.pending=x}_!==0&&iT(d,x,_)}}function $f(a,l,d,m){hr[gs++]=a,hr[gs++]=l,hr[gs++]=d,hr[gs++]=m,Ag|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Cg(a,l,d,m){return $f(a,l,d,m),zf(a)}function ca(a,l){return $f(a,null,null,l),zf(a)}function iT(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var x=!1,_=a.return;_!==null;)_.childLanes|=d,m=_.alternate,m!==null&&(m.childLanes|=d),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(x=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,x&&l!==null&&(x=31-Wn(d),a=_.hiddenUpdates,m=a[x],m===null?a[x]=[l]:m.push(l),l.lane=d|536870912),_):null}function zf(a){if(50<Nu)throw Nu=0,Lv=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var vs={};function i4(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(a,l,d,m){return new i4(a,l,d,m)}function Pg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ai(a,l){var d=a.alternate;return d===null?(d=Jn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function oT(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Bf(a,l,d,m,x,_){var P=0;if(m=a,typeof a=="function")Pg(a)&&(P=1);else if(typeof a=="string")P=uV(a,d,ue.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=Jn(31,d,l,x),a.elementType=V,a.lanes=_,a;case E:return fa(d.children,x,_,l);case T:P=8,x|=24;break;case C:return a=Jn(12,d,l,x|2),a.elementType=C,a.lanes=_,a;case O:return a=Jn(13,d,l,x),a.elementType=O,a.lanes=_,a;case M:return a=Jn(19,d,l,x),a.elementType=M,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:P=10;break e;case R:P=9;break e;case I:P=11;break e;case U:P=14;break e;case q:P=16,m=null;break e}P=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=Jn(P,d,l,x),l.elementType=a,l.type=m,l.lanes=_,l}function fa(a,l,d,m){return a=Jn(7,a,m,l),a.lanes=d,a}function Ng(a,l,d){return a=Jn(6,a,null,l),a.lanes=d,a}function aT(a){var l=Jn(18,null,null,0);return l.stateNode=a,l}function Rg(a,l,d){return l=Jn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var sT=new WeakMap;function pr(a,l){if(typeof a=="object"&&a!==null){var d=sT.get(a);return d!==void 0?d:(l={value:a,source:l,stack:_i(l)},sT.set(a,l),l)}return{value:a,source:l,stack:_i(l)}}var ys=[],bs=0,Vf=null,lu=0,mr=[],gr=0,vo=null,ti=1,ni="";function Ci(a,l){ys[bs++]=lu,ys[bs++]=Vf,Vf=a,lu=l}function lT(a,l,d){mr[gr++]=ti,mr[gr++]=ni,mr[gr++]=vo,vo=a;var m=ti;a=ni;var x=32-Wn(m)-1;m&=~(1<<x),d+=1;var _=32-Wn(l)+x;if(30<_){var P=x-x%5;_=(m&(1<<P)-1).toString(32),m>>=P,x-=P,ti=1<<32-Wn(l)+x|d<<x|m,ni=_+a}else ti=1<<_|d<<x|m,ni=a}function Ig(a){a.return!==null&&(Ci(a,1),lT(a,1,0))}function Mg(a){for(;a===Vf;)Vf=ys[--bs],ys[bs]=null,lu=ys[--bs],ys[bs]=null;for(;a===vo;)vo=mr[--gr],mr[gr]=null,ni=mr[--gr],mr[gr]=null,ti=mr[--gr],mr[gr]=null}function uT(a,l){mr[gr++]=ti,mr[gr++]=ni,mr[gr++]=vo,ti=l.id,ni=l.overflow,vo=a}var ln=null,pt=null,qe=!1,yo=null,vr=!1,Og=Error(r(519));function bo(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uu(pr(l,a)),Og}function cT(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[sn]=a,l[Dn]=m,d){case"dialog":$e("cancel",l),$e("close",l);break;case"iframe":case"object":case"embed":$e("load",l);break;case"video":case"audio":for(d=0;d<Iu.length;d++)$e(Iu[d],l);break;case"source":$e("error",l);break;case"img":case"image":case"link":$e("error",l),$e("load",l);break;case"details":$e("toggle",l);break;case"input":$e("invalid",l),SE(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":$e("invalid",l);break;case"textarea":$e("invalid",l),TE(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||C1(l.textContent,d)?(m.popover!=null&&($e("beforetoggle",l),$e("toggle",l)),m.onScroll!=null&&$e("scroll",l),m.onScrollEnd!=null&&$e("scrollend",l),m.onClick!=null&&(l.onclick=Ei),l=!0):l=!1,l||bo(a,!0)}function fT(a){for(ln=a.return;ln;)switch(ln.tag){case 5:case 31:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:ln=ln.return}}function xs(a){if(a!==ln)return!1;if(!qe)return fT(a),qe=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||Xv(a.type,a.memoizedProps)),d=!d),d&&pt&&bo(a),fT(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pt=L1(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pt=L1(a)}else l===27?(l=pt,Oo(a.type)?(a=ny,ny=null,pt=a):pt=l):pt=ln?br(a.stateNode.nextSibling):null;return!0}function da(){pt=ln=null,qe=!1}function kg(){var a=yo;return a!==null&&(zn===null?zn=a:zn.push.apply(zn,a),yo=null),a}function uu(a){yo===null?yo=[a]:yo.push(a)}var Dg=$(null),ha=null,Pi=null;function xo(a,l,d){ce(Dg,l._currentValue),l._currentValue=d}function Ni(a){a._currentValue=Dg.current,W(Dg)}function Lg(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function jg(a,l,d,m){var x=a.child;for(x!==null&&(x.return=a);x!==null;){var _=x.dependencies;if(_!==null){var P=x.child;_=_.firstContext;e:for(;_!==null;){var k=_;_=x;for(var B=0;B<l.length;B++)if(k.context===l[B]){_.lanes|=d,k=_.alternate,k!==null&&(k.lanes|=d),Lg(_.return,d,a),m||(P=null);break e}_=k.next}}else if(x.tag===18){if(P=x.return,P===null)throw Error(r(341));P.lanes|=d,_=P.alternate,_!==null&&(_.lanes|=d),Lg(P,d,a),P=null}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===a){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}}function ws(a,l,d,m){a=null;for(var x=l,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var P=x.alternate;if(P===null)throw Error(r(387));if(P=P.memoizedProps,P!==null){var k=x.type;Yn(x.pendingProps.value,P.value)||(a!==null?a.push(k):a=[k])}}else if(x===he.current){if(P=x.alternate,P===null)throw Error(r(387));P.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(a!==null?a.push(Lu):a=[Lu])}x=x.return}a!==null&&jg(l,a,d,m),l.flags|=262144}function qf(a){for(a=a.firstContext;a!==null;){if(!Yn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function pa(a){ha=a,Pi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function un(a){return dT(ha,a)}function Gf(a,l){return ha===null&&pa(a),dT(a,l)}function dT(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Pi===null){if(a===null)throw Error(r(308));Pi=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Pi=Pi.next=l;return d}var o4=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},a4=e.unstable_scheduleCallback,s4=e.unstable_NormalPriority,Ot={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ug(){return{controller:new o4,data:new Map,refCount:0}}function cu(a){a.refCount--,a.refCount===0&&a4(s4,function(){a.controller.abort()})}var fu=null,$g=0,_s=0,Ss=null;function l4(a,l){if(fu===null){var d=fu=[];$g=0,_s=Vv(),Ss={status:"pending",value:void 0,then:function(m){d.push(m)}}}return $g++,l.then(hT,hT),l}function hT(){if(--$g===0&&fu!==null){Ss!==null&&(Ss.status="fulfilled");var a=fu;fu=null,_s=0,Ss=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function u4(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var x=0;x<d.length;x++)(0,d[x])(l)},function(x){for(m.status="rejected",m.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),m}var pT=D.S;D.S=function(a,l){XA=Fn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l4(a,l),pT!==null&&pT(a,l)};var ma=$(null);function zg(){var a=ma.current;return a!==null?a:lt.pooledCache}function Hf(a,l){l===null?ce(ma,ma.current):ce(ma,l.pool)}function mT(){var a=zg();return a===null?null:{parent:Ot._currentValue,pool:a}}var Es=Error(r(460)),Bg=Error(r(474)),Ff=Error(r(542)),Kf={then:function(){}};function gT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function vT(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(Ei,Ei),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,bT(a),a;default:if(typeof l.status=="string")l.then(Ei,Ei);else{if(a=lt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=m}},function(m){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,bT(a),a}throw va=l,Es}}function ga(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(va=d,Es):d}}var va=null;function yT(){if(va===null)throw Error(r(459));var a=va;return va=null,a}function bT(a){if(a===Es||a===Ff)throw Error(r(483))}var Ts=null,du=0;function Wf(a){var l=du;return du+=1,Ts===null&&(Ts=[]),vT(Ts,a,l)}function hu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Yf(a,l){throw l.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function xT(a){function l(K,G){if(a){var X=K.deletions;X===null?(K.deletions=[G],K.flags|=16):X.push(G)}}function d(K,G){if(!a)return null;for(;G!==null;)l(K,G),G=G.sibling;return null}function m(K){for(var G=new Map;K!==null;)K.key!==null?G.set(K.key,K):G.set(K.index,K),K=K.sibling;return G}function x(K,G){return K=Ai(K,G),K.index=0,K.sibling=null,K}function _(K,G,X){return K.index=X,a?(X=K.alternate,X!==null?(X=X.index,X<G?(K.flags|=67108866,G):X):(K.flags|=67108866,G)):(K.flags|=1048576,G)}function P(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function k(K,G,X,ae){return G===null||G.tag!==6?(G=Ng(X,K.mode,ae),G.return=K,G):(G=x(G,X),G.return=K,G)}function B(K,G,X,ae){var Pe=X.type;return Pe===E?oe(K,G,X.props.children,ae,X.key):G!==null&&(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===q&&ga(Pe)===G.type)?(G=x(G,X.props),hu(G,X),G.return=K,G):(G=Bf(X.type,X.key,X.props,null,K.mode,ae),hu(G,X),G.return=K,G)}function Z(K,G,X,ae){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=Rg(X,K.mode,ae),G.return=K,G):(G=x(G,X.children||[]),G.return=K,G)}function oe(K,G,X,ae,Pe){return G===null||G.tag!==7?(G=fa(X,K.mode,ae,Pe),G.return=K,G):(G=x(G,X),G.return=K,G)}function le(K,G,X){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ng(""+G,K.mode,X),G.return=K,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return X=Bf(G.type,G.key,G.props,null,K.mode,X),hu(X,G),X.return=K,X;case S:return G=Rg(G,K.mode,X),G.return=K,G;case q:return G=ga(G),le(K,G,X)}if(j(G)||Y(G))return G=fa(G,K.mode,X,null),G.return=K,G;if(typeof G.then=="function")return le(K,Wf(G),X);if(G.$$typeof===N)return le(K,Gf(K,G),X);Yf(K,G)}return null}function Q(K,G,X,ae){var Pe=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Pe!==null?null:k(K,G,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return X.key===Pe?B(K,G,X,ae):null;case S:return X.key===Pe?Z(K,G,X,ae):null;case q:return X=ga(X),Q(K,G,X,ae)}if(j(X)||Y(X))return Pe!==null?null:oe(K,G,X,ae,null);if(typeof X.then=="function")return Q(K,G,Wf(X),ae);if(X.$$typeof===N)return Q(K,G,Gf(K,X),ae);Yf(K,X)}return null}function re(K,G,X,ae,Pe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(X)||null,k(G,K,""+ae,Pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return K=K.get(ae.key===null?X:ae.key)||null,B(G,K,ae,Pe);case S:return K=K.get(ae.key===null?X:ae.key)||null,Z(G,K,ae,Pe);case q:return ae=ga(ae),re(K,G,X,ae,Pe)}if(j(ae)||Y(ae))return K=K.get(X)||null,oe(G,K,ae,Pe,null);if(typeof ae.then=="function")return re(K,G,X,Wf(ae),Pe);if(ae.$$typeof===N)return re(K,G,X,Gf(G,ae),Pe);Yf(G,ae)}return null}function xe(K,G,X,ae){for(var Pe=null,Ge=null,Se=G,Le=G=0,Ve=null;Se!==null&&Le<X.length;Le++){Se.index>Le?(Ve=Se,Se=null):Ve=Se.sibling;var He=Q(K,Se,X[Le],ae);if(He===null){Se===null&&(Se=Ve);break}a&&Se&&He.alternate===null&&l(K,Se),G=_(He,G,Le),Ge===null?Pe=He:Ge.sibling=He,Ge=He,Se=Ve}if(Le===X.length)return d(K,Se),qe&&Ci(K,Le),Pe;if(Se===null){for(;Le<X.length;Le++)Se=le(K,X[Le],ae),Se!==null&&(G=_(Se,G,Le),Ge===null?Pe=Se:Ge.sibling=Se,Ge=Se);return qe&&Ci(K,Le),Pe}for(Se=m(Se);Le<X.length;Le++)Ve=re(Se,K,Le,X[Le],ae),Ve!==null&&(a&&Ve.alternate!==null&&Se.delete(Ve.key===null?Le:Ve.key),G=_(Ve,G,Le),Ge===null?Pe=Ve:Ge.sibling=Ve,Ge=Ve);return a&&Se.forEach(function(Uo){return l(K,Uo)}),qe&&Ci(K,Le),Pe}function Ne(K,G,X,ae){if(X==null)throw Error(r(151));for(var Pe=null,Ge=null,Se=G,Le=G=0,Ve=null,He=X.next();Se!==null&&!He.done;Le++,He=X.next()){Se.index>Le?(Ve=Se,Se=null):Ve=Se.sibling;var Uo=Q(K,Se,He.value,ae);if(Uo===null){Se===null&&(Se=Ve);break}a&&Se&&Uo.alternate===null&&l(K,Se),G=_(Uo,G,Le),Ge===null?Pe=Uo:Ge.sibling=Uo,Ge=Uo,Se=Ve}if(He.done)return d(K,Se),qe&&Ci(K,Le),Pe;if(Se===null){for(;!He.done;Le++,He=X.next())He=le(K,He.value,ae),He!==null&&(G=_(He,G,Le),Ge===null?Pe=He:Ge.sibling=He,Ge=He);return qe&&Ci(K,Le),Pe}for(Se=m(Se);!He.done;Le++,He=X.next())He=re(Se,K,Le,He.value,ae),He!==null&&(a&&He.alternate!==null&&Se.delete(He.key===null?Le:He.key),G=_(He,G,Le),Ge===null?Pe=He:Ge.sibling=He,Ge=He);return a&&Se.forEach(function(xV){return l(K,xV)}),qe&&Ci(K,Le),Pe}function it(K,G,X,ae){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case b:e:{for(var Pe=X.key;G!==null;){if(G.key===Pe){if(Pe=X.type,Pe===E){if(G.tag===7){d(K,G.sibling),ae=x(G,X.props.children),ae.return=K,K=ae;break e}}else if(G.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===q&&ga(Pe)===G.type){d(K,G.sibling),ae=x(G,X.props),hu(ae,X),ae.return=K,K=ae;break e}d(K,G);break}else l(K,G);G=G.sibling}X.type===E?(ae=fa(X.props.children,K.mode,ae,X.key),ae.return=K,K=ae):(ae=Bf(X.type,X.key,X.props,null,K.mode,ae),hu(ae,X),ae.return=K,K=ae)}return P(K);case S:e:{for(Pe=X.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){d(K,G.sibling),ae=x(G,X.children||[]),ae.return=K,K=ae;break e}else{d(K,G);break}else l(K,G);G=G.sibling}ae=Rg(X,K.mode,ae),ae.return=K,K=ae}return P(K);case q:return X=ga(X),it(K,G,X,ae)}if(j(X))return xe(K,G,X,ae);if(Y(X)){if(Pe=Y(X),typeof Pe!="function")throw Error(r(150));return X=Pe.call(X),Ne(K,G,X,ae)}if(typeof X.then=="function")return it(K,G,Wf(X),ae);if(X.$$typeof===N)return it(K,G,Gf(K,X),ae);Yf(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,G!==null&&G.tag===6?(d(K,G.sibling),ae=x(G,X),ae.return=K,K=ae):(d(K,G),ae=Ng(X,K.mode,ae),ae.return=K,K=ae),P(K)):d(K,G)}return function(K,G,X,ae){try{du=0;var Pe=it(K,G,X,ae);return Ts=null,Pe}catch(Se){if(Se===Es||Se===Ff)throw Se;var Ge=Jn(29,Se,null,K.mode);return Ge.lanes=ae,Ge.return=K,Ge}finally{}}}var ya=xT(!0),wT=xT(!1),wo=!1;function Vg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qg(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _o(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function So(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ye&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,l=zf(a),iT(a,null,d),l}return $f(a,m,l,d),zf(a)}function pu(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,dE(a,d)}}function Gg(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?x=_=P:_=_.next=P,d=d.next}while(d!==null);_===null?x=_=l:_=_.next=l}else x=_=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var Hg=!1;function mu(){if(Hg){var a=Ss;if(a!==null)throw a}}function gu(a,l,d,m){Hg=!1;var x=a.updateQueue;wo=!1;var _=x.firstBaseUpdate,P=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var B=k,Z=B.next;B.next=null,P===null?_=Z:P.next=Z,P=B;var oe=a.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==P&&(k===null?oe.firstBaseUpdate=Z:k.next=Z,oe.lastBaseUpdate=B))}if(_!==null){var le=x.baseState;P=0,oe=Z=B=null,k=_;do{var Q=k.lane&-536870913,re=Q!==k.lane;if(re?(Be&Q)===Q:(m&Q)===Q){Q!==0&&Q===_s&&(Hg=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var xe=a,Ne=k;Q=l;var it=d;switch(Ne.tag){case 1:if(xe=Ne.payload,typeof xe=="function"){le=xe.call(it,le,Q);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Ne.payload,Q=typeof xe=="function"?xe.call(it,le,Q):xe,Q==null)break e;le=p({},le,Q);break e;case 2:wo=!0}}Q=k.callback,Q!==null&&(a.flags|=64,re&&(a.flags|=8192),re=x.callbacks,re===null?x.callbacks=[Q]:re.push(Q))}else re={lane:Q,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(Z=oe=re,B=le):oe=oe.next=re,P|=Q;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;re=k,k=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);oe===null&&(B=le),x.baseState=B,x.firstBaseUpdate=Z,x.lastBaseUpdate=oe,_===null&&(x.shared.lanes=0),Po|=P,a.lanes=P,a.memoizedState=le}}function _T(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function ST(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)_T(d[a],l)}var As=$(null),Jf=$(0);function ET(a,l){a=Ui,ce(Jf,a),ce(As,l),Ui=a|l.baseLanes}function Fg(){ce(Jf,Ui),ce(As,As.current)}function Kg(){Ui=Jf.current,W(As),W(Jf)}var Xn=$(null),yr=null;function Eo(a){var l=a.alternate;ce(Rt,Rt.current&1),ce(Xn,a),yr===null&&(l===null||As.current!==null||l.memoizedState!==null)&&(yr=a)}function Wg(a){ce(Rt,Rt.current),ce(Xn,a),yr===null&&(yr=a)}function TT(a){a.tag===22?(ce(Rt,Rt.current),ce(Xn,a),yr===null&&(yr=a)):To()}function To(){ce(Rt,Rt.current),ce(Xn,Xn.current)}function Zn(a){W(Xn),yr===a&&(yr=null),W(Rt)}var Rt=$(0);function Xf(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||ey(d)||ty(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ri=0,De=null,nt=null,kt=null,Zf=!1,Cs=!1,ba=!1,Qf=0,vu=0,Ps=null,c4=0;function St(){throw Error(r(321))}function Yg(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Yn(a[d],l[d]))return!1;return!0}function Jg(a,l,d,m,x,_){return Ri=_,De=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,D.H=a===null||a.memoizedState===null?lA:fv,ba=!1,_=d(m,x),ba=!1,Cs&&(_=CT(l,d,m,x)),AT(a),_}function AT(a){D.H=xu;var l=nt!==null&&nt.next!==null;if(Ri=0,kt=nt=De=null,Zf=!1,vu=0,Ps=null,l)throw Error(r(300));a===null||Dt||(a=a.dependencies,a!==null&&qf(a)&&(Dt=!0))}function CT(a,l,d,m){De=a;var x=0;do{if(Cs&&(Ps=null),vu=0,Cs=!1,25<=x)throw Error(r(301));if(x+=1,kt=nt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}D.H=uA,_=l(d,m)}while(Cs);return _}function f4(){var a=D.H,l=a.useState()[0];return l=typeof l.then=="function"?yu(l):l,a=a.useState()[0],(nt!==null?nt.memoizedState:null)!==a&&(De.flags|=1024),l}function Xg(){var a=Qf!==0;return Qf=0,a}function Zg(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function Qg(a){if(Zf){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Zf=!1}Ri=0,kt=nt=De=null,Cs=!1,vu=Qf=0,Ps=null}function An(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?De.memoizedState=kt=a:kt=kt.next=a,kt}function It(){if(nt===null){var a=De.alternate;a=a!==null?a.memoizedState:null}else a=nt.next;var l=kt===null?De.memoizedState:kt.next;if(l!==null)kt=l,nt=a;else{if(a===null)throw De.alternate===null?Error(r(467)):Error(r(310));nt=a,a={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?De.memoizedState=kt=a:kt=kt.next=a}return kt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(a){var l=vu;return vu+=1,Ps===null&&(Ps=[]),a=vT(Ps,a,l),l=De,(kt===null?l.memoizedState:kt.next)===null&&(l=l.alternate,D.H=l===null||l.memoizedState===null?lA:fv),a}function td(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return yu(a);if(a.$$typeof===N)return un(a)}throw Error(r(438,String(a)))}function ev(a){var l=null,d=De.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=De.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=ed(),De.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=ne;return l.index++,d}function Ii(a,l){return typeof l=="function"?l(a):l}function nd(a){var l=It();return tv(l,nt,a)}function tv(a,l,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var x=a.baseQueue,_=m.pending;if(_!==null){if(x!==null){var P=x.next;x.next=_.next,_.next=P}l.baseQueue=x=_,m.pending=null}if(_=a.baseState,x===null)a.memoizedState=_;else{l=x.next;var k=P=null,B=null,Z=l,oe=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(Be&le)===le:(Ri&le)===le){var Q=Z.revertLane;if(Q===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===_s&&(oe=!0);else if((Ri&Q)===Q){Z=Z.next,Q===_s&&(oe=!0);continue}else le={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(k=B=le,P=_):B=B.next=le,De.lanes|=Q,Po|=Q;le=Z.action,ba&&d(_,le),_=Z.hasEagerState?Z.eagerState:d(_,le)}else Q={lane:le,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(k=B=Q,P=_):B=B.next=Q,De.lanes|=le,Po|=le;Z=Z.next}while(Z!==null&&Z!==l);if(B===null?P=_:B.next=k,!Yn(_,a.memoizedState)&&(Dt=!0,oe&&(d=Ss,d!==null)))throw d;a.memoizedState=_,a.baseState=P,a.baseQueue=B,m.lastRenderedState=_}return x===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function nv(a){var l=It(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,x=d.pending,_=l.memoizedState;if(x!==null){d.pending=null;var P=x=x.next;do _=a(_,P.action),P=P.next;while(P!==x);Yn(_,l.memoizedState)||(Dt=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,m]}function PT(a,l,d){var m=De,x=It(),_=qe;if(_){if(d===void 0)throw Error(r(407));d=d()}else d=l();var P=!Yn((nt||x).memoizedState,d);if(P&&(x.memoizedState=d,Dt=!0),x=x.queue,ov(IT.bind(null,m,x,a),[a]),x.getSnapshot!==l||P||kt!==null&&kt.memoizedState.tag&1){if(m.flags|=2048,Ns(9,{destroy:void 0},RT.bind(null,m,x,d,l),null),lt===null)throw Error(r(349));_||(Ri&127)!==0||NT(m,l,d)}return d}function NT(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=De.updateQueue,l===null?(l=ed(),De.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function RT(a,l,d,m){l.value=d,l.getSnapshot=m,MT(l)&&OT(a)}function IT(a,l,d){return d(function(){MT(l)&&OT(a)})}function MT(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Yn(a,d)}catch{return!0}}function OT(a){var l=ca(a,2);l!==null&&Bn(l,a,2)}function rv(a){var l=An();if(typeof a=="function"){var d=a;if(a=d(),ba){po(!0);try{d()}finally{po(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},l}function kT(a,l,d,m){return a.baseState=d,tv(a,nt,typeof m=="function"?m:Ii)}function d4(a,l,d,m,x){if(od(a))throw Error(r(485));if(a=l.action,a!==null){var _={payload:x,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};D.T!==null?d(!0):_.isTransition=!1,m(_),d=l.pending,d===null?(_.next=l.pending=_,DT(l,_)):(_.next=d.next,l.pending=d.next=_)}}function DT(a,l){var d=l.action,m=l.payload,x=a.state;if(l.isTransition){var _=D.T,P={};D.T=P;try{var k=d(x,m),B=D.S;B!==null&&B(P,k),LT(a,l,k)}catch(Z){iv(a,l,Z)}finally{_!==null&&P.types!==null&&(_.types=P.types),D.T=_}}else try{_=d(x,m),LT(a,l,_)}catch(Z){iv(a,l,Z)}}function LT(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){jT(a,l,m)},function(m){return iv(a,l,m)}):jT(a,l,d)}function jT(a,l,d){l.status="fulfilled",l.value=d,UT(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,DT(a,d)))}function iv(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,UT(l),l=l.next;while(l!==m)}a.action=null}function UT(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function $T(a,l){return l}function zT(a,l){if(qe){var d=lt.formState;if(d!==null){e:{var m=De;if(qe){if(pt){t:{for(var x=pt,_=vr;x.nodeType!==8;){if(!_){x=null;break t}if(x=br(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){pt=br(x.nextSibling),m=x.data==="F!";break e}}bo(m)}m=!1}m&&(l=d[0])}}return d=An(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$T,lastRenderedState:l},d.queue=m,d=oA.bind(null,De,m),m.dispatch=d,m=rv(!1),_=cv.bind(null,De,!1,m.queue),m=An(),x={state:l,dispatch:null,action:a,pending:null},m.queue=x,d=d4.bind(null,De,x,_,d),x.dispatch=d,m.memoizedState=a,[l,d,!1]}function BT(a){var l=It();return VT(l,nt,a)}function VT(a,l,d){if(l=tv(a,l,$T)[0],a=nd(Ii)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=yu(l)}catch(P){throw P===Es?Ff:P}else m=l;l=It();var x=l.queue,_=x.dispatch;return d!==l.memoizedState&&(De.flags|=2048,Ns(9,{destroy:void 0},h4.bind(null,x,d),null)),[m,_,a]}function h4(a,l){a.action=l}function qT(a){var l=It(),d=nt;if(d!==null)return VT(l,d,a);It(),l=l.memoizedState,d=It();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function Ns(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=De.updateQueue,l===null&&(l=ed(),De.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function GT(){return It().memoizedState}function rd(a,l,d,m){var x=An();De.flags|=a,x.memoizedState=Ns(1|l,{destroy:void 0},d,m===void 0?null:m)}function id(a,l,d,m){var x=It();m=m===void 0?null:m;var _=x.memoizedState.inst;nt!==null&&m!==null&&Yg(m,nt.memoizedState.deps)?x.memoizedState=Ns(l,_,d,m):(De.flags|=a,x.memoizedState=Ns(1|l,_,d,m))}function HT(a,l){rd(8390656,8,a,l)}function ov(a,l){id(2048,8,a,l)}function p4(a){De.flags|=4;var l=De.updateQueue;if(l===null)l=ed(),De.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function FT(a){var l=It().memoizedState;return p4({ref:l,nextImpl:a}),function(){if((Ye&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function KT(a,l){return id(4,2,a,l)}function WT(a,l){return id(4,4,a,l)}function YT(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function JT(a,l,d){d=d!=null?d.concat([a]):null,id(4,4,YT.bind(null,l,a),d)}function av(){}function XT(a,l){var d=It();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&Yg(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function ZT(a,l){var d=It();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&Yg(l,m[1]))return m[0];if(m=a(),ba){po(!0);try{a()}finally{po(!1)}}return d.memoizedState=[m,l],m}function sv(a,l,d){return d===void 0||(Ri&1073741824)!==0&&(Be&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=QA(),De.lanes|=a,Po|=a,d)}function QT(a,l,d,m){return Yn(d,l)?d:As.current!==null?(a=sv(a,d,m),Yn(a,l)||(Dt=!0),a):(Ri&42)===0||(Ri&1073741824)!==0&&(Be&261930)===0?(Dt=!0,a.memoizedState=d):(a=QA(),De.lanes|=a,Po|=a,l)}function eA(a,l,d,m,x){var _=z.p;z.p=_!==0&&8>_?_:8;var P=D.T,k={};D.T=k,cv(a,!1,l,d);try{var B=x(),Z=D.S;if(Z!==null&&Z(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=u4(B,m);bu(a,l,oe,tr(a))}else bu(a,l,m,tr(a))}catch(le){bu(a,l,{then:function(){},status:"rejected",reason:le},tr())}finally{z.p=_,P!==null&&k.types!==null&&(P.types=k.types),D.T=P}}function m4(){}function lv(a,l,d,m){if(a.tag!==5)throw Error(r(476));var x=tA(a).queue;eA(a,x,l,F,d===null?m4:function(){return nA(a),d(m)})}function tA(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:F},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function nA(a){var l=tA(a);l.next===null&&(l=a.alternate.memoizedState),bu(a,l.next.queue,{},tr())}function uv(){return un(Lu)}function rA(){return It().memoizedState}function iA(){return It().memoizedState}function g4(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=tr();a=_o(d);var m=So(l,a,d);m!==null&&(Bn(m,l,d),pu(m,l,d)),l={cache:Ug()},a.payload=l;return}l=l.return}}function v4(a,l,d){var m=tr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},od(a)?aA(l,d):(d=Cg(a,l,d,m),d!==null&&(Bn(d,a,m),sA(d,l,m)))}function oA(a,l,d){var m=tr();bu(a,l,d,m)}function bu(a,l,d,m){var x={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(od(a))aA(l,x);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var P=l.lastRenderedState,k=_(P,d);if(x.hasEagerState=!0,x.eagerState=k,Yn(k,P))return $f(a,l,x,0),lt===null&&Uf(),!1}catch{}finally{}if(d=Cg(a,l,x,m),d!==null)return Bn(d,a,m),sA(d,l,m),!0}return!1}function cv(a,l,d,m){if(m={lane:2,revertLane:Vv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},od(a)){if(l)throw Error(r(479))}else l=Cg(a,d,m,2),l!==null&&Bn(l,a,2)}function od(a){var l=a.alternate;return a===De||l!==null&&l===De}function aA(a,l){Cs=Zf=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function sA(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,dE(a,d)}}var xu={readContext:un,use:td,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};xu.useEffectEvent=St;var lA={readContext:un,use:td,useCallback:function(a,l){return An().memoizedState=[a,l===void 0?null:l],a},useContext:un,useEffect:HT,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,rd(4194308,4,YT.bind(null,l,a),d)},useLayoutEffect:function(a,l){return rd(4194308,4,a,l)},useInsertionEffect:function(a,l){rd(4,2,a,l)},useMemo:function(a,l){var d=An();l=l===void 0?null:l;var m=a();if(ba){po(!0);try{a()}finally{po(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=An();if(d!==void 0){var x=d(l);if(ba){po(!0);try{d(l)}finally{po(!1)}}}else x=l;return m.memoizedState=m.baseState=x,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:x},m.queue=a,a=a.dispatch=v4.bind(null,De,a),[m.memoizedState,a]},useRef:function(a){var l=An();return a={current:a},l.memoizedState=a},useState:function(a){a=rv(a);var l=a.queue,d=oA.bind(null,De,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:av,useDeferredValue:function(a,l){var d=An();return sv(d,a,l)},useTransition:function(){var a=rv(!1);return a=eA.bind(null,De,a.queue,!0,!1),An().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=De,x=An();if(qe){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),lt===null)throw Error(r(349));(Be&127)!==0||NT(m,l,d)}x.memoizedState=d;var _={value:d,getSnapshot:l};return x.queue=_,HT(IT.bind(null,m,_,a),[a]),m.flags|=2048,Ns(9,{destroy:void 0},RT.bind(null,m,_,d,l),null),d},useId:function(){var a=An(),l=lt.identifierPrefix;if(qe){var d=ni,m=ti;d=(m&~(1<<32-Wn(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Qf++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=c4++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:uv,useFormState:zT,useActionState:zT,useOptimistic:function(a){var l=An();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=cv.bind(null,De,!0,d),d.dispatch=l,[a,l]},useMemoCache:ev,useCacheRefresh:function(){return An().memoizedState=g4.bind(null,De)},useEffectEvent:function(a){var l=An(),d={impl:a};return l.memoizedState=d,function(){if((Ye&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},fv={readContext:un,use:td,useCallback:XT,useContext:un,useEffect:ov,useImperativeHandle:JT,useInsertionEffect:KT,useLayoutEffect:WT,useMemo:ZT,useReducer:nd,useRef:GT,useState:function(){return nd(Ii)},useDebugValue:av,useDeferredValue:function(a,l){var d=It();return QT(d,nt.memoizedState,a,l)},useTransition:function(){var a=nd(Ii)[0],l=It().memoizedState;return[typeof a=="boolean"?a:yu(a),l]},useSyncExternalStore:PT,useId:rA,useHostTransitionStatus:uv,useFormState:BT,useActionState:BT,useOptimistic:function(a,l){var d=It();return kT(d,nt,a,l)},useMemoCache:ev,useCacheRefresh:iA};fv.useEffectEvent=FT;var uA={readContext:un,use:td,useCallback:XT,useContext:un,useEffect:ov,useImperativeHandle:JT,useInsertionEffect:KT,useLayoutEffect:WT,useMemo:ZT,useReducer:nv,useRef:GT,useState:function(){return nv(Ii)},useDebugValue:av,useDeferredValue:function(a,l){var d=It();return nt===null?sv(d,a,l):QT(d,nt.memoizedState,a,l)},useTransition:function(){var a=nv(Ii)[0],l=It().memoizedState;return[typeof a=="boolean"?a:yu(a),l]},useSyncExternalStore:PT,useId:rA,useHostTransitionStatus:uv,useFormState:qT,useActionState:qT,useOptimistic:function(a,l){var d=It();return nt!==null?kT(d,nt,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:ev,useCacheRefresh:iA};uA.useEffectEvent=FT;function dv(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var hv={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=tr(),x=_o(m);x.payload=l,d!=null&&(x.callback=d),l=So(a,x,m),l!==null&&(Bn(l,a,m),pu(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=tr(),x=_o(m);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=So(a,x,m),l!==null&&(Bn(l,a,m),pu(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=tr(),m=_o(d);m.tag=2,l!=null&&(m.callback=l),l=So(a,m,d),l!==null&&(Bn(l,a,d),pu(l,a,d))}};function cA(a,l,d,m,x,_,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,_,P):l.prototype&&l.prototype.isPureReactComponent?!au(d,m)||!au(x,_):!0}function fA(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&hv.enqueueReplaceState(l,l.state,null)}function xa(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var x in a)d[x]===void 0&&(d[x]=a[x])}return d}function dA(a){jf(a)}function hA(a){console.error(a)}function pA(a){jf(a)}function ad(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function mA(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function pv(a,l,d){return d=_o(d),d.tag=3,d.payload={element:null},d.callback=function(){ad(a,l)},d}function gA(a){return a=_o(a),a.tag=3,a}function vA(a,l,d,m){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var _=m.value;a.payload=function(){return x(_)},a.callback=function(){mA(l,d,m)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){mA(l,d,m),typeof x!="function"&&(No===null?No=new Set([this]):No.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function y4(a,l,d,m,x){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&ws(l,d,x,!0),d=Xn.current,d!==null){switch(d.tag){case 31:case 13:return yr===null?yd():d.alternate===null&&Et===0&&(Et=3),d.flags&=-257,d.flags|=65536,d.lanes=x,m===Kf?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),$v(a,m,x)),!1;case 22:return d.flags|=65536,m===Kf?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),$v(a,m,x)),!1}throw Error(r(435,d.tag))}return $v(a,m,x),yd(),!1}if(qe)return l=Xn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,m!==Og&&(a=Error(r(422),{cause:m}),uu(pr(a,d)))):(m!==Og&&(l=Error(r(423),{cause:m}),uu(pr(l,d))),a=a.current.alternate,a.flags|=65536,x&=-x,a.lanes|=x,m=pr(m,d),x=pv(a.stateNode,m,x),Gg(a,x),Et!==4&&(Et=2)),!1;var _=Error(r(520),{cause:m});if(_=pr(_,d),Pu===null?Pu=[_]:Pu.push(_),Et!==4&&(Et=2),l===null)return!0;m=pr(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=x&-x,d.lanes|=a,a=pv(d.stateNode,m,a),Gg(d,a),!1;case 1:if(l=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(No===null||!No.has(_))))return d.flags|=65536,x&=-x,d.lanes|=x,x=gA(x),vA(x,a,d,m),Gg(d,x),!1}d=d.return}while(d!==null);return!1}var mv=Error(r(461)),Dt=!1;function cn(a,l,d,m){l.child=a===null?wT(l,null,d,m):ya(l,a.child,d,m)}function yA(a,l,d,m,x){d=d.render;var _=l.ref;if("ref"in m){var P={};for(var k in m)k!=="ref"&&(P[k]=m[k])}else P=m;return pa(l),m=Jg(a,l,d,P,_,x),k=Xg(),a!==null&&!Dt?(Zg(a,l,x),Mi(a,l,x)):(qe&&k&&Ig(l),l.flags|=1,cn(a,l,m,x),l.child)}function bA(a,l,d,m,x){if(a===null){var _=d.type;return typeof _=="function"&&!Pg(_)&&_.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=_,xA(a,l,_,m,x)):(a=Bf(d.type,null,m,l,l.mode,x),a.ref=l.ref,a.return=l,l.child=a)}if(_=a.child,!Sv(a,x)){var P=_.memoizedProps;if(d=d.compare,d=d!==null?d:au,d(P,m)&&a.ref===l.ref)return Mi(a,l,x)}return l.flags|=1,a=Ai(_,m),a.ref=l.ref,a.return=l,l.child=a}function xA(a,l,d,m,x){if(a!==null){var _=a.memoizedProps;if(au(_,m)&&a.ref===l.ref)if(Dt=!1,l.pendingProps=m=_,Sv(a,x))(a.flags&131072)!==0&&(Dt=!0);else return l.lanes=a.lanes,Mi(a,l,x)}return gv(a,l,d,m,x)}function wA(a,l,d,m){var x=m.children,_=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(_=_!==null?_.baseLanes|d:d,a!==null){for(m=l.child=a.child,x=0;m!==null;)x=x|m.lanes|m.childLanes,m=m.sibling;m=x&~_}else m=0,l.child=null;return _A(a,l,_,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Hf(l,_!==null?_.cachePool:null),_!==null?ET(l,_):Fg(),TT(l);else return m=l.lanes=536870912,_A(a,l,_!==null?_.baseLanes|d:d,d,m)}else _!==null?(Hf(l,_.cachePool),ET(l,_),To(),l.memoizedState=null):(a!==null&&Hf(l,null),Fg(),To());return cn(a,l,x,d),l.child}function wu(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function _A(a,l,d,m,x){var _=zg();return _=_===null?null:{parent:Ot._currentValue,pool:_},l.memoizedState={baseLanes:d,cachePool:_},a!==null&&Hf(l,null),Fg(),TT(l),a!==null&&ws(a,l,m,!0),l.childLanes=x,null}function sd(a,l){return l=ud({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function SA(a,l,d){return ya(l,a.child,null,d),a=sd(l,l.pendingProps),a.flags|=2,Zn(l),l.memoizedState=null,a}function b4(a,l,d){var m=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(qe){if(m.mode==="hidden")return a=sd(l,m),l.lanes=536870912,wu(null,a);if(Wg(l),(a=pt)?(a=D1(a,vr),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vo!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},d=aT(a),d.return=l,l.child=d,ln=l,pt=null)):a=null,a===null)throw bo(l);return l.lanes=536870912,null}return sd(l,m)}var _=a.memoizedState;if(_!==null){var P=_.dehydrated;if(Wg(l),x)if(l.flags&256)l.flags&=-257,l=SA(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(Dt||ws(a,l,d,!1),x=(d&a.childLanes)!==0,Dt||x){if(m=lt,m!==null&&(P=hE(m,d),P!==0&&P!==_.retryLane))throw _.retryLane=P,ca(a,P),Bn(m,a,P),mv;yd(),l=SA(a,l,d)}else a=_.treeContext,pt=br(P.nextSibling),ln=l,qe=!0,yo=null,vr=!1,a!==null&&uT(l,a),l=sd(l,m),l.flags|=4096;return l}return a=Ai(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function ld(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function gv(a,l,d,m,x){return pa(l),d=Jg(a,l,d,m,void 0,x),m=Xg(),a!==null&&!Dt?(Zg(a,l,x),Mi(a,l,x)):(qe&&m&&Ig(l),l.flags|=1,cn(a,l,d,x),l.child)}function EA(a,l,d,m,x,_){return pa(l),l.updateQueue=null,d=CT(l,m,d,x),AT(a),m=Xg(),a!==null&&!Dt?(Zg(a,l,_),Mi(a,l,_)):(qe&&m&&Ig(l),l.flags|=1,cn(a,l,d,_),l.child)}function TA(a,l,d,m,x){if(pa(l),l.stateNode===null){var _=vs,P=d.contextType;typeof P=="object"&&P!==null&&(_=un(P)),_=new d(m,_),l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=hv,l.stateNode=_,_._reactInternals=l,_=l.stateNode,_.props=m,_.state=l.memoizedState,_.refs={},Vg(l),P=d.contextType,_.context=typeof P=="object"&&P!==null?un(P):vs,_.state=l.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(dv(l,d,P,m),_.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&hv.enqueueReplaceState(_,_.state,null),gu(l,m,_,x),mu(),_.state=l.memoizedState),typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){_=l.stateNode;var k=l.memoizedProps,B=xa(d,k);_.props=B;var Z=_.context,oe=d.contextType;P=vs,typeof oe=="object"&&oe!==null&&(P=un(oe));var le=d.getDerivedStateFromProps;oe=typeof le=="function"||typeof _.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k||Z!==P)&&fA(l,_,m,P),wo=!1;var Q=l.memoizedState;_.state=Q,gu(l,m,_,x),mu(),Z=l.memoizedState,k||Q!==Z||wo?(typeof le=="function"&&(dv(l,d,le,m),Z=l.memoizedState),(B=wo||cA(l,d,B,m,Q,Z,P))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(l.flags|=4194308)):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=Z),_.props=m,_.state=Z,_.context=P,m=B):(typeof _.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{_=l.stateNode,qg(a,l),P=l.memoizedProps,oe=xa(d,P),_.props=oe,le=l.pendingProps,Q=_.context,Z=d.contextType,B=vs,typeof Z=="object"&&Z!==null&&(B=un(Z)),k=d.getDerivedStateFromProps,(Z=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==le||Q!==B)&&fA(l,_,m,B),wo=!1,Q=l.memoizedState,_.state=Q,gu(l,m,_,x),mu();var re=l.memoizedState;P!==le||Q!==re||wo||a!==null&&a.dependencies!==null&&qf(a.dependencies)?(typeof k=="function"&&(dv(l,d,k,m),re=l.memoizedState),(oe=wo||cA(l,d,oe,m,Q,re,B)||a!==null&&a.dependencies!==null&&qf(a.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,re,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,re,B)),typeof _.componentDidUpdate=="function"&&(l.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===a.memoizedProps&&Q===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Q===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=re),_.props=m,_.state=re,_.context=B,m=oe):(typeof _.componentDidUpdate!="function"||P===a.memoizedProps&&Q===a.memoizedState||(l.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Q===a.memoizedState||(l.flags|=1024),m=!1)}return _=m,ld(a,l),m=(l.flags&128)!==0,_||m?(_=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:_.render(),l.flags|=1,a!==null&&m?(l.child=ya(l,a.child,null,x),l.child=ya(l,null,d,x)):cn(a,l,d,x),l.memoizedState=_.state,a=l.child):a=Mi(a,l,x),a}function AA(a,l,d,m){return da(),l.flags|=256,cn(a,l,d,m),l.child}var vv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yv(a){return{baseLanes:a,cachePool:mT()}}function bv(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=er),a}function CA(a,l,d){var m=l.pendingProps,x=!1,_=(l.flags&128)!==0,P;if((P=_)||(P=a!==null&&a.memoizedState===null?!1:(Rt.current&2)!==0),P&&(x=!0,l.flags&=-129),P=(l.flags&32)!==0,l.flags&=-33,a===null){if(qe){if(x?Eo(l):To(),(a=pt)?(a=D1(a,vr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:vo!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},d=aT(a),d.return=l,l.child=d,ln=l,pt=null)):a=null,a===null)throw bo(l);return ty(a)?l.lanes=32:l.lanes=536870912,null}var k=m.children;return m=m.fallback,x?(To(),x=l.mode,k=ud({mode:"hidden",children:k},x),m=fa(m,x,d,null),k.return=l,m.return=l,k.sibling=m,l.child=k,m=l.child,m.memoizedState=yv(d),m.childLanes=bv(a,P,d),l.memoizedState=vv,wu(null,m)):(Eo(l),xv(l,k))}var B=a.memoizedState;if(B!==null&&(k=B.dehydrated,k!==null)){if(_)l.flags&256?(Eo(l),l.flags&=-257,l=wv(a,l,d)):l.memoizedState!==null?(To(),l.child=a.child,l.flags|=128,l=null):(To(),k=m.fallback,x=l.mode,m=ud({mode:"visible",children:m.children},x),k=fa(k,x,d,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,ya(l,a.child,null,d),m=l.child,m.memoizedState=yv(d),m.childLanes=bv(a,P,d),l.memoizedState=vv,l=wu(null,m));else if(Eo(l),ty(k)){if(P=k.nextSibling&&k.nextSibling.dataset,P)var Z=P.dgst;P=Z,m=Error(r(419)),m.stack="",m.digest=P,uu({value:m,source:null,stack:null}),l=wv(a,l,d)}else if(Dt||ws(a,l,d,!1),P=(d&a.childLanes)!==0,Dt||P){if(P=lt,P!==null&&(m=hE(P,d),m!==0&&m!==B.retryLane))throw B.retryLane=m,ca(a,m),Bn(P,a,m),mv;ey(k)||yd(),l=wv(a,l,d)}else ey(k)?(l.flags|=192,l.child=a.child,l=null):(a=B.treeContext,pt=br(k.nextSibling),ln=l,qe=!0,yo=null,vr=!1,a!==null&&uT(l,a),l=xv(l,m.children),l.flags|=4096);return l}return x?(To(),k=m.fallback,x=l.mode,B=a.child,Z=B.sibling,m=Ai(B,{mode:"hidden",children:m.children}),m.subtreeFlags=B.subtreeFlags&65011712,Z!==null?k=Ai(Z,k):(k=fa(k,x,d,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,wu(null,m),m=l.child,k=a.child.memoizedState,k===null?k=yv(d):(x=k.cachePool,x!==null?(B=Ot._currentValue,x=x.parent!==B?{parent:B,pool:B}:x):x=mT(),k={baseLanes:k.baseLanes|d,cachePool:x}),m.memoizedState=k,m.childLanes=bv(a,P,d),l.memoizedState=vv,wu(a.child,m)):(Eo(l),d=a.child,a=d.sibling,d=Ai(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(P=l.deletions,P===null?(l.deletions=[a],l.flags|=16):P.push(a)),l.child=d,l.memoizedState=null,d)}function xv(a,l){return l=ud({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function ud(a,l){return a=Jn(22,a,null,l),a.lanes=0,a}function wv(a,l,d){return ya(l,a.child,null,d),a=xv(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function PA(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Lg(a.return,l,d)}function _v(a,l,d,m,x,_){var P=a.memoizedState;P===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x,treeForkCount:_}:(P.isBackwards=l,P.rendering=null,P.renderingStartTime=0,P.last=m,P.tail=d,P.tailMode=x,P.treeForkCount=_)}function NA(a,l,d){var m=l.pendingProps,x=m.revealOrder,_=m.tail;m=m.children;var P=Rt.current,k=(P&2)!==0;if(k?(P=P&1|2,l.flags|=128):P&=1,ce(Rt,P),cn(a,l,m,d),m=qe?lu:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&PA(a,d,l);else if(a.tag===19)PA(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(x){case"forwards":for(d=l.child,x=null;d!==null;)a=d.alternate,a!==null&&Xf(a)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),_v(l,!1,x,d,_,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(a=x.alternate,a!==null&&Xf(a)===null){l.child=x;break}a=x.sibling,x.sibling=d,d=x,x=a}_v(l,!0,d,null,_,m);break;case"together":_v(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Mi(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Po|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(ws(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,d=Ai(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Ai(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Sv(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&qf(a)))}function x4(a,l,d){switch(l.tag){case 3:ye(l,l.stateNode.containerInfo),xo(l,Ot,a.memoizedState.cache),da();break;case 27:case 5:Ae(l);break;case 4:ye(l,l.stateNode.containerInfo);break;case 10:xo(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Wg(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Eo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?CA(a,l,d):(Eo(l),a=Mi(a,l,d),a!==null?a.sibling:null);Eo(l);break;case 19:var x=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(ws(a,l,d,!1),m=(d&l.childLanes)!==0),x){if(m)return NA(a,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ce(Rt,Rt.current),m)break;return null;case 22:return l.lanes=0,wA(a,l,d,l.pendingProps);case 24:xo(l,Ot,a.memoizedState.cache)}return Mi(a,l,d)}function RA(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Dt=!0;else{if(!Sv(a,d)&&(l.flags&128)===0)return Dt=!1,x4(a,l,d);Dt=(a.flags&131072)!==0}else Dt=!1,qe&&(l.flags&1048576)!==0&&lT(l,lu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=ga(l.elementType),l.type=a,typeof a=="function")Pg(a)?(m=xa(a,m),l.tag=1,l=TA(null,l,a,m,d)):(l.tag=0,l=gv(null,l,a,m,d));else{if(a!=null){var x=a.$$typeof;if(x===I){l.tag=11,l=yA(null,l,a,m,d);break e}else if(x===U){l.tag=14,l=bA(null,l,a,m,d);break e}}throw l=H(a)||a,Error(r(306,l,""))}}return l;case 0:return gv(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,x=xa(m,l.pendingProps),TA(a,l,m,x,d);case 3:e:{if(ye(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var _=l.memoizedState;x=_.element,qg(a,l),gu(l,m,null,d);var P=l.memoizedState;if(m=P.cache,xo(l,Ot,m),m!==_.cache&&jg(l,[Ot],d,!0),mu(),m=P.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:P.cache},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){l=AA(a,l,m,d);break e}else if(m!==x){x=pr(Error(r(424)),l),uu(x),l=AA(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pt=br(a.firstChild),ln=l,qe=!0,yo=null,vr=!0,d=wT(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(da(),m===x){l=Mi(a,l,d);break e}cn(a,l,m,d)}l=l.child}return l;case 26:return ld(a,l),a===null?(d=B1(l.type,null,l.pendingProps,null))?l.memoizedState=d:qe||(d=l.type,a=l.pendingProps,m=Td(pe.current).createElement(d),m[sn]=l,m[Dn]=a,fn(m,d,a),Wt(m),l.stateNode=m):l.memoizedState=B1(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Ae(l),a===null&&qe&&(m=l.stateNode=U1(l.type,l.pendingProps,pe.current),ln=l,vr=!0,x=pt,Oo(l.type)?(ny=x,pt=br(m.firstChild)):pt=x),cn(a,l,l.pendingProps.children,d),ld(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&qe&&((x=m=pt)&&(m=J4(m,l.type,l.pendingProps,vr),m!==null?(l.stateNode=m,ln=l,pt=br(m.firstChild),vr=!1,x=!0):x=!1),x||bo(l)),Ae(l),x=l.type,_=l.pendingProps,P=a!==null?a.memoizedProps:null,m=_.children,Xv(x,_)?m=null:P!==null&&Xv(x,P)&&(l.flags|=32),l.memoizedState!==null&&(x=Jg(a,l,f4,null,null,d),Lu._currentValue=x),ld(a,l),cn(a,l,m,d),l.child;case 6:return a===null&&qe&&((a=d=pt)&&(d=X4(d,l.pendingProps,vr),d!==null?(l.stateNode=d,ln=l,pt=null,a=!0):a=!1),a||bo(l)),null;case 13:return CA(a,l,d);case 4:return ye(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=ya(l,null,m,d):cn(a,l,m,d),l.child;case 11:return yA(a,l,l.type,l.pendingProps,d);case 7:return cn(a,l,l.pendingProps,d),l.child;case 8:return cn(a,l,l.pendingProps.children,d),l.child;case 12:return cn(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,xo(l,l.type,m.value),cn(a,l,m.children,d),l.child;case 9:return x=l.type._context,m=l.pendingProps.children,pa(l),x=un(x),m=m(x),l.flags|=1,cn(a,l,m,d),l.child;case 14:return bA(a,l,l.type,l.pendingProps,d);case 15:return xA(a,l,l.type,l.pendingProps,d);case 19:return NA(a,l,d);case 31:return b4(a,l,d);case 22:return wA(a,l,d,l.pendingProps);case 24:return pa(l),m=un(Ot),a===null?(x=zg(),x===null&&(x=lt,_=Ug(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=d),x=_),l.memoizedState={parent:m,cache:x},Vg(l),xo(l,Ot,x)):((a.lanes&d)!==0&&(qg(a,l),gu(l,null,null,d),mu()),x=a.memoizedState,_=l.memoizedState,x.parent!==m?(x={parent:m,cache:m},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),xo(l,Ot,m)):(m=_.cache,xo(l,Ot,m),m!==x.cache&&jg(l,[Ot],d,!0))),cn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Oi(a){a.flags|=4}function Ev(a,l,d,m,x){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(x&335544128)===x)if(a.stateNode.complete)a.flags|=8192;else if(r1())a.flags|=8192;else throw va=Kf,Bg}else a.flags&=-16777217}function IA(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!F1(l))if(r1())a.flags|=8192;else throw va=Kf,Bg}function cd(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?cE():536870912,a.lanes|=l,Os|=l)}function _u(a,l){if(!qe)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function mt(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var x=a.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&65011712,m|=x.flags&65011712,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function w4(a,l,d){var m=l.pendingProps;switch(Mg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(l),null;case 1:return mt(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ni(Ot),ee(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(xs(l)?Oi(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,kg())),mt(l),null;case 26:var x=l.type,_=l.memoizedState;return a===null?(Oi(l),_!==null?(mt(l),IA(l,_)):(mt(l),Ev(l,x,null,m,d))):_?_!==a.memoizedState?(Oi(l),mt(l),IA(l,_)):(mt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&Oi(l),mt(l),Ev(l,x,a,m,d)),null;case 27:if(Ee(l),d=pe.current,x=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Oi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return mt(l),null}a=ue.current,xs(l)?cT(l):(a=U1(x,m,d),l.stateNode=a,Oi(l))}return mt(l),null;case 5:if(Ee(l),x=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Oi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return mt(l),null}if(_=ue.current,xs(l))cT(l);else{var P=Td(pe.current);switch(_){case 1:_=P.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=P.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=P.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=P.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof m.is=="string"?P.createElement("select",{is:m.is}):P.createElement("select"),m.multiple?_.multiple=!0:m.size&&(_.size=m.size);break;default:_=typeof m.is=="string"?P.createElement(x,{is:m.is}):P.createElement(x)}}_[sn]=l,_[Dn]=m;e:for(P=l.child;P!==null;){if(P.tag===5||P.tag===6)_.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===l)break e;for(;P.sibling===null;){if(P.return===null||P.return===l)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}l.stateNode=_;e:switch(fn(_,x,m),x){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Oi(l)}}return mt(l),Ev(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&Oi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=pe.current,xs(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,x=ln,x!==null)switch(x.tag){case 27:case 5:m=x.memoizedProps}a[sn]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||C1(a.nodeValue,d)),a||bo(l,!0)}else a=Td(a).createTextNode(m),a[sn]=l,l.stateNode=a}return mt(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=xs(l),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[sn]=l}else da(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mt(l),a=!1}else d=kg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(Zn(l),l):(Zn(l),null);if((l.flags&128)!==0)throw Error(r(558))}return mt(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(x=xs(l),m!==null&&m.dehydrated!==null){if(a===null){if(!x)throw Error(r(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[sn]=l}else da(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mt(l),x=!1}else x=kg(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(Zn(l),l):(Zn(l),null)}return Zn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,x=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(x=m.alternate.memoizedState.cachePool.pool),_=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(_=m.memoizedState.cachePool.pool),_!==x&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),cd(l,l.updateQueue),mt(l),null);case 4:return ee(),a===null&&Fv(l.stateNode.containerInfo),mt(l),null;case 10:return Ni(l.type),mt(l),null;case 19:if(W(Rt),m=l.memoizedState,m===null)return mt(l),null;if(x=(l.flags&128)!==0,_=m.rendering,_===null)if(x)_u(m,!1);else{if(Et!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(_=Xf(a),_!==null){for(l.flags|=128,_u(m,!1),a=_.updateQueue,l.updateQueue=a,cd(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)oT(d,a),d=d.sibling;return ce(Rt,Rt.current&1|2),qe&&Ci(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&Fn()>md&&(l.flags|=128,x=!0,_u(m,!1),l.lanes=4194304)}else{if(!x)if(a=Xf(_),a!==null){if(l.flags|=128,x=!0,a=a.updateQueue,l.updateQueue=a,cd(l,a),_u(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!qe)return mt(l),null}else 2*Fn()-m.renderingStartTime>md&&d!==536870912&&(l.flags|=128,x=!0,_u(m,!1),l.lanes=4194304);m.isBackwards?(_.sibling=l.child,l.child=_):(a=m.last,a!==null?a.sibling=_:l.child=_,m.last=_)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Fn(),a.sibling=null,d=Rt.current,ce(Rt,x?d&1|2:d&1),qe&&Ci(l,m.treeForkCount),a):(mt(l),null);case 22:case 23:return Zn(l),Kg(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(mt(l),l.subtreeFlags&6&&(l.flags|=8192)):mt(l),d=l.updateQueue,d!==null&&cd(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&W(ma),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Ni(Ot),mt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function _4(a,l){switch(Mg(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ni(Ot),ee(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ee(l),null;case 31:if(l.memoizedState!==null){if(Zn(l),l.alternate===null)throw Error(r(340));da()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Zn(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));da()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return W(Rt),null;case 4:return ee(),null;case 10:return Ni(l.type),null;case 22:case 23:return Zn(l),Kg(),a!==null&&W(ma),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Ni(Ot),null;case 25:return null;default:return null}}function MA(a,l){switch(Mg(l),l.tag){case 3:Ni(Ot),ee();break;case 26:case 27:case 5:Ee(l);break;case 4:ee();break;case 31:l.memoizedState!==null&&Zn(l);break;case 13:Zn(l);break;case 19:W(Rt);break;case 10:Ni(l.type);break;case 22:case 23:Zn(l),Kg(),a!==null&&W(ma);break;case 24:Ni(Ot)}}function Su(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&a)===a){m=void 0;var _=d.create,P=d.inst;m=_(),P.destroy=m}d=d.next}while(d!==x)}}catch(k){Ze(l,l.return,k)}}function Ao(a,l,d){try{var m=l.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var _=x.next;m=_;do{if((m.tag&a)===a){var P=m.inst,k=P.destroy;if(k!==void 0){P.destroy=void 0,x=l;var B=d,Z=k;try{Z()}catch(oe){Ze(x,B,oe)}}}m=m.next}while(m!==_)}}catch(oe){Ze(l,l.return,oe)}}function OA(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{ST(l,d)}catch(m){Ze(a,a.return,m)}}}function kA(a,l,d){d.props=xa(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Ze(a,l,m)}}function Eu(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(x){Ze(a,l,x)}}function ri(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(x){Ze(a,l,x)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ze(a,l,x)}else d.current=null}function DA(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(x){Ze(a,a.return,x)}}function Tv(a,l,d){try{var m=a.stateNode;G4(m,a.type,d,l),m[Dn]=l}catch(x){Ze(a,a.return,x)}}function LA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Oo(a.type)||a.tag===4}function Av(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||LA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Oo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Cv(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ei));else if(m!==4&&(m===27&&Oo(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(Cv(a,l,d),a=a.sibling;a!==null;)Cv(a,l,d),a=a.sibling}function fd(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&Oo(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(fd(a,l,d),a=a.sibling;a!==null;)fd(a,l,d),a=a.sibling}function jA(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);fn(l,m,d),l[sn]=a,l[Dn]=d}catch(_){Ze(a,a.return,_)}}var ki=!1,Lt=!1,Pv=!1,UA=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function S4(a,l){if(a=a.containerInfo,Yv=Md,a=JE(a),wg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var P=0,k=-1,B=-1,Z=0,oe=0,le=a,Q=null;t:for(;;){for(var re;le!==d||x!==0&&le.nodeType!==3||(k=P+x),le!==_||m!==0&&le.nodeType!==3||(B=P+m),le.nodeType===3&&(P+=le.nodeValue.length),(re=le.firstChild)!==null;)Q=le,le=re;for(;;){if(le===a)break t;if(Q===d&&++Z===x&&(k=P),Q===_&&++oe===m&&(B=P),(re=le.nextSibling)!==null)break;le=Q,Q=le.parentNode}le=re}d=k===-1||B===-1?null:{start:k,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jv={focusedElem:a,selectionRange:d},Md=!1,Yt=l;Yt!==null;)if(l=Yt,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Yt=a;else for(;Yt!==null;){switch(l=Yt,_=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)x=a[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,d=l,x=_.memoizedProps,_=_.memoizedState,m=d.stateNode;try{var xe=xa(d.type,x);a=m.getSnapshotBeforeUpdate(xe,_),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){Ze(d,d.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)Qv(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Qv(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Yt=a;break}Yt=l.return}}function $A(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Li(a,d),m&4&&Su(5,d);break;case 1:if(Li(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(P){Ze(d,d.return,P)}else{var x=xa(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(x,l,a.__reactInternalSnapshotBeforeUpdate)}catch(P){Ze(d,d.return,P)}}m&64&&OA(d),m&512&&Eu(d,d.return);break;case 3:if(Li(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{ST(a,l)}catch(P){Ze(d,d.return,P)}}break;case 27:l===null&&m&4&&jA(d);case 26:case 5:Li(a,d),l===null&&m&4&&DA(d),m&512&&Eu(d,d.return);break;case 12:Li(a,d);break;case 31:Li(a,d),m&4&&VA(a,d);break;case 13:Li(a,d),m&4&&qA(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=M4.bind(null,d),Z4(a,d))));break;case 22:if(m=d.memoizedState!==null||ki,!m){l=l!==null&&l.memoizedState!==null||Lt,x=ki;var _=Lt;ki=m,(Lt=l)&&!_?ji(a,d,(d.subtreeFlags&8772)!==0):Li(a,d),ki=x,Lt=_}break;case 30:break;default:Li(a,d)}}function zA(a){var l=a.alternate;l!==null&&(a.alternate=null,zA(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&ig(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vt=null,jn=!1;function Di(a,l,d){for(d=d.child;d!==null;)BA(a,l,d),d=d.sibling}function BA(a,l,d){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Wl,d)}catch{}switch(d.tag){case 26:Lt||ri(d,l),Di(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Lt||ri(d,l);var m=vt,x=jn;Oo(d.type)&&(vt=d.stateNode,jn=!1),Di(a,l,d),Ou(d.stateNode),vt=m,jn=x;break;case 5:Lt||ri(d,l);case 6:if(m=vt,x=jn,vt=null,Di(a,l,d),vt=m,jn=x,vt!==null)if(jn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(d.stateNode)}catch(_){Ze(d,l,_)}else try{vt.removeChild(d.stateNode)}catch(_){Ze(d,l,_)}break;case 18:vt!==null&&(jn?(a=vt,O1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Bs(a)):O1(vt,d.stateNode));break;case 4:m=vt,x=jn,vt=d.stateNode.containerInfo,jn=!0,Di(a,l,d),vt=m,jn=x;break;case 0:case 11:case 14:case 15:Ao(2,d,l),Lt||Ao(4,d,l),Di(a,l,d);break;case 1:Lt||(ri(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&kA(d,l,m)),Di(a,l,d);break;case 21:Di(a,l,d);break;case 22:Lt=(m=Lt)||d.memoizedState!==null,Di(a,l,d),Lt=m;break;default:Di(a,l,d)}}function VA(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Bs(a)}catch(d){Ze(l,l.return,d)}}}function qA(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Bs(a)}catch(d){Ze(l,l.return,d)}}function E4(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new UA),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new UA),l;default:throw Error(r(435,a.tag))}}function dd(a,l){var d=E4(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var x=O4.bind(null,a,m);m.then(x,x)}})}function Un(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m],_=a,P=l,k=P;e:for(;k!==null;){switch(k.tag){case 27:if(Oo(k.type)){vt=k.stateNode,jn=!1;break e}break;case 5:vt=k.stateNode,jn=!1;break e;case 3:case 4:vt=k.stateNode.containerInfo,jn=!0;break e}k=k.return}if(vt===null)throw Error(r(160));BA(_,P,x),vt=null,jn=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)GA(l,a),l=l.sibling}var Mr=null;function GA(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Un(l,a),$n(a),m&4&&(Ao(3,a,a.return),Su(3,a),Ao(5,a,a.return));break;case 1:Un(l,a),$n(a),m&512&&(Lt||d===null||ri(d,d.return)),m&64&&ki&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var x=Mr;if(Un(l,a),$n(a),m&512&&(Lt||d===null||ri(d,d.return)),m&4){var _=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,x=x.ownerDocument||x;t:switch(m){case"title":_=x.getElementsByTagName("title")[0],(!_||_[Xl]||_[sn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(m),x.head.insertBefore(_,x.querySelector("head > title"))),fn(_,m,d),_[sn]=a,Wt(_),m=_;break e;case"link":var P=G1("link","href",x).get(m+(d.href||""));if(P){for(var k=0;k<P.length;k++)if(_=P[k],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(k,1);break t}}_=x.createElement(m),fn(_,m,d),x.head.appendChild(_);break;case"meta":if(P=G1("meta","content",x).get(m+(d.content||""))){for(k=0;k<P.length;k++)if(_=P[k],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(k,1);break t}}_=x.createElement(m),fn(_,m,d),x.head.appendChild(_);break;default:throw Error(r(468,m))}_[sn]=a,Wt(_),m=_}a.stateNode=m}else H1(x,a.type,a.stateNode);else a.stateNode=q1(x,m,a.memoizedProps);else _!==m?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,m===null?H1(x,a.type,a.stateNode):q1(x,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Tv(a,a.memoizedProps,d.memoizedProps)}break;case 27:Un(l,a),$n(a),m&512&&(Lt||d===null||ri(d,d.return)),d!==null&&m&4&&Tv(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Un(l,a),$n(a),m&512&&(Lt||d===null||ri(d,d.return)),a.flags&32){x=a.stateNode;try{cs(x,"")}catch(xe){Ze(a,a.return,xe)}}m&4&&a.stateNode!=null&&(x=a.memoizedProps,Tv(a,x,d!==null?d.memoizedProps:x)),m&1024&&(Pv=!0);break;case 6:if(Un(l,a),$n(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(xe){Ze(a,a.return,xe)}}break;case 3:if(Pd=null,x=Mr,Mr=Ad(l.containerInfo),Un(l,a),Mr=x,$n(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Bs(l.containerInfo)}catch(xe){Ze(a,a.return,xe)}Pv&&(Pv=!1,HA(a));break;case 4:m=Mr,Mr=Ad(a.stateNode.containerInfo),Un(l,a),$n(a),Mr=m;break;case 12:Un(l,a),$n(a);break;case 31:Un(l,a),$n(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,dd(a,m)));break;case 13:Un(l,a),$n(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pd=Fn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,dd(a,m)));break;case 22:x=a.memoizedState!==null;var B=d!==null&&d.memoizedState!==null,Z=ki,oe=Lt;if(ki=Z||x,Lt=oe||B,Un(l,a),Lt=oe,ki=Z,$n(a),m&8192)e:for(l=a.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(d===null||B||ki||Lt||wa(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){B=d=l;try{if(_=B.stateNode,x)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{k=B.stateNode;var le=B.memoizedProps.style,Q=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(xe){Ze(B,B.return,xe)}}}else if(l.tag===6){if(d===null){B=l;try{B.stateNode.nodeValue=x?"":B.memoizedProps}catch(xe){Ze(B,B.return,xe)}}}else if(l.tag===18){if(d===null){B=l;try{var re=B.stateNode;x?k1(re,!0):k1(B.stateNode,!1)}catch(xe){Ze(B,B.return,xe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,dd(a,d))));break;case 19:Un(l,a),$n(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,dd(a,m)));break;case 30:break;case 21:break;default:Un(l,a),$n(a)}}function $n(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(LA(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var x=d.stateNode,_=Av(a);fd(a,_,x);break;case 5:var P=d.stateNode;d.flags&32&&(cs(P,""),d.flags&=-33);var k=Av(a);fd(a,k,P);break;case 3:case 4:var B=d.stateNode.containerInfo,Z=Av(a);Cv(a,Z,B);break;default:throw Error(r(161))}}catch(oe){Ze(a,a.return,oe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function HA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;HA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Li(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)$A(a,l.alternate,l),l=l.sibling}function wa(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ao(4,l,l.return),wa(l);break;case 1:ri(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&kA(l,l.return,d),wa(l);break;case 27:Ou(l.stateNode);case 26:case 5:ri(l,l.return),wa(l);break;case 22:l.memoizedState===null&&wa(l);break;case 30:wa(l);break;default:wa(l)}a=a.sibling}}function ji(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,x=a,_=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:ji(x,_,d),Su(4,_);break;case 1:if(ji(x,_,d),m=_,x=m.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Z){Ze(m,m.return,Z)}if(m=_,x=m.updateQueue,x!==null){var k=m.stateNode;try{var B=x.shared.hiddenCallbacks;if(B!==null)for(x.shared.hiddenCallbacks=null,x=0;x<B.length;x++)_T(B[x],k)}catch(Z){Ze(m,m.return,Z)}}d&&P&64&&OA(_),Eu(_,_.return);break;case 27:jA(_);case 26:case 5:ji(x,_,d),d&&m===null&&P&4&&DA(_),Eu(_,_.return);break;case 12:ji(x,_,d);break;case 31:ji(x,_,d),d&&P&4&&VA(x,_);break;case 13:ji(x,_,d),d&&P&4&&qA(x,_);break;case 22:_.memoizedState===null&&ji(x,_,d),Eu(_,_.return);break;case 30:break;default:ji(x,_,d)}l=l.sibling}}function Nv(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&cu(d))}function Rv(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&cu(a))}function Or(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)FA(a,l,d,m),l=l.sibling}function FA(a,l,d,m){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Or(a,l,d,m),x&2048&&Su(9,l);break;case 1:Or(a,l,d,m);break;case 3:Or(a,l,d,m),x&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&cu(a)));break;case 12:if(x&2048){Or(a,l,d,m),a=l.stateNode;try{var _=l.memoizedProps,P=_.id,k=_.onPostCommit;typeof k=="function"&&k(P,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){Ze(l,l.return,B)}}else Or(a,l,d,m);break;case 31:Or(a,l,d,m);break;case 13:Or(a,l,d,m);break;case 23:break;case 22:_=l.stateNode,P=l.alternate,l.memoizedState!==null?_._visibility&2?Or(a,l,d,m):Tu(a,l):_._visibility&2?Or(a,l,d,m):(_._visibility|=2,Rs(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),x&2048&&Nv(P,l);break;case 24:Or(a,l,d,m),x&2048&&Rv(l.alternate,l);break;default:Or(a,l,d,m)}}function Rs(a,l,d,m,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var _=a,P=l,k=d,B=m,Z=P.flags;switch(P.tag){case 0:case 11:case 15:Rs(_,P,k,B,x),Su(8,P);break;case 23:break;case 22:var oe=P.stateNode;P.memoizedState!==null?oe._visibility&2?Rs(_,P,k,B,x):Tu(_,P):(oe._visibility|=2,Rs(_,P,k,B,x)),x&&Z&2048&&Nv(P.alternate,P);break;case 24:Rs(_,P,k,B,x),x&&Z&2048&&Rv(P.alternate,P);break;default:Rs(_,P,k,B,x)}l=l.sibling}}function Tu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,x=m.flags;switch(m.tag){case 22:Tu(d,m),x&2048&&Nv(m.alternate,m);break;case 24:Tu(d,m),x&2048&&Rv(m.alternate,m);break;default:Tu(d,m)}l=l.sibling}}var Au=8192;function Is(a,l,d){if(a.subtreeFlags&Au)for(a=a.child;a!==null;)KA(a,l,d),a=a.sibling}function KA(a,l,d){switch(a.tag){case 26:Is(a,l,d),a.flags&Au&&a.memoizedState!==null&&cV(d,Mr,a.memoizedState,a.memoizedProps);break;case 5:Is(a,l,d);break;case 3:case 4:var m=Mr;Mr=Ad(a.stateNode.containerInfo),Is(a,l,d),Mr=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Au,Au=16777216,Is(a,l,d),Au=m):Is(a,l,d));break;default:Is(a,l,d)}}function WA(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Cu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Yt=m,JA(m,a)}WA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)YA(a),a=a.sibling}function YA(a){switch(a.tag){case 0:case 11:case 15:Cu(a),a.flags&2048&&Ao(9,a,a.return);break;case 3:Cu(a);break;case 12:Cu(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,hd(a)):Cu(a);break;default:Cu(a)}}function hd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];Yt=m,JA(m,a)}WA(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ao(8,l,l.return),hd(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,hd(l));break;default:hd(l)}a=a.sibling}}function JA(a,l){for(;Yt!==null;){var d=Yt;switch(d.tag){case 0:case 11:case 15:Ao(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:cu(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Yt=m;else e:for(d=a;Yt!==null;){m=Yt;var x=m.sibling,_=m.return;if(zA(m),m===d){Yt=null;break e}if(x!==null){x.return=_,Yt=x;break e}Yt=_}}}var T4={getCacheForType:function(a){var l=un(Ot),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return un(Ot).controller.signal}},A4=typeof WeakMap=="function"?WeakMap:Map,Ye=0,lt=null,Ue=null,Be=0,Xe=0,Qn=null,Co=!1,Ms=!1,Iv=!1,Ui=0,Et=0,Po=0,_a=0,Mv=0,er=0,Os=0,Pu=null,zn=null,Ov=!1,pd=0,XA=0,md=1/0,gd=null,No=null,zt=0,Ro=null,ks=null,$i=0,kv=0,Dv=null,ZA=null,Nu=0,Lv=null;function tr(){return(Ye&2)!==0&&Be!==0?Be&-Be:D.T!==null?Vv():pE()}function QA(){if(er===0)if((Be&536870912)===0||qe){var a=Ef;Ef<<=1,(Ef&3932160)===0&&(Ef=262144),er=a}else er=536870912;return a=Xn.current,a!==null&&(a.flags|=32),er}function Bn(a,l,d){(a===lt&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)&&(Ds(a,0),Io(a,Be,er,!1)),Jl(a,d),((Ye&2)===0||a!==lt)&&(a===lt&&((Ye&2)===0&&(_a|=d),Et===4&&Io(a,Be,er,!1)),ii(a))}function e1(a,l,d){if((Ye&6)!==0)throw Error(r(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||Yl(a,l),x=m?N4(a,l):Uv(a,l,!0),_=m;do{if(x===0){Ms&&!m&&Io(a,l,0,!1);break}else{if(d=a.current.alternate,_&&!C4(d)){x=Uv(a,l,!1),_=!1;continue}if(x===2){if(_=l,a.errorRecoveryDisabledLanes&_)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){l=P;e:{var k=a;x=Pu;var B=k.current.memoizedState.isDehydrated;if(B&&(Ds(k,P).flags|=256),P=Uv(k,P,!1),P!==2){if(Iv&&!B){k.errorRecoveryDisabledLanes|=_,_a|=_,x=4;break e}_=zn,zn=x,_!==null&&(zn===null?zn=_:zn.push.apply(zn,_))}x=P}if(_=!1,x!==2)continue}}if(x===1){Ds(a,0),Io(a,l,0,!0);break}e:{switch(m=a,_=x,_){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Io(m,l,er,!Co);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(x=pd+300-Fn(),10<x)){if(Io(m,l,er,!Co),Af(m,0,!0)!==0)break e;$i=l,m.timeoutHandle=I1(t1.bind(null,m,d,zn,gd,Ov,l,er,_a,Os,Co,_,"Throttled",-0,0),x);break e}t1(m,d,zn,gd,Ov,l,er,_a,Os,Co,_,null,-0,0)}}break}while(!0);ii(a)}function t1(a,l,d,m,x,_,P,k,B,Z,oe,le,Q,re){if(a.timeoutHandle=-1,le=l.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},KA(l,_,le);var xe=(_&62914560)===_?pd-Fn():(_&4194048)===_?XA-Fn():0;if(xe=fV(le,xe),xe!==null){$i=_,a.cancelPendingCommit=xe(u1.bind(null,a,l,_,d,m,x,P,k,B,oe,le,null,Q,re)),Io(a,_,P,!Z);return}}u1(a,l,_,d,m,x,P,k,B)}function C4(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var x=d[m],_=x.getSnapshot;x=x.value;try{if(!Yn(_(),x))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Io(a,l,d,m){l&=~Mv,l&=~_a,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var x=l;0<x;){var _=31-Wn(x),P=1<<_;m[_]=-1,x&=~P}d!==0&&fE(a,d,l)}function vd(){return(Ye&6)===0?(Ru(0),!1):!0}function jv(){if(Ue!==null){if(Xe===0)var a=Ue.return;else a=Ue,Pi=ha=null,Qg(a),Ts=null,du=0,a=Ue;for(;a!==null;)MA(a.alternate,a),a=a.return;Ue=null}}function Ds(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,K4(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),$i=0,jv(),lt=a,Ue=d=Ai(a.current,null),Be=l,Xe=0,Qn=null,Co=!1,Ms=Yl(a,l),Iv=!1,Os=er=Mv=_a=Po=Et=0,zn=Pu=null,Ov=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var x=31-Wn(m),_=1<<x;l|=a[x],m&=~_}return Ui=l,Uf(),d}function n1(a,l){De=null,D.H=xu,l===Es||l===Ff?(l=yT(),Xe=3):l===Bg?(l=yT(),Xe=4):Xe=l===mv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Qn=l,Ue===null&&(Et=1,ad(a,pr(l,a.current)))}function r1(){var a=Xn.current;return a===null?!0:(Be&4194048)===Be?yr===null:(Be&62914560)===Be||(Be&536870912)!==0?a===yr:!1}function i1(){var a=D.H;return D.H=xu,a===null?xu:a}function o1(){var a=D.A;return D.A=T4,a}function yd(){Et=4,Co||(Be&4194048)!==Be&&Xn.current!==null||(Ms=!0),(Po&134217727)===0&&(_a&134217727)===0||lt===null||Io(lt,Be,er,!1)}function Uv(a,l,d){var m=Ye;Ye|=2;var x=i1(),_=o1();(lt!==a||Be!==l)&&(gd=null,Ds(a,l)),l=!1;var P=Et;e:do try{if(Xe!==0&&Ue!==null){var k=Ue,B=Qn;switch(Xe){case 8:jv(),P=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(l=!0);var Z=Xe;if(Xe=0,Qn=null,Ls(a,k,B,Z),d&&Ms){P=0;break e}break;default:Z=Xe,Xe=0,Qn=null,Ls(a,k,B,Z)}}P4(),P=Et;break}catch(oe){n1(a,oe)}while(!0);return l&&a.shellSuspendCounter++,Pi=ha=null,Ye=m,D.H=x,D.A=_,Ue===null&&(lt=null,Be=0,Uf()),P}function P4(){for(;Ue!==null;)a1(Ue)}function N4(a,l){var d=Ye;Ye|=2;var m=i1(),x=o1();lt!==a||Be!==l?(gd=null,md=Fn()+500,Ds(a,l)):Ms=Yl(a,l);e:do try{if(Xe!==0&&Ue!==null){l=Ue;var _=Qn;t:switch(Xe){case 1:Xe=0,Qn=null,Ls(a,l,_,1);break;case 2:case 9:if(gT(_)){Xe=0,Qn=null,s1(l);break}l=function(){Xe!==2&&Xe!==9||lt!==a||(Xe=7),ii(a)},_.then(l,l);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:gT(_)?(Xe=0,Qn=null,s1(l)):(Xe=0,Qn=null,Ls(a,l,_,7));break;case 5:var P=null;switch(Ue.tag){case 26:P=Ue.memoizedState;case 5:case 27:var k=Ue;if(P?F1(P):k.stateNode.complete){Xe=0,Qn=null;var B=k.sibling;if(B!==null)Ue=B;else{var Z=k.return;Z!==null?(Ue=Z,bd(Z)):Ue=null}break t}}Xe=0,Qn=null,Ls(a,l,_,5);break;case 6:Xe=0,Qn=null,Ls(a,l,_,6);break;case 8:jv(),Et=6;break e;default:throw Error(r(462))}}R4();break}catch(oe){n1(a,oe)}while(!0);return Pi=ha=null,D.H=m,D.A=x,Ye=d,Ue!==null?0:(lt=null,Be=0,Uf(),Et)}function R4(){for(;Ue!==null&&!Qz();)a1(Ue)}function a1(a){var l=RA(a.alternate,a,Ui);a.memoizedProps=a.pendingProps,l===null?bd(a):Ue=l}function s1(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=EA(d,l,l.pendingProps,l.type,void 0,Be);break;case 11:l=EA(d,l,l.pendingProps,l.type.render,l.ref,Be);break;case 5:Qg(l);default:MA(d,l),l=Ue=oT(l,Ui),l=RA(d,l,Ui)}a.memoizedProps=a.pendingProps,l===null?bd(a):Ue=l}function Ls(a,l,d,m){Pi=ha=null,Qg(l),Ts=null,du=0;var x=l.return;try{if(y4(a,x,l,d,Be)){Et=1,ad(a,pr(d,a.current)),Ue=null;return}}catch(_){if(x!==null)throw Ue=x,_;Et=1,ad(a,pr(d,a.current)),Ue=null;return}l.flags&32768?(qe||m===1?a=!0:Ms||(Be&536870912)!==0?a=!1:(Co=a=!0,(m===2||m===9||m===3||m===6)&&(m=Xn.current,m!==null&&m.tag===13&&(m.flags|=16384))),l1(l,a)):bd(l)}function bd(a){var l=a;do{if((l.flags&32768)!==0){l1(l,Co);return}a=l.return;var d=w4(l.alternate,l,Ui);if(d!==null){Ue=d;return}if(l=l.sibling,l!==null){Ue=l;return}Ue=l=a}while(l!==null);Et===0&&(Et=5)}function l1(a,l){do{var d=_4(a.alternate,a);if(d!==null){d.flags&=32767,Ue=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){Ue=a;return}Ue=a=d}while(a!==null);Et=6,Ue=null}function u1(a,l,d,m,x,_,P,k,B){a.cancelPendingCommit=null;do xd();while(zt!==0);if((Ye&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(_=l.lanes|l.childLanes,_|=Ag,uB(a,d,_,P,k,B),a===lt&&(Ue=lt=null,Be=0),ks=l,Ro=a,$i=d,kv=_,Dv=x,ZA=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,k4(_f,function(){return p1(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=D.T,D.T=null,x=z.p,z.p=2,P=Ye,Ye|=4;try{S4(a,l,d)}finally{Ye=P,z.p=x,D.T=m}}zt=1,c1(),f1(),d1()}}function c1(){if(zt===1){zt=0;var a=Ro,l=ks,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=D.T,D.T=null;var m=z.p;z.p=2;var x=Ye;Ye|=4;try{GA(l,a);var _=Jv,P=JE(a.containerInfo),k=_.focusedElem,B=_.selectionRange;if(P!==k&&k&&k.ownerDocument&&YE(k.ownerDocument.documentElement,k)){if(B!==null&&wg(k)){var Z=B.start,oe=B.end;if(oe===void 0&&(oe=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(oe,k.value.length);else{var le=k.ownerDocument||document,Q=le&&le.defaultView||window;if(Q.getSelection){var re=Q.getSelection(),xe=k.textContent.length,Ne=Math.min(B.start,xe),it=B.end===void 0?Ne:Math.min(B.end,xe);!re.extend&&Ne>it&&(P=it,it=Ne,Ne=P);var K=WE(k,Ne),G=WE(k,it);if(K&&G&&(re.rangeCount!==1||re.anchorNode!==K.node||re.anchorOffset!==K.offset||re.focusNode!==G.node||re.focusOffset!==G.offset)){var X=le.createRange();X.setStart(K.node,K.offset),re.removeAllRanges(),Ne>it?(re.addRange(X),re.extend(G.node,G.offset)):(X.setEnd(G.node,G.offset),re.addRange(X))}}}}for(le=[],re=k;re=re.parentNode;)re.nodeType===1&&le.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var ae=le[k];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Md=!!Yv,Jv=Yv=null}finally{Ye=x,z.p=m,D.T=d}}a.current=l,zt=2}}function f1(){if(zt===2){zt=0;var a=Ro,l=ks,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=D.T,D.T=null;var m=z.p;z.p=2;var x=Ye;Ye|=4;try{$A(a,l.alternate,l)}finally{Ye=x,z.p=m,D.T=d}}zt=3}}function d1(){if(zt===4||zt===3){zt=0,eB();var a=Ro,l=ks,d=$i,m=ZA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?zt=5:(zt=0,ks=Ro=null,h1(a,a.pendingLanes));var x=a.pendingLanes;if(x===0&&(No=null),ng(d),l=l.stateNode,Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Wl,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=D.T,x=z.p,z.p=2,D.T=null;try{for(var _=a.onRecoverableError,P=0;P<m.length;P++){var k=m[P];_(k.value,{componentStack:k.stack})}}finally{D.T=l,z.p=x}}($i&3)!==0&&xd(),ii(a),x=a.pendingLanes,(d&261930)!==0&&(x&42)!==0?a===Lv?Nu++:(Nu=0,Lv=a):Nu=0,Ru(0)}}function h1(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,cu(l)))}function xd(){return c1(),f1(),d1(),p1()}function p1(){if(zt!==5)return!1;var a=Ro,l=kv;kv=0;var d=ng($i),m=D.T,x=z.p;try{z.p=32>d?32:d,D.T=null,d=Dv,Dv=null;var _=Ro,P=$i;if(zt=0,ks=Ro=null,$i=0,(Ye&6)!==0)throw Error(r(331));var k=Ye;if(Ye|=4,YA(_.current),FA(_,_.current,P,d),Ye=k,Ru(0,!1),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Wl,_)}catch{}return!0}finally{z.p=x,D.T=m,h1(a,l)}}function m1(a,l,d){l=pr(d,l),l=pv(a.stateNode,l,2),a=So(a,l,2),a!==null&&(Jl(a,2),ii(a))}function Ze(a,l,d){if(a.tag===3)m1(a,a,d);else for(;l!==null;){if(l.tag===3){m1(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(No===null||!No.has(m))){a=pr(d,a),d=gA(2),m=So(l,d,2),m!==null&&(vA(d,m,l,a),Jl(m,2),ii(m));break}}l=l.return}}function $v(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new A4;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(Iv=!0,x.add(d),a=I4.bind(null,a,l,d),l.then(a,a))}function I4(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,lt===a&&(Be&d)===d&&(Et===4||Et===3&&(Be&62914560)===Be&&300>Fn()-pd?(Ye&2)===0&&Ds(a,0):Mv|=d,Os===Be&&(Os=0)),ii(a)}function g1(a,l){l===0&&(l=cE()),a=ca(a,l),a!==null&&(Jl(a,l),ii(a))}function M4(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),g1(a,d)}function O4(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,x=a.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),g1(a,d)}function k4(a,l){return Zm(a,l)}var wd=null,js=null,zv=!1,_d=!1,Bv=!1,Mo=0;function ii(a){a!==js&&a.next===null&&(js===null?wd=js=a:js=js.next=a),_d=!0,zv||(zv=!0,L4())}function Ru(a,l){if(!Bv&&_d){Bv=!0;do for(var d=!1,m=wd;m!==null;){if(a!==0){var x=m.pendingLanes;if(x===0)var _=0;else{var P=m.suspendedLanes,k=m.pingedLanes;_=(1<<31-Wn(42|a)+1)-1,_&=x&~(P&~k),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,x1(m,_))}else _=Be,_=Af(m,m===lt?_:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(_&3)===0||Yl(m,_)||(d=!0,x1(m,_));m=m.next}while(d);Bv=!1}}function D4(){v1()}function v1(){_d=zv=!1;var a=0;Mo!==0&&F4()&&(a=Mo);for(var l=Fn(),d=null,m=wd;m!==null;){var x=m.next,_=y1(m,l);_===0?(m.next=null,d===null?wd=x:d.next=x,x===null&&(js=d)):(d=m,(a!==0||(_&3)!==0)&&(_d=!0)),m=x}zt!==0&&zt!==5||Ru(a),Mo!==0&&(Mo=0)}function y1(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,x=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var P=31-Wn(_),k=1<<P,B=x[P];B===-1?((k&d)===0||(k&m)!==0)&&(x[P]=lB(k,l)):B<=l&&(a.expiredLanes|=k),_&=~k}if(l=lt,d=Be,d=Af(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Qm(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Yl(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&Qm(m),ng(d)){case 2:case 8:d=lE;break;case 32:d=_f;break;case 268435456:d=uE;break;default:d=_f}return m=b1.bind(null,a),d=Zm(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&Qm(m),a.callbackPriority=2,a.callbackNode=null,2}function b1(a,l){if(zt!==0&&zt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(xd()&&a.callbackNode!==d)return null;var m=Be;return m=Af(a,a===lt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(e1(a,m,l),y1(a,Fn()),a.callbackNode!=null&&a.callbackNode===d?b1.bind(null,a):null)}function x1(a,l){if(xd())return null;e1(a,l,!0)}function L4(){W4(function(){(Ye&6)!==0?Zm(sE,D4):v1()})}function Vv(){if(Mo===0){var a=_s;a===0&&(a=Sf,Sf<<=1,(Sf&261888)===0&&(Sf=256)),Mo=a}return Mo}function w1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Rf(""+a)}function _1(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function j4(a,l,d,m,x){if(l==="submit"&&d&&d.stateNode===x){var _=w1((x[Dn]||null).action),P=m.submitter;P&&(l=(l=P[Dn]||null)?w1(l.formAction):P.getAttribute("formAction"),l!==null&&(_=l,P=null));var k=new kf("action","action",null,m,x);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Mo!==0){var B=P?_1(x,P):new FormData(x);lv(d,{pending:!0,data:B,method:x.method,action:_},null,B)}}else typeof _=="function"&&(k.preventDefault(),B=P?_1(x,P):new FormData(x),lv(d,{pending:!0,data:B,method:x.method,action:_},_,B))},currentTarget:x}]})}}for(var qv=0;qv<Tg.length;qv++){var Gv=Tg[qv],U4=Gv.toLowerCase(),$4=Gv[0].toUpperCase()+Gv.slice(1);Ir(U4,"on"+$4)}Ir(QE,"onAnimationEnd"),Ir(eT,"onAnimationIteration"),Ir(tT,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(t4,"onTransitionRun"),Ir(n4,"onTransitionStart"),Ir(r4,"onTransitionCancel"),Ir(nT,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function S1(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],x=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var P=m.length-1;0<=P;P--){var k=m[P],B=k.instance,Z=k.currentTarget;if(k=k.listener,B!==_&&x.isPropagationStopped())break e;_=k,x.currentTarget=Z;try{_(x)}catch(oe){jf(oe)}x.currentTarget=null,_=B}else for(P=0;P<m.length;P++){if(k=m[P],B=k.instance,Z=k.currentTarget,k=k.listener,B!==_&&x.isPropagationStopped())break e;_=k,x.currentTarget=Z;try{_(x)}catch(oe){jf(oe)}x.currentTarget=null,_=B}}}}function $e(a,l){var d=l[rg];d===void 0&&(d=l[rg]=new Set);var m=a+"__bubble";d.has(m)||(E1(l,a,2,!1),d.add(m))}function Hv(a,l,d){var m=0;l&&(m|=4),E1(d,a,m,l)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function Fv(a){if(!a[Sd]){a[Sd]=!0,vE.forEach(function(d){d!=="selectionchange"&&(z4.has(d)||Hv(d,!1,a),Hv(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Sd]||(l[Sd]=!0,Hv("selectionchange",!1,l))}}function E1(a,l,d,m){switch(Q1(l)){case 2:var x=pV;break;case 8:x=mV;break;default:x=sy}d=x.bind(null,l,d,a),x=void 0,!dg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?a.addEventListener(l,d,{capture:!0,passive:x}):a.addEventListener(l,d,!0):x!==void 0?a.addEventListener(l,d,{passive:x}):a.addEventListener(l,d,!1)}function Kv(a,l,d,m,x){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var P=m.tag;if(P===3||P===4){var k=m.stateNode.containerInfo;if(k===x)break;if(P===4)for(P=m.return;P!==null;){var B=P.tag;if((B===3||B===4)&&P.stateNode.containerInfo===x)return;P=P.return}for(;k!==null;){if(P=os(k),P===null)return;if(B=P.tag,B===5||B===6||B===26||B===27){m=_=P;continue e}k=k.parentNode}}m=m.return}NE(function(){var Z=_,oe=cg(d),le=[];e:{var Q=rT.get(a);if(Q!==void 0){var re=kf,xe=a;switch(a){case"keypress":if(Mf(d)===0)break e;case"keydown":case"keyup":re=OB;break;case"focusin":xe="focus",re=gg;break;case"focusout":xe="blur",re=gg;break;case"beforeblur":case"afterblur":re=gg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ME;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=wB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=LB;break;case QE:case eT:case tT:re=EB;break;case nT:re=UB;break;case"scroll":case"scrollend":re=bB;break;case"wheel":re=zB;break;case"copy":case"cut":case"paste":re=AB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=kE;break;case"toggle":case"beforetoggle":re=VB}var Ne=(l&4)!==0,it=!Ne&&(a==="scroll"||a==="scrollend"),K=Ne?Q!==null?Q+"Capture":null:Q;Ne=[];for(var G=Z,X;G!==null;){var ae=G;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||K===null||(ae=Ql(G,K),ae!=null&&Ne.push(Mu(G,ae,X))),it)break;G=G.return}0<Ne.length&&(Q=new re(Q,xe,null,d,oe),le.push({event:Q,listeners:Ne}))}}if((l&7)===0){e:{if(Q=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",Q&&d!==ug&&(xe=d.relatedTarget||d.fromElement)&&(os(xe)||xe[is]))break e;if((re||Q)&&(Q=oe.window===oe?oe:(Q=oe.ownerDocument)?Q.defaultView||Q.parentWindow:window,re?(xe=d.relatedTarget||d.toElement,re=Z,xe=xe?os(xe):null,xe!==null&&(it=o(xe),Ne=xe.tag,xe!==it||Ne!==5&&Ne!==27&&Ne!==6)&&(xe=null)):(re=null,xe=Z),re!==xe)){if(Ne=ME,ae="onMouseLeave",K="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=kE,ae="onPointerLeave",K="onPointerEnter",G="pointer"),it=re==null?Q:Zl(re),X=xe==null?Q:Zl(xe),Q=new Ne(ae,G+"leave",re,d,oe),Q.target=it,Q.relatedTarget=X,ae=null,os(oe)===Z&&(Ne=new Ne(K,G+"enter",xe,d,oe),Ne.target=X,Ne.relatedTarget=it,ae=Ne),it=ae,re&&xe)t:{for(Ne=B4,K=re,G=xe,X=0,ae=K;ae;ae=Ne(ae))X++;ae=0;for(var Pe=G;Pe;Pe=Ne(Pe))ae++;for(;0<X-ae;)K=Ne(K),X--;for(;0<ae-X;)G=Ne(G),ae--;for(;X--;){if(K===G||G!==null&&K===G.alternate){Ne=K;break t}K=Ne(K),G=Ne(G)}Ne=null}else Ne=null;re!==null&&T1(le,Q,re,Ne,!1),xe!==null&&it!==null&&T1(le,it,xe,Ne,!0)}}e:{if(Q=Z?Zl(Z):window,re=Q.nodeName&&Q.nodeName.toLowerCase(),re==="select"||re==="input"&&Q.type==="file")var Ge=VE;else if(zE(Q))if(qE)Ge=ZB;else{Ge=JB;var Se=YB}else re=Q.nodeName,!re||re.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Z&&lg(Z.elementType)&&(Ge=VE):Ge=XB;if(Ge&&(Ge=Ge(a,Z))){BE(le,Ge,d,oe);break e}Se&&Se(a,Q,Z),a==="focusout"&&Z&&Q.type==="number"&&Z.memoizedProps.value!=null&&sg(Q,"number",Q.value)}switch(Se=Z?Zl(Z):window,a){case"focusin":(zE(Se)||Se.contentEditable==="true")&&(ps=Se,_g=Z,su=null);break;case"focusout":su=_g=ps=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,XE(le,d,oe);break;case"selectionchange":if(e4)break;case"keydown":case"keyup":XE(le,d,oe)}var Le;if(yg)e:{switch(a){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else hs?UE(a,d)&&(Ve="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(DE&&d.locale!=="ko"&&(hs||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&hs&&(Le=RE()):(go=oe,hg="value"in go?go.value:go.textContent,hs=!0)),Se=Ed(Z,Ve),0<Se.length&&(Ve=new OE(Ve,a,null,d,oe),le.push({event:Ve,listeners:Se}),Le?Ve.data=Le:(Le=$E(d),Le!==null&&(Ve.data=Le)))),(Le=GB?HB(a,d):FB(a,d))&&(Ve=Ed(Z,"onBeforeInput"),0<Ve.length&&(Se=new OE("onBeforeInput","beforeinput",null,d,oe),le.push({event:Se,listeners:Ve}),Se.data=Le)),j4(le,a,Z,d,oe)}S1(le,l)})}function Mu(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Ed(a,l){for(var d=l+"Capture",m=[];a!==null;){var x=a,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=Ql(a,d),x!=null&&m.unshift(Mu(a,x,_)),x=Ql(a,l),x!=null&&m.push(Mu(a,x,_))),a.tag===3)return m;a=a.return}return[]}function B4(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function T1(a,l,d,m,x){for(var _=l._reactName,P=[];d!==null&&d!==m;){var k=d,B=k.alternate,Z=k.stateNode;if(k=k.tag,B!==null&&B===m)break;k!==5&&k!==26&&k!==27||Z===null||(B=Z,x?(Z=Ql(d,_),Z!=null&&P.unshift(Mu(d,Z,B))):x||(Z=Ql(d,_),Z!=null&&P.push(Mu(d,Z,B)))),d=d.return}P.length!==0&&a.push({event:l,listeners:P})}var V4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function A1(a){return(typeof a=="string"?a:""+a).replace(V4,`
`).replace(q4,"")}function C1(a,l){return l=A1(l),A1(a)===l}function rt(a,l,d,m,x,_){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||cs(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&cs(a,""+m);break;case"className":Pf(a,"class",m);break;case"tabIndex":Pf(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Pf(a,d,m);break;case"style":CE(a,m,_);break;case"data":if(l!=="object"){Pf(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Rf(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(l!=="input"&&rt(a,l,"name",x.name,x,null),rt(a,l,"formEncType",x.formEncType,x,null),rt(a,l,"formMethod",x.formMethod,x,null),rt(a,l,"formTarget",x.formTarget,x,null)):(rt(a,l,"encType",x.encType,x,null),rt(a,l,"method",x.method,x,null),rt(a,l,"target",x.target,x,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Rf(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Ei);break;case"onScroll":m!=null&&$e("scroll",a);break;case"onScrollEnd":m!=null&&$e("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Rf(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":$e("beforetoggle",a),$e("toggle",a),Cf(a,"popover",m);break;case"xlinkActuate":Si(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Si(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Si(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Si(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Si(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Si(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Si(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Si(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Si(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Cf(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=vB.get(d)||d,Cf(a,d,m))}}function Wv(a,l,d,m,x,_){switch(d){case"style":CE(a,m,_);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(x.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?cs(a,m):(typeof m=="number"||typeof m=="bigint")&&cs(a,""+m);break;case"onScroll":m!=null&&$e("scroll",a);break;case"onScrollEnd":m!=null&&$e("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yE.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),l=d.slice(2,x?d.length-7:void 0),_=a[Dn]||null,_=_!=null?_[d]:null,typeof _=="function"&&a.removeEventListener(l,_,x),typeof m=="function")){typeof _!="function"&&_!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,x);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Cf(a,d,m)}}}function fn(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",a),$e("load",a);var m=!1,x=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var P=d[_];if(P!=null)switch(_){case"src":m=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:rt(a,l,_,P,d,null)}}x&&rt(a,l,"srcSet",d.srcSet,d,null),m&&rt(a,l,"src",d.src,d,null);return;case"input":$e("invalid",a);var k=_=P=x=null,B=null,Z=null;for(m in d)if(d.hasOwnProperty(m)){var oe=d[m];if(oe!=null)switch(m){case"name":x=oe;break;case"type":P=oe;break;case"checked":B=oe;break;case"defaultChecked":Z=oe;break;case"value":_=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,l));break;default:rt(a,l,m,oe,d,null)}}SE(a,_,k,B,Z,P,x,!1);return;case"select":$e("invalid",a),m=P=_=null;for(x in d)if(d.hasOwnProperty(x)&&(k=d[x],k!=null))switch(x){case"value":_=k;break;case"defaultValue":P=k;break;case"multiple":m=k;default:rt(a,l,x,k,d,null)}l=_,d=P,a.multiple=!!m,l!=null?us(a,!!m,l,!1):d!=null&&us(a,!!m,d,!0);return;case"textarea":$e("invalid",a),_=x=m=null;for(P in d)if(d.hasOwnProperty(P)&&(k=d[P],k!=null))switch(P){case"value":m=k;break;case"defaultValue":x=k;break;case"children":_=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:rt(a,l,P,k,d,null)}TE(a,m,x,_);return;case"option":for(B in d)if(d.hasOwnProperty(B)&&(m=d[B],m!=null))switch(B){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:rt(a,l,B,m,d,null)}return;case"dialog":$e("beforetoggle",a),$e("toggle",a),$e("cancel",a),$e("close",a);break;case"iframe":case"object":$e("load",a);break;case"video":case"audio":for(m=0;m<Iu.length;m++)$e(Iu[m],a);break;case"image":$e("error",a),$e("load",a);break;case"details":$e("toggle",a);break;case"embed":case"source":case"link":$e("error",a),$e("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:rt(a,l,Z,m,d,null)}return;default:if(lg(l)){for(oe in d)d.hasOwnProperty(oe)&&(m=d[oe],m!==void 0&&Wv(a,l,oe,m,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(m=d[k],m!=null&&rt(a,l,k,m,d,null))}function G4(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,P=null,k=null,B=null,Z=null,oe=null;for(re in d){var le=d[re];if(d.hasOwnProperty(re)&&le!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":B=le;default:m.hasOwnProperty(re)||rt(a,l,re,null,m,le)}}for(var Q in m){var re=m[Q];if(le=d[Q],m.hasOwnProperty(Q)&&(re!=null||le!=null))switch(Q){case"type":_=re;break;case"name":x=re;break;case"checked":Z=re;break;case"defaultChecked":oe=re;break;case"value":P=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,l));break;default:re!==le&&rt(a,l,Q,re,m,le)}}ag(a,P,k,B,Z,oe,_,x);return;case"select":re=P=k=Q=null;for(_ in d)if(B=d[_],d.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":re=B;default:m.hasOwnProperty(_)||rt(a,l,_,null,m,B)}for(x in m)if(_=m[x],B=d[x],m.hasOwnProperty(x)&&(_!=null||B!=null))switch(x){case"value":Q=_;break;case"defaultValue":k=_;break;case"multiple":P=_;default:_!==B&&rt(a,l,x,_,m,B)}l=k,d=P,m=re,Q!=null?us(a,!!d,Q,!1):!!m!=!!d&&(l!=null?us(a,!!d,l,!0):us(a,!!d,d?[]:"",!1));return;case"textarea":re=Q=null;for(k in d)if(x=d[k],d.hasOwnProperty(k)&&x!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:rt(a,l,k,null,m,x)}for(P in m)if(x=m[P],_=d[P],m.hasOwnProperty(P)&&(x!=null||_!=null))switch(P){case"value":Q=x;break;case"defaultValue":re=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==_&&rt(a,l,P,x,m,_)}EE(a,Q,re);return;case"option":for(var xe in d)if(Q=d[xe],d.hasOwnProperty(xe)&&Q!=null&&!m.hasOwnProperty(xe))switch(xe){case"selected":a.selected=!1;break;default:rt(a,l,xe,null,m,Q)}for(B in m)if(Q=m[B],re=d[B],m.hasOwnProperty(B)&&Q!==re&&(Q!=null||re!=null))switch(B){case"selected":a.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(a,l,B,Q,m,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in d)Q=d[Ne],d.hasOwnProperty(Ne)&&Q!=null&&!m.hasOwnProperty(Ne)&&rt(a,l,Ne,null,m,Q);for(Z in m)if(Q=m[Z],re=d[Z],m.hasOwnProperty(Z)&&Q!==re&&(Q!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,l));break;default:rt(a,l,Z,Q,m,re)}return;default:if(lg(l)){for(var it in d)Q=d[it],d.hasOwnProperty(it)&&Q!==void 0&&!m.hasOwnProperty(it)&&Wv(a,l,it,void 0,m,Q);for(oe in m)Q=m[oe],re=d[oe],!m.hasOwnProperty(oe)||Q===re||Q===void 0&&re===void 0||Wv(a,l,oe,Q,m,re);return}}for(var K in d)Q=d[K],d.hasOwnProperty(K)&&Q!=null&&!m.hasOwnProperty(K)&&rt(a,l,K,null,m,Q);for(le in m)Q=m[le],re=d[le],!m.hasOwnProperty(le)||Q===re||Q==null&&re==null||rt(a,l,le,Q,m,re)}function P1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H4(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var x=d[m],_=x.transferSize,P=x.initiatorType,k=x.duration;if(_&&k&&P1(P)){for(P=0,k=x.responseEnd,m+=1;m<d.length;m++){var B=d[m],Z=B.startTime;if(Z>k)break;var oe=B.transferSize,le=B.initiatorType;oe&&P1(le)&&(B=B.responseEnd,P+=oe*(B<k?1:(k-Z)/(B-Z)))}if(--m,l+=8*(_+P)/(x.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Yv=null,Jv=null;function Td(a){return a.nodeType===9?a:a.ownerDocument}function N1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R1(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function Xv(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Zv=null;function F4(){var a=window.event;return a&&a.type==="popstate"?a===Zv?!1:(Zv=a,!0):(Zv=null,!1)}var I1=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,W4=typeof queueMicrotask=="function"?queueMicrotask:typeof M1<"u"?function(a){return M1.resolve(null).then(a).catch(Y4)}:I1;function Y4(a){setTimeout(function(){throw a})}function Oo(a){return a==="head"}function O1(a,l){var d=l,m=0;do{var x=d.nextSibling;if(a.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(x),Bs(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Ou(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Ou(d);for(var _=d.firstChild;_;){var P=_.nextSibling,k=_.nodeName;_[Xl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&_.rel.toLowerCase()==="stylesheet"||d.removeChild(_),_=P}}else d==="body"&&Ou(a.ownerDocument.body);d=x}while(d);Bs(l)}function k1(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function Qv(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Qv(d),ig(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function J4(a,l,d,m){for(;a.nodeType===1;){var x=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Xl])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==x.rel||a.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||a.getAttribute("title")!==(x.title==null?null:x.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(x.src==null?null:x.src)||a.getAttribute("type")!==(x.type==null?null:x.type)||a.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=br(a.nextSibling),a===null)break}return null}function X4(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=br(a.nextSibling),a===null))return null;return a}function D1(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=br(a.nextSibling),a===null))return null;return a}function ey(a){return a.data==="$?"||a.data==="$~"}function ty(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Z4(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function br(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var ny=null;function L1(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return br(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function j1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function U1(a,l,d){switch(l=Td(d),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ou(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);ig(a)}var xr=new Map,$1=new Set;function Ad(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zi=z.d;z.d={f:Q4,r:eV,D:tV,C:nV,L:rV,m:iV,X:aV,S:oV,M:sV};function Q4(){var a=zi.f(),l=vd();return a||l}function eV(a){var l=as(a);l!==null&&l.tag===5&&l.type==="form"?nA(l):zi.r(a)}var Us=typeof document>"u"?null:document;function z1(a,l,d){var m=Us;if(m&&typeof l=="string"&&l){var x=dr(l);x='link[rel="'+a+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),$1.has(x)||($1.add(x),a={rel:a,crossOrigin:d,href:l},m.querySelector(x)===null&&(l=m.createElement("link"),fn(l,"link",a),Wt(l),m.head.appendChild(l)))}}function tV(a){zi.D(a),z1("dns-prefetch",a,null)}function nV(a,l){zi.C(a,l),z1("preconnect",a,l)}function rV(a,l,d){zi.L(a,l,d);var m=Us;if(m&&a&&l){var x='link[rel="preload"][as="'+dr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+dr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+dr(d.imageSizes)+'"]')):x+='[href="'+dr(a)+'"]';var _=x;switch(l){case"style":_=$s(a);break;case"script":_=zs(a)}xr.has(_)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),xr.set(_,a),m.querySelector(x)!==null||l==="style"&&m.querySelector(ku(_))||l==="script"&&m.querySelector(Du(_))||(l=m.createElement("link"),fn(l,"link",a),Wt(l),m.head.appendChild(l)))}}function iV(a,l){zi.m(a,l);var d=Us;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+dr(m)+'"][href="'+dr(a)+'"]',_=x;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=zs(a)}if(!xr.has(_)&&(a=p({rel:"modulepreload",href:a},l),xr.set(_,a),d.querySelector(x)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Du(_)))return}m=d.createElement("link"),fn(m,"link",a),Wt(m),d.head.appendChild(m)}}}function oV(a,l,d){zi.S(a,l,d);var m=Us;if(m&&a){var x=ss(m).hoistableStyles,_=$s(a);l=l||"default";var P=x.get(_);if(!P){var k={loading:0,preload:null};if(P=m.querySelector(ku(_)))k.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=xr.get(_))&&ry(a,d);var B=P=m.createElement("link");Wt(B),fn(B,"link",a),B._p=new Promise(function(Z,oe){B.onload=Z,B.onerror=oe}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Cd(P,l,m)}P={type:"stylesheet",instance:P,count:1,state:k},x.set(_,P)}}}function aV(a,l){zi.X(a,l);var d=Us;if(d&&a){var m=ss(d).hoistableScripts,x=zs(a),_=m.get(x);_||(_=d.querySelector(Du(x)),_||(a=p({src:a,async:!0},l),(l=xr.get(x))&&iy(a,l),_=d.createElement("script"),Wt(_),fn(_,"link",a),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(x,_))}}function sV(a,l){zi.M(a,l);var d=Us;if(d&&a){var m=ss(d).hoistableScripts,x=zs(a),_=m.get(x);_||(_=d.querySelector(Du(x)),_||(a=p({src:a,async:!0,type:"module"},l),(l=xr.get(x))&&iy(a,l),_=d.createElement("script"),Wt(_),fn(_,"link",a),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},m.set(x,_))}}function B1(a,l,d,m){var x=(x=pe.current)?Ad(x):null;if(!x)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=$s(d.href),d=ss(x).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=$s(d.href);var _=ss(x).hoistableStyles,P=_.get(a);if(P||(x=x.ownerDocument||x,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,P),(_=x.querySelector(ku(a)))&&!_._p&&(P.instance=_,P.state.loading=5),xr.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},xr.set(a,d),_||lV(x,a,d,P.state))),l&&m===null)throw Error(r(528,""));return P}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=zs(d),d=ss(x).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function $s(a){return'href="'+dr(a)+'"'}function ku(a){return'link[rel="stylesheet"]['+a+"]"}function V1(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function lV(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),fn(l,"link",d),Wt(l),a.head.appendChild(l))}function zs(a){return'[src="'+dr(a)+'"]'}function Du(a){return"script[async]"+a}function q1(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+dr(d.href)+'"]');if(m)return l.instance=m,Wt(m),m;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Wt(m),fn(m,"style",x),Cd(m,d.precedence,a),l.instance=m;case"stylesheet":x=$s(d.href);var _=a.querySelector(ku(x));if(_)return l.state.loading|=4,l.instance=_,Wt(_),_;m=V1(d),(x=xr.get(x))&&ry(m,x),_=(a.ownerDocument||a).createElement("link"),Wt(_);var P=_;return P._p=new Promise(function(k,B){P.onload=k,P.onerror=B}),fn(_,"link",m),l.state.loading|=4,Cd(_,d.precedence,a),l.instance=_;case"script":return _=zs(d.src),(x=a.querySelector(Du(_)))?(l.instance=x,Wt(x),x):(m=d,(x=xr.get(_))&&(m=p({},d),iy(m,x)),a=a.ownerDocument||a,x=a.createElement("script"),Wt(x),fn(x,"link",m),a.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Cd(m,d.precedence,a));return l.instance}function Cd(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=m.length?m[m.length-1]:null,_=x,P=0;P<m.length;P++){var k=m[P];if(k.dataset.precedence===l)_=k;else if(_!==x)break}_?_.parentNode.insertBefore(a,_.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function ry(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function iy(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Pd=null;function G1(a,l,d){if(Pd===null){var m=new Map,x=Pd=new Map;x.set(d,m)}else x=Pd,m=x.get(d),m||(m=new Map,x.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),x=0;x<d.length;x++){var _=d[x];if(!(_[Xl]||_[sn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(l)||"";P=a+P;var k=m.get(P);k?k.push(_):m.set(P,[_])}}return m}function H1(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function uV(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function F1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function cV(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=$s(m.href),_=l.querySelector(ku(x));if(_){l=_._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Nd.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=_,Wt(_);return}_=l.ownerDocument||l,m=V1(m),(x=xr.get(x))&&ry(m,x),_=_.createElement("link"),Wt(_);var P=_;P._p=new Promise(function(k,B){P.onload=k,P.onerror=B}),fn(_,"link",m),d.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Nd.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var oy=0;function fV(a,l){return a.stylesheets&&a.count===0&&Id(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Id(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+l);0<a.imgBytes&&oy===0&&(oy=62500*H4());var x=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Id(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>oy?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(x)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Id(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Rd=null;function Id(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Rd=new Map,l.forEach(dV,a),Rd=null,Nd.call(a))}function dV(a,l){if(!(l.state.loading&4)){var d=Rd.get(a);if(d)var m=d.get(null);else{d=new Map,Rd.set(a,d);for(var x=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var P=x[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),m=P)}m&&d.set(null,m)}x=l.instance,P=x.getAttribute("data-precedence"),_=d.get(P)||m,_===m&&d.set(null,x),d.set(P,x),this.count++,m=Nd.bind(this),x.addEventListener("load",m),x.addEventListener("error",m),_?_.parentNode.insertBefore(x,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(x,a.firstChild)),l.state.loading|=4}}var Lu={$$typeof:N,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function hV(a,l,d,m,x,_,P,k,B){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eg(0),this.hiddenUpdates=eg(null),this.identifierPrefix=m,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function K1(a,l,d,m,x,_,P,k,B,Z,oe,le){return a=new hV(a,l,d,P,B,Z,oe,le,k),l=1,_===!0&&(l|=24),_=Jn(3,null,null,l),a.current=_,_.stateNode=a,l=Ug(),l.refCount++,a.pooledCache=l,l.refCount++,_.memoizedState={element:m,isDehydrated:d,cache:l},Vg(_),a}function W1(a){return a?(a=vs,a):vs}function Y1(a,l,d,m,x,_){x=W1(x),m.context===null?m.context=x:m.pendingContext=x,m=_o(l),m.payload={element:d},_=_===void 0?null:_,_!==null&&(m.callback=_),d=So(a,m,l),d!==null&&(Bn(d,a,l),pu(d,a,l))}function J1(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function ay(a,l){J1(a,l),(a=a.alternate)&&J1(a,l)}function X1(a){if(a.tag===13||a.tag===31){var l=ca(a,67108864);l!==null&&Bn(l,a,67108864),ay(a,67108864)}}function Z1(a){if(a.tag===13||a.tag===31){var l=tr();l=tg(l);var d=ca(a,l);d!==null&&Bn(d,a,l),ay(a,l)}}var Md=!0;function pV(a,l,d,m){var x=D.T;D.T=null;var _=z.p;try{z.p=2,sy(a,l,d,m)}finally{z.p=_,D.T=x}}function mV(a,l,d,m){var x=D.T;D.T=null;var _=z.p;try{z.p=8,sy(a,l,d,m)}finally{z.p=_,D.T=x}}function sy(a,l,d,m){if(Md){var x=ly(m);if(x===null)Kv(a,l,m,Od,d),eC(a,m);else if(vV(x,a,l,d,m))m.stopPropagation();else if(eC(a,m),l&4&&-1<gV.indexOf(a)){for(;x!==null;){var _=as(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=oa(_.pendingLanes);if(P!==0){var k=_;for(k.pendingLanes|=2,k.entangledLanes|=2;P;){var B=1<<31-Wn(P);k.entanglements[1]|=B,P&=~B}ii(_),(Ye&6)===0&&(md=Fn()+500,Ru(0))}}break;case 31:case 13:k=ca(_,2),k!==null&&Bn(k,_,2),vd(),ay(_,2)}if(_=ly(m),_===null&&Kv(a,l,m,Od,d),_===x)break;x=_}x!==null&&m.stopPropagation()}else Kv(a,l,m,null,d)}}function ly(a){return a=cg(a),uy(a)}var Od=null;function uy(a){if(Od=null,a=os(a),a!==null){var l=o(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=s(l),a!==null)return a;a=null}else if(d===31){if(a=u(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Od=a,null}function Q1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tB()){case sE:return 2;case lE:return 8;case _f:case nB:return 32;case uE:return 268435456;default:return 32}default:return 32}}var cy=!1,ko=null,Do=null,Lo=null,ju=new Map,Uu=new Map,jo=[],gV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eC(a,l){switch(a){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":ju.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(l.pointerId)}}function $u(a,l,d,m,x,_){return a===null||a.nativeEvent!==_?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:_,targetContainers:[x]},l!==null&&(l=as(l),l!==null&&X1(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),a)}function vV(a,l,d,m,x){switch(l){case"focusin":return ko=$u(ko,a,l,d,m,x),!0;case"dragenter":return Do=$u(Do,a,l,d,m,x),!0;case"mouseover":return Lo=$u(Lo,a,l,d,m,x),!0;case"pointerover":var _=x.pointerId;return ju.set(_,$u(ju.get(_)||null,a,l,d,m,x)),!0;case"gotpointercapture":return _=x.pointerId,Uu.set(_,$u(Uu.get(_)||null,a,l,d,m,x)),!0}return!1}function tC(a){var l=os(a.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=s(d),l!==null){a.blockedOn=l,mE(a.priority,function(){Z1(d)});return}}else if(l===31){if(l=u(d),l!==null){a.blockedOn=l,mE(a.priority,function(){Z1(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function kd(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=ly(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);ug=m,d.target.dispatchEvent(m),ug=null}else return l=as(d),l!==null&&X1(l),a.blockedOn=d,!1;l.shift()}return!0}function nC(a,l,d){kd(a)&&d.delete(l)}function yV(){cy=!1,ko!==null&&kd(ko)&&(ko=null),Do!==null&&kd(Do)&&(Do=null),Lo!==null&&kd(Lo)&&(Lo=null),ju.forEach(nC),Uu.forEach(nC)}function Dd(a,l){a.blockedOn===l&&(a.blockedOn=null,cy||(cy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yV)))}var Ld=null;function rC(a){Ld!==a&&(Ld=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ld===a&&(Ld=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],x=a[l+2];if(typeof m!="function"){if(uy(m||d)===null)continue;break}var _=as(d);_!==null&&(a.splice(l,3),l-=3,lv(_,{pending:!0,data:x,method:d.method,action:m},m,x))}}))}function Bs(a){function l(B){return Dd(B,a)}ko!==null&&Dd(ko,a),Do!==null&&Dd(Do,a),Lo!==null&&Dd(Lo,a),ju.forEach(l),Uu.forEach(l);for(var d=0;d<jo.length;d++){var m=jo[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<jo.length&&(d=jo[0],d.blockedOn===null);)tC(d),d.blockedOn===null&&jo.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var x=d[m],_=d[m+1],P=x[Dn]||null;if(typeof _=="function")P||rC(d);else if(P){var k=null;if(_&&_.hasAttribute("formAction")){if(x=_,P=_[Dn]||null)k=P.formAction;else if(uy(x)!==null)continue}else k=P.action;typeof k=="function"?d[m+1]=k:(d.splice(m,3),m-=3),rC(d)}}}function iC(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(P){return x=P})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,x=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function fy(a){this._internalRoot=a}jd.prototype.render=fy.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,m=tr();Y1(d,m,a,l,null,null)},jd.prototype.unmount=fy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Y1(a.current,2,null,a,null,null),vd(),l[is]=null}};function jd(a){this._internalRoot=a}jd.prototype.unstable_scheduleHydration=function(a){if(a){var l=pE();a={blockedOn:null,target:a,priority:l};for(var d=0;d<jo.length&&l!==0&&l<jo[d].priority;d++);jo.splice(d,0,a),d===0&&tC(a)}};var oC=t.version;if(oC!=="19.2.4")throw Error(r(527,oC,"19.2.4"));z.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var bV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Wl=Ud.inject(bV),Kn=Ud}catch{}}return Bu.createRoot=function(a,l){if(!i(a))throw Error(r(299));var d=!1,m="",x=dA,_=hA,P=pA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),l=K1(a,1,!1,null,null,d,m,null,x,_,P,iC),a[is]=l.current,Fv(a),new fy(l)},Bu.hydrateRoot=function(a,l,d){if(!i(a))throw Error(r(299));var m=!1,x="",_=dA,P=hA,k=pA,B=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.formState!==void 0&&(B=d.formState)),l=K1(a,1,!0,l,d??null,m,x,B,_,P,k,iC),l.context=W1(null),d=l.current,m=tr(),m=tg(m),x=_o(m),x.callback=null,So(d,x,m),d=m,l.current.lanes=d,Jl(l,d),ii(l),a[is]=l.current,Fv(a),new jd(l)},Bu.version="19.2.4",Bu}var mC;function MV(){if(mC)return my.exports;mC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),my.exports=IV(),my.exports}var OV=MV();const kV=Jr(OV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=e=>{const t=LV(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...u},c)=>A.createElement("svg",{ref:c,...jV,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:VD("lucide",i),...!o&&!UV(u)&&{"aria-hidden":"true"},...u},[...s.map(([f,h])=>A.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement($V,{ref:o,iconNode:t,className:VD(`lucide-${DV(gC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=gC(e),n};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Qs=ht("activity",zV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],vC=ht("archive",BV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Vu=ht("brain-circuit",VV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],GV=ht("brain",qV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],yh=ht("building-2",HV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],KV=ht("chevron-left",FV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YV=ht("chevron-right",WV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],yC=ht("clock",JV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],bC=ht("database",XV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],QV=ht("external-link",ZV);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tq=ht("eye",eq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rq=ht("globe",nq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],xC=ht("layout-dashboard",iq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],by=ht("list-todo",oq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],sq=ht("menu",aq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],xy=ht("network",lq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],wC=ht("scroll-text",uq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_C=ht("search",cq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Lb=ht("shield-alert",fq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hq=ht("shield-check",dq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mq=ht("shield-question-mark",pq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13",key:"i9gjdv"}],["path",{d:"M20 15.5a2.5 2.5 0 0 0-2.5-2.5h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1z",key:"1vzg3v"}],["path",{d:"M5 22h14",key:"ehvnwv"}]],wy=ht("stamp",gq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],yq=ht("terminal",vq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xq=ht("triangle-alert",bq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],SC=ht("wrench",wq);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sq=ht("x",_q),pn=[{id:"WAR_ROOM",name:" ",x:2,y:2,w:28,h:38,color:"border-purple-500/20"},{id:"CEO_OFFICE",name:' "',x:32,y:2,w:66,h:25,color:"border-yellow-500/20"},{id:"LOUNGE",name:" ",x:2,y:42,w:28,h:56,color:"border-green-500/20"},{id:"WORKING_AREA",name:" ",x:32,y:29,w:66,h:69,color:"border-blue-500/20"}],ze=60,Me=30,ge=(e,t)=>({x:(e-t)*ze,y:(e+t)*Me}),Vs=(e,t)=>{const{x:n,y:r}=ge(e,t);return`M${n} ${r} L${n+ze} ${r+Me} L${n} ${r+Me*2} L${n-ze} ${r+Me} Z`},Eq=({agents:e,selectedAgentId:t,onSelectAgent:n})=>{var H;const[r,i]=A.useState(.6),[o,s]=A.useState({x:0,y:0}),[u,c]=A.useState({x:-4e3,y:-3e3,w:8e3,h:6e3}),[f,h]=A.useState(e),[p,g]=A.useState(null),[b,S]=A.useState(null),[E,T]=A.useState(null),C=j=>{if(T(j),j){const D=pn.find(z=>z.id===j);if(D){const z=D.x+D.w/2,F=D.y+D.h/2,J=z/100*50,se=F/100*50,$=ge(J,se);i(2.8),s({x:-$.x,y:-$.y+150}),c({x:$.x-1500,y:$.y-1200,w:3e3,h:2400})}}else i(.6),s({x:0,y:0}),c({x:-4e3,y:-3e3,w:8e3,h:6e3})};A.useEffect(()=>{h(e)},[e]);const R=A.useRef(null),N=A.useRef(!1),I=A.useRef(!1),O=A.useRef({x:0,y:0}),M=A.useRef(),U=A.useRef(0);A.useEffect(()=>{const j=D=>{U.current||(U.current=D);const z=(D-U.current)/1e3;h(F=>F.map(J=>{if(J.targetPosition&&J.speed){const se=J.currentPosition,$=J.targetPosition,W=$.x-se.x,ce=$.y-se.y,ue=Math.sqrt(W*W+ce*ce);if(ue<J.speed*z)return{...J,currentPosition:$,targetPosition:void 0,status:"IDLE"};{const de=W/ue,pe=ce/ue,he=se.x+de*J.speed*z,ye=se.y+pe*J.speed*z;return{...J,currentPosition:{x:he,y:ye}}}}return J})),U.current=D,M.current=requestAnimationFrame(j)};return M.current=requestAnimationFrame(j),()=>{M.current&&cancelAnimationFrame(M.current)}},[]),A.useEffect(()=>{},[f]);const q=j=>{N.current=!0,I.current=!1,O.current={x:j.clientX,y:j.clientY}},V=j=>{if(!N.current)return;I.current=!0;const D=(j.clientX-O.current.x)/r,z=(j.clientY-O.current.y)/r;s(F=>({x:F.x+D,y:F.y+z})),O.current={x:j.clientX,y:j.clientY}},ne=j=>{I.current||(g(null),S(null),n("")),N.current=!1,I.current=!1},ie=()=>{if(!t||!f.find(J=>J.id===t))return;const D=pn[Math.floor(Math.random()*pn.length)],z=D.x+Math.random()*D.w,F=D.y+Math.random()*D.h;h(J=>J.map(se=>se.id===t?{...se,targetPosition:{x:z,y:F},speed:10}:se))},Y=j=>{const D=Math.floor(j.x/100*50),z=Math.floor(j.y/100*50),F=Math.floor(j.w/100*50),J=Math.floor(j.h/100*50),se=[],$=ge(D,z),W=ge(D+F,z),ce=ge(D+F,z+J),ue=ge(D,z+J),de=`M${$.x} ${$.y} L${W.x+ze} ${W.y+Me} L${ce.x} ${ce.y+Me*2} L${ue.x-ze} ${ue.y+Me} Z`;let pe="url(#tilePattern)",he="#27272a";j.id==="CEO_OFFICE"&&(pe="url(#woodPattern)",he="#44403c"),j.id==="WAR_ROOM"&&(pe="url(#carpetPattern)",he="#312e81"),j.id==="LOUNGE"&&(pe="url(#concretePattern)",he="#3f3f46");let ye="";j.id==="CEO_OFFICE"?ye="url(#ceoLight)":j.id==="WAR_ROOM"?ye="url(#warRoomLight)":j.id==="LOUNGE"?ye="url(#loungeLight)":j.id==="WORKING_AREA"&&(ye="url(#workingAreaLight)");const Ae=f.filter(_t=>{const _i=pn.find(ei=>_t.currentPosition.x>=ei.x&&_t.currentPosition.x<=ei.x+ei.w&&_t.currentPosition.y>=ei.y&&_t.currentPosition.y<=ei.y+ei.h);return(_i==null?void 0:_i.id)===j.id&&(_t.status==="WORKING"||_t.status==="THINKING")}).length>0?.8:.3,Ee=E&&E!==j.id,fe=E===j.id?.6:.15,st=j.id==="WAR_ROOM"?"#a855f7":j.id==="CEO_OFFICE"?"#eab308":j.id==="LOUNGE"?"#22c55e":"#3b82f6";se.push(w.jsxs("g",{style:{opacity:Ee?.08:1,filter:Ee?"blur(12px)":"none",transition:"opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), filter 0.8s cubic-bezier(0.4, 0, 0.2, 1)"},children:[w.jsx("path",{d:de,fill:pe,stroke:he,strokeWidth:"2"},`floor-${j.id}`),w.jsx("path",{d:de,fill:ye,style:{pointerEvents:"none",opacity:Ae*(E===j.id?1.5:1),transition:"opacity 0.5s ease-in-out"}},`floor-light-${j.id}`),w.jsx("path",{d:de,fill:st,opacity:fe,style:{filter:"blur(40px)",pointerEvents:"none",transition:"opacity 0.5s ease-in-out"}})]},`room-group-${j.id}`));const _e=120,Je=`
        M${$.x-ze} ${$.y+Me} 
        L${ue.x-ze} ${ue.y+Me} 
        L${ue.x-ze} ${ue.y+Me-_e} 
        L${$.x-ze} ${$.y+Me-_e} Z`,tt=`
        M${$.x} ${$.y} 
        L${W.x+ze} ${W.y+Me} 
        L${W.x+ze} ${W.y+Me-_e} 
        L${$.x} ${$.y-_e} Z`;return se.push(w.jsxs("g",{style:{opacity:Ee?.2:1,transition:"opacity 0.5s ease-in-out"},children:[w.jsx("path",{d:Je,fill:"#18181b",transform:"translate(-4, 2)",opacity:"0.5"}),w.jsx("path",{d:tt,fill:"#18181b",transform:"translate(4, 2)",opacity:"0.5"}),w.jsx("path",{d:Je,fill:j.id==="LOUNGE"?"url(#concretePattern)":"#27272a",stroke:"#3f3f46",strokeWidth:"1.5"}),w.jsx("path",{d:tt,fill:j.id==="LOUNGE"?"url(#concretePattern)":"#202022",stroke:"#3f3f46",strokeWidth:"1.5"}),w.jsx("path",{d:`M${$.x-ze} ${$.y+Me} L${$.x-ze} ${$.y+Me-_e} L${$.x-ze+10} ${$.y+Me-_e+5} L${$.x-ze+10} ${$.y+Me+5} Z`,fill:"black",opacity:"0.2"}),w.jsx("path",{d:`M${$.x} ${$.y} L${$.x} ${$.y-_e} L${$.x+10} ${$.y-_e+5} L${$.x+10} ${$.y+5} Z`,fill:"black",opacity:"0.2"}),w.jsx("path",{d:`M${$.x-ze} ${$.y+Me-_e} L${ue.x-ze} ${ue.y+Me-_e} L${ue.x-ze+5} ${ue.y+Me-_e-5} L${$.x-ze+5} ${$.y+Me-_e-5} Z`,fill:"#3f3f46"}),w.jsx("path",{d:`M${$.x} ${$.y-_e} L${W.x+ze} ${W.y+Me-_e} L${W.x+ze-5} ${W.y+Me-_e-5} L${$.x-5} ${$.y-_e-5} Z`,fill:"#3f3f46"}),(j.id==="CEO_OFFICE"||j.id==="WAR_ROOM"||j.id==="WORKING_AREA")&&w.jsxs(w.Fragment,{children:[w.jsx("path",{d:Je,fill:"url(#glassGradient)",opacity:"0.3"}),w.jsx("path",{d:tt,fill:"url(#glassGradient)",opacity:"0.3"}),w.jsx("rect",{x:$.x-ze+15,y:$.y+Me-_e+30,width:ze-30,height:_e-60,fill:"none",stroke:"#3f3f46",strokeWidth:"2",opacity:"0.5"}),w.jsx("rect",{x:$.x+15,y:$.y-_e+30,width:F*ze-30,height:_e-60,fill:"none",stroke:"#3f3f46",strokeWidth:"2",transform:"skewX(30)",opacity:"0.5"})]})]},`walls-${j.id}`)),se.push(...L(j,p,g)),se},L=(j,D,z)=>{const F=Math.floor(j.x/100*50),J=Math.floor(j.y/100*50),se=Math.floor(j.w/100*50),$=Math.floor(j.h/100*50),W=[],ce=(ue,de,pe=0)=>(ue+de)*Me+pe;if(j.id==="WAR_ROOM"){const ue=F+Math.floor(se/2),de=J+Math.floor($/2),{x:pe,y:he}=ge(ue,de),ye=ze*4,ee=Me*2,Ae=D==="war-table";W.push(w.jsxs("g",{transform:`translate(${pe-ye/2}, ${he-ee/2})`,style:{zIndex:ce(ue,de,10),cursor:"pointer",filter:Ae?"url(#glow)":"none"},onClick:Ee=>{Ee.stopPropagation(),z("war-table")},children:[w.jsx("path",{d:`M${ye/2-20} ${ee/2+20} L${ye/2+20} ${ee/2+20} L${ye/2+30} ${ee/2+60} L${ye/2-30} ${ee/2+60} Z`,fill:"#09090b"}),w.jsx("ellipse",{cx:ye/2,cy:ee/2,rx:ye/2,ry:ee/2,fill:"#18181b",stroke:Ae?"#a855f7":"#27272a",strokeWidth:"3"}),w.jsx("ellipse",{cx:ye/2,cy:ee/2,rx:ye/2-4,ry:ee/2-4,fill:"none",stroke:"#3f3f46",strokeWidth:"1",opacity:"0.5"}),w.jsx("ellipse",{cx:ye/2,cy:ee/2,rx:ye/3,ry:ee/3,fill:"#a855f7",opacity:"0.1"}),w.jsx("ellipse",{cx:ye/2,cy:ee/2,rx:ye/3,ry:ee/3,fill:"none",stroke:"#a855f7",strokeWidth:"1",strokeDasharray:"4 4",opacity:"0.5"}),w.jsx("circle",{cx:ye/2,cy:ee/2,r:"12",fill:"#09090b",stroke:"#a855f7",strokeWidth:"2"}),w.jsx("circle",{cx:ye/2,cy:ee/2,r:"6",fill:"#a855f7",className:"animate-pulse"})]},"war-table"));for(let Ee=0;Ee<6;Ee++){const fe=Ee/6*Math.PI*2,st=ye/2+Math.cos(fe)*(ye/2+15),_e=ee/2+Math.sin(fe)*(ee/2+10);W.push(w.jsxs("g",{transform:`translate(${pe-ye/2+st}, ${he-ee/2+_e})`,children:[w.jsx("circle",{cx:"0",cy:"0",r:"10",fill:"#18181b",stroke:"#3f3f46"}),w.jsx("path",{d:"M-6 -4 Q0 -12 6 -4 L5 4 Q0 8 -5 4 Z",fill:"#27272a"})]},`war-chair-${Ee}`))}W.push(w.jsxs("g",{transform:`translate(${ge(F+2,J+5).x}, ${ge(F+2,J+5).y-120})`,children:[w.jsx("rect",{x:"0",y:"0",width:"100",height:"60",fill:"#09090b",stroke:"#3f3f46",strokeWidth:"2",transform:"skewY(-20)"}),w.jsx("rect",{x:"5",y:"5",width:"90",height:"50",fill:"#a855f7",opacity:"0.1",transform:"skewY(-20)"}),w.jsx("g",{transform:"skewY(-20)",children:[...Array(5)].map((Ee,fe)=>w.jsx("rect",{x:"10",y:15+fe*8,width:20+Math.random()*50,height:"2",fill:"#a855f7",opacity:"0.4",children:w.jsx("animate",{attributeName:"width",values:"20;70;20",dur:`${2+fe}s`,repeatCount:"indefinite"})},fe))}),w.jsx("text",{x:"50",y:"35",textAnchor:"middle",fill:"#a855f7",fontSize:"8",transform:"skewY(-20)",opacity:"0.5",children:"STRATEGIC DATA"})]},"war-screens"))}if(j.id==="WORKING_AREA"){for(let de=F;de<F+se;de+=4)for(let pe=J;pe<J+$;pe+=4){const{x:he,y:ye}=ge(de,pe);W.push(w.jsx("line",{x1:he,y1:ye+Me,x2:he+ze,y2:ye+Me*2,stroke:"#3f3f46",strokeWidth:"0.5",opacity:"0.1"},`grid-h-${de}-${pe}`),w.jsx("line",{x1:he,y1:ye+Me,x2:he-ze,y2:ye+Me,stroke:"#3f3f46",strokeWidth:"0.5",opacity:"0.1"},`grid-v-${de}-${pe}`))}for(let de=0;de<3;de++)for(let pe=0;pe<4;pe++){const he=F+4+pe*10,ye=J+4+de*12,{x:ee,y:Ae}=ge(he,ye),Ee=`desk-${de}-${pe}`,fe=D===Ee,st=f.find(Je=>{const tt=Math.floor(Je.currentPosition.x/100*50),_t=Math.floor(Je.currentPosition.y/100*50);return Math.abs(tt-he)<3&&Math.abs(_t-ye)<3}),_e=(st==null?void 0:st.status)==="WORKING";W.push(w.jsxs("g",{transform:`translate(${ee}, ${Ae})`,style:{zIndex:ce(he,ye,5),cursor:"pointer",filter:fe?"url(#glow)":"none"},onClick:Je=>{Je.stopPropagation(),z(Ee)},children:[_e&&w.jsx("ellipse",{cx:"0",cy:"0",rx:"60",ry:"30",fill:"#3b82f6",opacity:"0.15",children:w.jsx("animate",{attributeName:"opacity",values:"0.05;0.2;0.05",dur:"2s",repeatCount:"indefinite"})}),w.jsx("path",{d:Vs(0,0),fill:"#18181b",stroke:fe?"#3b82f6":"#3f3f46",strokeWidth:"1",transform:`scale(0.8) translate(-${ze*.4}, -${Me*.4})`}),w.jsx("path",{d:Vs(0,0),fill:"#27272a",transform:`scale(0.8) translate(-${ze*.4}, -${Me*.4+4})`}),w.jsxs("g",{transform:"translate(-15, -10)",children:[w.jsx("rect",{x:"-2",y:"-15",width:"4",height:"15",fill:"#3f3f46",transform:"skewX(20)"}),w.jsx("path",{d:"M-15 -25 L15 -25 L10 -5 L-20 -5 Z",fill:"#09090b",stroke:"#3f3f46",strokeWidth:"1"}),w.jsx("rect",{x:"-12",y:"-20",width:"24",height:"12",fill:"#3b82f6",opacity:"0.3"})]}),w.jsxs("g",{transform:"translate(15, -5)",children:[w.jsx("rect",{x:"-2",y:"-15",width:"4",height:"15",fill:"#3f3f46",transform:"skewX(-20)"}),w.jsx("path",{d:"M-15 -25 L15 -25 L20 -5 L-10 -5 Z",fill:"#09090b",stroke:"#3f3f46",strokeWidth:"1"}),w.jsx("rect",{x:"-10",y:"-20",width:"24",height:"12",fill:"#3b82f6",opacity:"0.2"})]}),w.jsxs("g",{transform:"translate(0, 25)",children:[w.jsx("circle",{cx:"0",cy:"0",r:"12",fill:"#18181b",stroke:"#3f3f46",strokeWidth:"1"}),w.jsx("path",{d:"M-8 -5 Q0 -15 8 -5 L6 5 Q0 10 -6 5 Z",fill:"#27272a"})]})]},Ee))}W.push(w.jsxs("g",{transform:`translate(${ge(F+2,J+$-5).x}, ${ge(F+2,J+$-5).y})`,children:[w.jsx("rect",{x:"-20",y:"-30",width:"40",height:"30",fill:"#27272a",stroke:"#3f3f46"}),w.jsx("rect",{x:"-15",y:"-35",width:"30",height:"5",fill:"#3f3f46"}),w.jsx("rect",{x:"-12",y:"-15",width:"24",height:"2",fill:"#18181b"}),w.jsx("circle",{cx:"12",cy:"-25",r:"2",fill:"#22c55e"})]},"printer"));for(let de=0;de<3;de++){const pe=F+2+de*20,he=J+2,ye=ge(pe,he);W.push(w.jsxs("g",{transform:`translate(${ye.x}, ${ye.y})`,children:[w.jsx("rect",{x:"-5",y:"-10",width:"10",height:"10",fill:"#44403c"}),w.jsx("path",{d:"M-8 -20 Q0 -35 8 -20 Q0 -10 -8 -20",fill:"#16a34a",opacity:"0.8"})]},`plant-${de}`))}const ue=f.some(de=>{const pe=pn.find(he=>de.currentPosition.x>=he.x&&de.currentPosition.x<=he.x+he.w&&de.currentPosition.y>=he.y&&de.currentPosition.y<=he.y+he.h);return(pe==null?void 0:pe.id)==="WORKING_AREA"&&de.status==="WORKING"});for(let de=0;de<4;de++){const pe=F+se-4,he=J+4+de*6,{x:ye,y:ee}=ge(pe,he),Ae=`server-${de}`,Ee=D===Ae;W.push(w.jsxs("g",{transform:`translate(${ye}, ${ee})`,style:{zIndex:ce(pe,he,15),cursor:"pointer",filter:Ee?"url(#glow)":"none"},onClick:fe=>{fe.stopPropagation(),z(Ae)},children:[w.jsx("path",{d:Vs(0,0),fill:"#18181b",stroke:Ee?"#3b82f6":"#27272a",strokeWidth:"1",transform:"scale(0.6) translate(-20, 0)"}),w.jsx("rect",{x:"-20",y:"-80",width:"40",height:"80",fill:"#0a0a0a",stroke:Ee?"#3b82f6":"#27272a",strokeWidth:"1"}),w.jsx("circle",{cx:"-15",cy:"-70",r:"3",fill:"#22c55e",style:{animation:`pulse ${ue?"0.2s":"1s"} infinite`}}),w.jsx("circle",{cx:"-15",cy:"-60",r:"3",fill:"#ef4444",style:{animation:`pulse ${ue?"0.3s":"1.5s"} infinite reverse`}}),w.jsx("circle",{cx:"-15",cy:"-50",r:"3",fill:"#3b82f6",style:{animation:`pulse ${ue?"0.4s":"2s"} infinite`}})]},Ae))}}if(j.id==="CEO_OFFICE"){const ue=F+Math.floor(se/2),de=J+Math.floor($/2),{x:pe,y:he}=ge(ue,de),ye="ceo-desk",ee=D===ye;W.push(w.jsxs("g",{transform:`translate(${pe}, ${he})`,style:{zIndex:ce(ue,de,10),cursor:"pointer",filter:ee?"url(#glow)":"none"},onClick:tt=>{tt.stopPropagation(),z(ye)},children:[w.jsx("ellipse",{cx:"0",cy:"20",rx:"100",ry:"50",fill:"#7c2d12",opacity:"0.1"}),w.jsx("path",{d:"M-30 20 L30 20 L30 50 L-30 50 Z",fill:"#18181b"}),w.jsx("path",{d:Vs(0,0),fill:"#44403c",stroke:ee?"#eab308":"#52525b",strokeWidth:"2",transform:"scale(1.4) translate(-30, -10)"}),w.jsx("path",{d:Vs(0,0),fill:"#292524",transform:"scale(1.4) translate(-30, -6)"}),w.jsx("path",{d:Vs(0,0),fill:"white",opacity:"0.05",transform:"scale(1) translate(-20, -20)"}),w.jsx("path",{d:"M-40 -45 Q0 -55 40 -45 L35 -15 Q0 -25 -35 -15 Z",fill:"#09090b",stroke:"#3f3f46",strokeWidth:"1"}),w.jsx("path",{d:"M-35 -40 Q0 -50 35 -40 L30 -20 Q0 -30 -30 -20 Z",fill:"#eab308",opacity:"0.15"}),w.jsxs("g",{transform:"translate(0, 35)",children:[w.jsx("circle",{cx:"0",cy:"0",r:"16",fill:"#09090b",stroke:"#3f3f46",strokeWidth:"1"}),w.jsx("path",{d:"M-12 -8 Q0 -25 12 -8 L10 8 Q0 15 -10 8 Z",fill:"#18181b"}),w.jsx("rect",{x:"-16",y:"-5",width:"6",height:"15",rx:"3",fill:"#27272a",transform:"rotate(-15)"}),w.jsx("rect",{x:"10",y:"-5",width:"6",height:"15",rx:"3",fill:"#27272a",transform:"rotate(15)"})]})]},ye)),W.push(w.jsxs("g",{transform:`translate(${ge(F+5,J+$-5).x}, ${ge(F+5,J+$-5).y})`,children:[w.jsx("rect",{x:"-40",y:"-100",width:"80",height:"100",fill:"#1c1917",stroke:"#44403c"}),[...Array(4)].map((tt,_t)=>w.jsx("line",{x1:"-40",y1:-20-_t*20,x2:"40",y2:-20-_t*20,stroke:"#44403c",strokeWidth:"2"},_t)),w.jsx("rect",{x:"-30",y:"-18",width:"8",height:"15",fill:"#7c2d12"}),w.jsx("rect",{x:"-20",y:"-18",width:"6",height:"15",fill:"#1e3a8a"}),w.jsx("rect",{x:"10",y:"-38",width:"10",height:"15",fill:"#065f46"})]},"ceo-bookshelf"));const Ae=F+se-3,Ee=J+3,{x:fe,y:st}=ge(Ae,Ee),_e="ceo-plant",Je=D===_e;W.push(w.jsxs("g",{transform:`translate(${fe}, ${st})`,style:{zIndex:ce(Ae,Ee,15),cursor:"pointer",filter:Je?"url(#glow)":"none"},onClick:tt=>{tt.stopPropagation(),z(_e)},children:[w.jsx("ellipse",{cx:"0",cy:"15",rx:"18",ry:"10",fill:"#292524",stroke:Je?"#eab308":"#44403c",strokeWidth:"2"}),w.jsx("rect",{x:"-18",y:"-10",width:"36",height:"25",fill:"#292524"}),w.jsx("ellipse",{cx:"0",cy:"-10",rx:"18",ry:"10",fill:"#1c1917"}),w.jsx("path",{d:"M-10 -10 Q-40 -50 -5 -80 Q25 -50 10 -10 Z",fill:"#15803d"}),w.jsx("path",{d:"M10 -10 Q40 -50 5 -80 Q-25 -50 -10 -10 Z",fill:"#16a34a",transform:"rotate(45)"}),w.jsx("path",{d:"M0 -10 Q-30 -40 -20 -60 Q0 -40 5 -10 Z",fill:"#22c55e",transform:"rotate(-30)"}),w.jsx("path",{d:"M0 -10 Q30 -40 20 -60 Q0 -40 -5 -10 Z",fill:"#15803d",transform:"rotate(60)"})]},_e))}if(j.id==="LOUNGE"){const ue=F+Math.floor(se/2)-2,de=J+Math.floor($/2),{x:pe,y:he}=ge(ue,de),ye="lounge-sofa",ee=D===ye;W.push(w.jsxs("g",{transform:`translate(${pe}, ${he})`,style:{zIndex:ce(ue,de,10),cursor:"pointer",filter:ee?"url(#glow)":"none"},onClick:Ae=>{Ae.stopPropagation(),z(ye)},children:[w.jsx("path",{d:"M-60 0 L60 0 L40 30 L-40 30 Z",fill:"#27272a",stroke:ee?"#22c55e":"#3f3f46",strokeWidth:"2"}),w.jsx("path",{d:"M-60 0 L60 0 L50 -30 L-50 -30 Z",fill:"#18181b"}),w.jsx("rect",{x:"-35",y:"5",width:"30",height:"20",rx:"5",fill:"#3f3f46",transform:"skewX(-20)"}),w.jsx("rect",{x:"5",y:"5",width:"30",height:"20",rx:"5",fill:"#3f3f46",transform:"skewX(-20)"})]},ye)),W.push(w.jsxs("g",{transform:`translate(${pe}, ${he+40})`,style:{zIndex:ce(ue,de+2,10)},children:[w.jsx("ellipse",{cx:"0",cy:"0",rx:"25",ry:"12",fill:"#09090b",stroke:"#27272a",strokeWidth:"2"}),w.jsx("ellipse",{cx:"0",cy:"-5",rx:"25",ry:"12",fill:"url(#glassGradient)",opacity:"0.6"}),w.jsx("circle",{cx:"0",cy:"-10",r:"4",fill:"#16a34a"})]},"lounge-table")),W.push(w.jsxs("g",{transform:`translate(${ge(F+se-5,J+5).x}, ${ge(F+se-5,J+5).y})`,children:[w.jsx("rect",{x:"-15",y:"-40",width:"30",height:"40",fill:"#27272a",stroke:"#3f3f46"}),w.jsx("path",{d:"M-12 -40 Q0 -80 12 -40 Z",fill:"#3b82f6",opacity:"0.4"}),w.jsx("rect",{x:"-5",y:"-20",width:"10",height:"5",fill:"#3f3f46"}),w.jsx("rect",{x:"10",y:"-35",width:"4",height:"20",fill:"#3f3f46"})]},"water-cooler"))}return W};return w.jsxs("div",{className:"w-full h-full bg-[#050505] overflow-hidden relative cursor-move select-none",ref:R,onMouseDown:q,onMouseMove:V,onMouseUp:ne,onMouseLeave:ne,children:[w.jsxs("div",{className:"absolute top-8 left-8 z-50 flex items-center gap-6 pointer-events-none",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full"}),w.jsx("span",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-[0.4em]",children:"Operational HQ"})]}),w.jsxs("h1",{className:"text-white text-4xl font-light tracking-tighter",children:["Physical",w.jsx("span",{className:"text-blue-500",children:"."})]})]}),w.jsx("div",{className:"h-12 w-[1px] bg-white/10 mx-2"}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-600 uppercase tracking-widest",children:"System Latency"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-emerald-500 font-mono text-xs",children:"12ms"}),w.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((j,D)=>w.jsx("div",{className:`w-1 h-3 rounded-full ${D<4?"bg-emerald-500/40":"bg-zinc-800"}`},D))})]})]})]}),w.jsxs("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 flex gap-3 z-50 bg-zinc-900/40 backdrop-blur-2xl border border-white/10 p-2 rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] animate-in slide-in-from-bottom-8 duration-700",children:[w.jsxs("button",{onClick:()=>C(null),className:`px-6 py-3 rounded-2xl text-[11px] font-black uppercase tracking-widest transition-all duration-300 flex items-center gap-2 ${E?"text-zinc-500 hover:text-zinc-300 hover:bg-white/5":"bg-blue-600 text-white shadow-[0_0_20px_rgba(37,99,235,0.4)]"}`,children:[w.jsx(yh,{size:14})," "]}),w.jsx("div",{className:"w-[1px] h-8 bg-white/10 self-center"}),pn.map(j=>w.jsx("button",{onClick:()=>C(j.id),className:`px-6 py-3 rounded-2xl text-[11px] font-black uppercase tracking-widest transition-all duration-300 ${E===j.id?"bg-zinc-100 text-black shadow-xl scale-105":"text-zinc-500 hover:text-zinc-300 hover:bg-white/5"}`,children:j.name},j.id))]}),E&&w.jsx("div",{className:"absolute top-8 right-8 z-50 pointer-events-none animate-in fade-in slide-in-from-right-8 duration-700",children:w.jsxs("div",{className:"bg-black/60 backdrop-blur-2xl border border-white/5 p-6 rounded-2xl flex flex-col gap-6 shadow-[0_0_50px_rgba(0,0,0,0.8)] min-w-[320px] relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent"}),w.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-transparent via-blue-500/20 to-transparent"}),w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),w.jsx("span",{className:"text-[9px] font-mono text-blue-400 uppercase tracking-[0.3em]",children:"Sector Active"})]}),w.jsx("h2",{className:"text-white text-2xl font-light tracking-tight",children:(H=pn.find(j=>j.id===E))==null?void 0:H.name})]}),w.jsxs("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 border border-blue-500/20 flex items-center justify-center text-blue-400 relative",children:[w.jsx(Qs,{size:18,className:"animate-pulse"}),w.jsx("div",{className:"absolute inset-0 border border-blue-500/30 rounded-xl animate-ping opacity-20"})]})]}),w.jsx("div",{className:"h-[1px] w-full bg-gradient-to-r from-white/10 via-white/5 to-transparent"}),w.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-500 uppercase tracking-widest",children:"Personnel"}),w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("span",{className:"text-white font-mono text-3xl font-light",children:f.filter(j=>{const D=pn.find(z=>j.currentPosition.x>=z.x&&j.currentPosition.x<=z.x+z.w&&j.currentPosition.y>=z.y&&j.currentPosition.y<=z.y+z.h);return(D==null?void 0:D.id)===E}).length}),w.jsx("span",{className:"text-zinc-600 text-[9px] uppercase font-mono",children:"Units"})]})]}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-500 uppercase tracking-widest",children:"Status"}),w.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-sm bg-emerald-500 animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),w.jsx("span",{className:"text-emerald-400 font-mono text-[10px] uppercase tracking-widest",children:"Optimized"})]})]})]}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-500 uppercase tracking-widest",children:"System Load"}),w.jsxs("span",{className:"text-[9px] font-mono text-blue-400",children:[(Math.random()*40+20).toFixed(1),"%"]})]}),w.jsx("div",{className:"flex gap-1 h-1.5",children:[...Array(16)].map((j,D)=>w.jsx("div",{className:`flex-1 rounded-sm ${D<10?"bg-blue-500/60 shadow-[0_0_5px_rgba(59,130,246,0.5)]":"bg-zinc-800"}`},D))})]}),w.jsxs("div",{className:"flex flex-col gap-3 mt-2",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-500 uppercase tracking-widest",children:"Active Personnel"}),w.jsxs("div",{className:"flex flex-col gap-2",children:[f.filter(j=>{const D=pn.find(z=>j.currentPosition.x>=z.x&&j.currentPosition.x<=z.x+z.w&&j.currentPosition.y>=z.y&&j.currentPosition.y<=z.y+z.h);return(D==null?void 0:D.id)===E}).map(j=>w.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-2 rounded-lg border border-white/5",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("img",{src:j.avatar,className:"w-6 h-6 rounded-md border border-white/10",alt:""}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-white text-[10px] font-bold",children:j.name}),w.jsx("span",{className:"text-zinc-500 text-[8px] uppercase",children:j.role})]})]}),w.jsxs("div",{className:"flex items-center gap-1.5",children:[w.jsx("div",{className:`w-1 h-1 rounded-full ${j.status==="WORKING"?"bg-emerald-500":"bg-blue-500"}`}),w.jsx("span",{className:"text-[8px] font-mono text-zinc-400 uppercase",children:j.status})]})]},j.id)),f.filter(j=>{const D=pn.find(z=>j.currentPosition.x>=z.x&&j.currentPosition.x<=z.x+z.w&&j.currentPosition.y>=z.y&&j.currentPosition.y<=z.y+z.h);return(D==null?void 0:D.id)===E}).length===0&&w.jsx("div",{className:"text-center py-4 border border-dashed border-white/5 rounded-lg",children:w.jsx("span",{className:"text-[9px] font-mono text-zinc-600 uppercase",children:"No agents present"})})]})]})]})}),w.jsx("svg",{className:"absolute top-0 left-0 w-full h-full bg-[#050505]",viewBox:`${u.x} ${u.y} ${u.w} ${u.h}`,preserveAspectRatio:"xMidYMid slice",style:{transition:"viewBox 1.2s cubic-bezier(0.2, 0, 0.2, 1)"},children:w.jsxs("g",{style:{transform:`scale(${r}) translate(${o.x}px, ${o.y}px)`,transformOrigin:"0 0",transition:N.current?"none":"transform 1.2s cubic-bezier(0.2, 0, 0.2, 1)"},children:[w.jsxs("defs",{children:[w.jsx("pattern",{id:"globalGrid",patternUnits:"userSpaceOnUse",width:"120",height:"60",children:w.jsx("path",{d:"M 120 0 L 0 0 0 60",fill:"none",stroke:"white",strokeWidth:"0.5",opacity:"0.03"})}),w.jsxs("linearGradient",{id:"glassGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[w.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.2)"}),w.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0.05)"})]}),w.jsxs("filter",{id:"blurShadow",children:[w.jsx("feGaussianBlur",{in:"SourceAlpha",stdDeviation:"3",result:"blur"}),w.jsx("feOffset",{in:"blur",dx:"0",dy:"5",result:"offsetBlur"}),w.jsxs("feMerge",{children:[w.jsx("feMergeNode",{in:"offsetBlur"}),w.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),w.jsxs("radialGradient",{id:"ceoLight",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,200,0.1)"}),w.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,200,0)"})]}),w.jsxs("radialGradient",{id:"warRoomLight",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"rgba(100,100,255,0.1)"}),w.jsx("stop",{offset:"100%",stopColor:"rgba(100,100,255,0)"})]}),w.jsxs("radialGradient",{id:"loungeLight",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"rgba(200,255,200,0.08)"}),w.jsx("stop",{offset:"100%",stopColor:"rgba(200,255,200,0)"})]}),w.jsxs("radialGradient",{id:"workingAreaLight",cx:"50%",cy:"50%",r:"50%",fx:"50%",fy:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.05)"}),w.jsx("stop",{offset:"100%",stopColor:"rgba(255,255,255,0)"})]}),w.jsxs("pattern",{id:"woodPattern",patternUnits:"userSpaceOnUse",width:"20",height:"40",patternTransform:"matrix(1, 0.5, -1, 0.5, 0, 0)",children:[w.jsx("rect",{width:"20",height:"40",fill:"#292524"}),w.jsx("path",{d:"M0 0 L0 40",stroke:"#44403c",strokeWidth:"2"}),w.jsx("path",{d:"M0 20 L20 20",stroke:"#44403c",strokeWidth:"1",opacity:"0.5"})]}),w.jsxs("pattern",{id:"carpetPattern",patternUnits:"userSpaceOnUse",width:"20",height:"20",patternTransform:"matrix(1, 0.5, -1, 0.5, 0, 0)",children:[w.jsx("rect",{width:"20",height:"20",fill:"#1e1b4b"}),w.jsx("path",{d:"M0 0 L20 0 L20 20 L0 20 Z",stroke:"#312e81",strokeWidth:"1",opacity:"0.3",fill:"none"})]}),w.jsxs("pattern",{id:"concretePattern",patternUnits:"userSpaceOnUse",width:"30",height:"30",patternTransform:"matrix(1, 0.5, -1, 0.5, 0, 0)",children:[w.jsx("rect",{width:"30",height:"30",fill:"#18181b"}),w.jsx("path",{d:"M0 0 L30 0 L30 30 L0 30 Z",stroke:"#27272a",strokeWidth:"1",fill:"none"}),w.jsx("circle",{cx:"5",cy:"5",r:"1",fill:"#3f3f46",opacity:"0.5"}),w.jsx("circle",{cx:"25",cy:"20",r:"1.5",fill:"#3f3f46",opacity:"0.3"})]}),w.jsxs("pattern",{id:"tilePattern",patternUnits:"userSpaceOnUse",width:"40",height:"40",patternTransform:"matrix(1, 0.5, -1, 0.5, 0, 0)",children:[w.jsx("rect",{width:"40",height:"40",fill:"#09090b"}),w.jsx("path",{d:"M0 0 L40 0 L40 40 L0 40 Z",stroke:"#18181b",strokeWidth:"2",fill:"none"}),w.jsx("path",{d:"M20 0 L20 40 M0 20 L40 20",stroke:"#18181b",strokeWidth:"1",fill:"none"})]}),w.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[w.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"4",result:"blur"}),w.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.23  0 0 0 0 0.51  0 0 0 0 0.96  0 0 0 1 0",result:"glow"}),w.jsxs("feMerge",{children:[w.jsx("feMergeNode",{in:"glow"}),w.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),w.jsxs("radialGradient",{id:"vignetteGradient",cx:"50%",cy:"50%",r:"70%",fx:"50%",fy:"50%",children:[w.jsx("stop",{offset:"0%",stopColor:"rgba(0,0,0,0)"}),w.jsx("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.6)"})]}),w.jsx("pattern",{id:"scanline",patternUnits:"userSpaceOnUse",width:"100%",height:"4",children:w.jsx("rect",{width:"100%",height:"1",fill:"white",opacity:"0.02"})}),w.jsxs("symbol",{id:"thoughtBubble",viewBox:"0 0 100 50",children:[w.jsx("path",{d:"M10 20 Q0 0 20 0 H80 Q100 0 100 20 V30 Q100 50 80 50 H30 L10 45 Z",fill:"white",stroke:"#3f3f46",strokeWidth:"2"}),w.jsx("circle",{cx:"15",cy:"45",r:"5",fill:"white",stroke:"#3f3f46",strokeWidth:"2"}),w.jsx("circle",{cx:"5",cy:"50",r:"2",fill:"white",stroke:"#3f3f46",strokeWidth:"1"})]})]}),w.jsx("rect",{x:"-5000",y:"-3000",width:"10000",height:"6000",fill:"url(#globalGrid)"}),w.jsxs("g",{opacity:"0.12",style:{pointerEvents:"none"},children:[[...Array(25)].map((j,D)=>{const z=800+Math.random()*800,F=120+Math.random()*100,J=-4e3+D*350,se=-1500-(z-1e3);return w.jsxs("g",{children:[w.jsx("rect",{x:J,y:se,width:F,height:z,fill:"#0f172a",stroke:"#1e293b",strokeWidth:"1"}),[...Array(8)].map(($,W)=>w.jsx("g",{transform:`translate(${J+10}, ${se+50+W*80})`,children:[...Array(4)].map((ce,ue)=>w.jsx("rect",{x:ue*(F/5),y:"0",width:"4",height:"4",fill:"#3b82f6",opacity:Math.random()>.7?.4:.05},ue))},W)),w.jsx("animate",{attributeName:"opacity",values:"0.1;0.2;0.1",dur:`${6+D*.3}s`,repeatCount:"indefinite"})]},`building-${D}`)}),w.jsx("rect",{x:"-4000",y:"-2000",width:"8000",height:"1500",fill:"url(#vignetteGradient)",opacity:"0.6"})]}),w.jsx("rect",{x:"-5000",y:"-3000",width:"10000",height:"6000",fill:"url(#scanline)",style:{pointerEvents:"none",opacity:.4}}),w.jsxs("g",{transform:"translate(0, 30)",children:[w.jsx("path",{d:`M${ge(-12,-12).x} ${ge(-12,-12).y} L${ge(62,-12).x+ze} ${ge(62,-12).y+Me} L${ge(62,62).x} ${ge(62,62).y+Me*2} L${ge(-12,62).x-ze} ${ge(-12,62).y+Me} Z`,fill:"#020203",stroke:"#0f172a",strokeWidth:"4"}),w.jsx("path",{d:`M${ge(-10,-10).x} ${ge(-10,-10).y} L${ge(60,-10).x+ze} ${ge(60,-10).y+Me} L${ge(60,60).x} ${ge(60,60).y+Me*2} L${ge(-10,60).x-ze} ${ge(-10,60).y+Me} Z`,fill:"#050507",stroke:"#111114",strokeWidth:"2"})]}),w.jsx("path",{d:`M${ge(0,0).x} ${ge(0,0).y} L${ge(50,0).x+ze} ${ge(50,0).y+Me} L${ge(50,50).x} ${ge(50,50).y+Me*2} L${ge(0,50).x-ze} ${ge(0,50).y+Me} Z`,fill:"#0a0a0c",stroke:"#18181b",strokeWidth:"2",transform:"translate(0, 5)"}),w.jsxs("g",{opacity:"0.2",style:{pointerEvents:"none"},children:[w.jsx("path",{d:`M${ge(0,0).x} ${ge(0,0).y} L${ge(0,50).x} ${ge(0,50).y} L${ge(0,50).x} ${ge(0,50).y-600} L${ge(0,0).x} ${ge(0,0).y-600} Z`,fill:"url(#glassGradient)",stroke:"#3f3f46",strokeWidth:"2"}),w.jsx("path",{d:`M${ge(0,0).x} ${ge(0,0).y} L${ge(50,0).x} ${ge(50,0).y} L${ge(50,0).x} ${ge(50,0).y-600} L${ge(0,0).x} ${ge(0,0).y-600} Z`,fill:"url(#glassGradient)",stroke:"#3f3f46",strokeWidth:"2"}),[...Array(10)].map((j,D)=>w.jsx("line",{x1:ge(D*5,0).x,y1:ge(D*5,0).y,x2:ge(D*5,0).x,y2:ge(D*5,0).y-600,stroke:"#27272a",strokeWidth:"1"},`v-frame-${D}`))]}),[{x:0,y:0},{x:50,y:0},{x:50,y:50},{x:0,y:50},{x:25,y:0},{x:50,y:25},{x:25,y:50},{x:0,y:25}].map((j,D)=>{const z=ge(j.x,j.y);return w.jsxs("g",{transform:`translate(${z.x}, ${z.y})`,children:[w.jsx("rect",{x:"-4",y:"-200",width:"8",height:"200",fill:"#18181b",stroke:"#27272a",strokeWidth:"1",opacity:"0.6"}),w.jsx("rect",{x:"-2",y:"-200",width:"4",height:"200",fill:"#3f3f46",opacity:"0.2"})]},`pillar-${D}`)}),pn.map(Y),[...Array(40)].map((j,D)=>w.jsxs("circle",{cx:Math.random()*4e3-2e3,cy:Math.random()*3e3-1500,r:Math.random()*1.5,fill:"white",opacity:Math.random()*.3,children:[w.jsx("animate",{attributeName:"opacity",values:"0;0.3;0",dur:`${3+Math.random()*5}s`,repeatCount:"indefinite"}),w.jsx("animate",{attributeName:"cy",values:`${Math.random()*3e3-1500};${Math.random()*3e3-1600}`,dur:`${10+Math.random()*20}s`,repeatCount:"indefinite"})]},`particle-${D}`)),pn.map(j=>{const D=(j.x+j.w/2)/100*50,z=(j.y+j.h/2)/100*50,F=ge(D,z);return w.jsxs("g",{transform:`translate(${F.x}, ${F.y-120})`,className:"pointer-events-none",style:{opacity:E?0:1,transition:"opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1)"},children:[w.jsx("rect",{x:"-80",y:"-25",width:"160",height:"40",rx:"20",fill:"black",opacity:"0.6"}),w.jsx("text",{textAnchor:"middle",className:"fill-white font-black uppercase tracking-[0.3em] text-[14px]",style:{filter:"drop-shadow(0 0 8px rgba(59,130,246,0.5))"},children:j.name}),w.jsx("line",{x1:"0",y1:"15",x2:"0",y2:"40",stroke:"white",strokeWidth:"0.5",opacity:"0.3"})]},`label-${j.id}`)}),f.map(j=>{const D=Math.floor(j.currentPosition.x/100*50),z=Math.floor(j.currentPosition.y/100*50);let{x:F,y:J}=ge(D,z);j.status==="WORKING"&&(J+=Me*.5);const se=pn.find(W=>j.currentPosition.x>=W.x&&j.currentPosition.x<=W.x+W.w&&j.currentPosition.y>=W.y&&j.currentPosition.y<=W.y+W.h),$=E&&(se==null?void 0:se.id)!==E;return w.jsxs("g",{transform:`translate(${F}, ${J})`,onClick:W=>{W.stopPropagation(),n(j.id),S(j.id)},style:{cursor:"pointer",zIndex:(D+z)*10+50,filter:t===j.id?"url(#glow)":"none",opacity:$?.1:1,transition:"filter 0.2s ease-out, opacity 0.5s ease-in-out",animation:j.targetPosition?"walkCycle 1s infinite alternate ease-in-out":"none"},className:"group",children:[w.jsx("ellipse",{cx:"0",cy:Me*.8,rx:ze*.8,ry:Me*.4,fill:j.status==="WORKING"?"#22c55e":"#3b82f6",opacity:"0.2",className:"animate-pulse"}),w.jsx("ellipse",{cx:"0",cy:Me*.8,rx:ze*.4,ry:Me*.2,fill:"black",opacity:"0.6",filter:"blur(4px)"}),w.jsx("rect",{x:"-15",y:"-10",width:"30",height:"30",rx:"5",ry:"5",fill:"#3f3f46",stroke:"#52525b",strokeWidth:"1"}),w.jsxs("g",{style:{animation:j.status==="IDLE"?"idleBob 3s infinite ease-in-out":"none"},children:[w.jsx("circle",{cx:"0",cy:-20,r:"20",fill:"#18181b",stroke:j.status==="WORKING"?"#22c55e":"#a855f7",strokeWidth:"3"}),w.jsx("image",{href:j.avatar,x:"-20",y:"-40",width:"40",height:"40",clipPath:"circle(20px at 20px 20px)"}),j.status==="WORKING"&&w.jsxs("g",{transform:"translate(15, -35)",children:[w.jsx("circle",{r:"8",fill:"#22c55e",stroke:"#050505",strokeWidth:"2"}),w.jsx("text",{y:"3",textAnchor:"middle",fontSize:"8",fill:"white",children:""})]})]}),(j.status==="THINKING"||j.status==="WORKING")&&w.jsx("use",{href:"#thoughtBubble",x:"-50",y:"-90",width:"100",height:"50",transform:"scale(0.3)",style:{transformOrigin:"center",animation:"bubblePop 0.5s ease-out forwards"}}),j.status==="THINKING"&&w.jsx("text",{x:"0",y:"-75",textAnchor:"middle",fill:"#3f3f46",fontSize:"18",className:"animate-pulse",children:"..."}),j.status==="WORKING"&&w.jsx("text",{x:"0",y:"-75",textAnchor:"middle",fill:"#3f3f46",fontSize:"18",children:""}),w.jsxs("g",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",transform:"translate(0, -60)",children:[w.jsx("rect",{x:"-40",y:"-15",width:"80",height:"30",rx:"5",ry:"5",fill:"#18181b",stroke:"#27272a",strokeWidth:"1"}),w.jsx("text",{x:"0",y:"0",textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",children:j.name}),w.jsx("text",{x:"0",y:"12",textAnchor:"middle",fill:"#a1a1aa",fontSize:"8",children:j.role})]})]},j.id)}),b&&f.find(j=>j.id===b)&&(()=>{const j=f.find(se=>se.id===b),D=Math.floor(j.currentPosition.x/100*50),z=Math.floor(j.currentPosition.y/100*50),{x:F,y:J}=ge(D,z);return w.jsx("foreignObject",{x:F-60,y:J-160,width:"120",height:"100",style:{zIndex:1e3},children:w.jsxs("div",{className:"flex flex-col gap-1 bg-zinc-900/95 backdrop-blur border border-white/10 rounded-lg p-1 shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[w.jsxs("button",{className:"w-full text-right px-2 py-1.5 text-[10px] font-bold text-white hover:bg-blue-600 rounded transition-colors flex items-center justify-between",onClick:se=>{se.stopPropagation(),console.log("Show details for",j.name)},children:[w.jsx("span",{children:" "}),w.jsx("span",{className:"opacity-50",children:""})]}),w.jsxs("button",{className:"w-full text-right px-2 py-1.5 text-[10px] font-bold text-white hover:bg-blue-600 rounded transition-colors flex items-center justify-between",onClick:se=>{se.stopPropagation(),console.log("Send message to",j.name)},children:[w.jsx("span",{children:" "}),w.jsx("span",{className:"opacity-50",children:""})]}),w.jsx("div",{className:"h-[1px] bg-white/5 my-0.5"}),w.jsxs("button",{className:"w-full text-right px-2 py-1.5 text-[10px] font-bold text-red-400 hover:bg-red-500/20 rounded transition-colors flex items-center justify-between",onClick:se=>{se.stopPropagation(),S(null)},children:[w.jsx("span",{children:""}),w.jsx("span",{className:"opacity-50",children:""})]})]})},"agent-menu")})(),w.jsx("rect",{x:"-5000",y:"-3000",width:"10000",height:"6000",fill:"url(#vignetteGradient)",style:{pointerEvents:"none"}})]})}),w.jsxs("div",{className:"absolute bottom-8 right-8 w-56 h-56 bg-black/40 backdrop-blur-2xl border border-white/5 rounded-2xl overflow-hidden z-50 shadow-2xl group pointer-events-auto",children:[w.jsxs("div",{className:"p-3 border-b border-white/5 flex justify-between items-center bg-zinc-950/50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 animate-pulse shadow-[0_0_8px_rgba(59,130,246,0.6)]"}),w.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] text-zinc-400 font-black",children:"Tactical Radar"})]}),w.jsx("span",{className:"text-[8px] font-mono text-zinc-600",children:"v4.2.0"})]}),w.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full p-4 opacity-80 group-hover:opacity-100 transition-opacity",children:[[...Array(5)].map((j,D)=>w.jsx("line",{x1:"0",y1:D*25,x2:"100",y2:D*25,stroke:"white",strokeWidth:"0.1",opacity:"0.1"},`grid-h-${D}`)),[...Array(5)].map((j,D)=>w.jsx("line",{x1:D*25,y1:"0",x2:D*25,y2:"100",stroke:"white",strokeWidth:"0.1",opacity:"0.1"},`grid-v-${D}`)),w.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"white",strokeWidth:"0.1",opacity:"0.05"}),pn.map(j=>w.jsx("rect",{x:j.x,y:j.y,width:j.w,height:j.h,fill:j.id===E?"rgba(59,130,246,0.2)":"transparent",stroke:"white",strokeWidth:"0.3",opacity:j.id===E?.4:.1,style:{transition:"all 0.5s ease"}},`mini-${j.id}`)),f.map(j=>w.jsx("circle",{cx:j.currentPosition.x,cy:j.currentPosition.y,r:"1.8",fill:j.status==="WORKING"?"#22c55e":j.status==="THINKING"?"#a855f7":"#3b82f6",className:j.status!=="IDLE"?"animate-pulse":""},`radar-agent-${j.id}`)),w.jsx("rect",{x:50-50/r/2+o.x/120,y:50-50/r/2+o.y/100,width:100/r,height:100/r,fill:"none",stroke:"#3b82f6",strokeWidth:"0.8",strokeDasharray:"2 2",style:{transition:"all 0.4s cubic-bezier(0.2, 0, 0.2, 1)"}})]}),w.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between items-center pointer-events-none",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[7px] text-zinc-600 uppercase font-mono",children:"Zoom"}),w.jsxs("span",{className:"text-[9px] text-zinc-400 font-mono",children:[(r*100).toFixed(0),"%"]})]}),w.jsxs("div",{className:"flex flex-col items-end",children:[w.jsx("span",{className:"text-[7px] text-zinc-600 uppercase font-mono",children:"Active"}),w.jsx("span",{className:"text-[9px] text-zinc-400 font-mono",children:f.filter(j=>j.status!=="IDLE").length})]})]})]}),p&&w.jsxs("div",{className:"absolute bottom-8 left-8 bg-zinc-900/90 backdrop-blur border border-white/10 rounded-xl p-4 text-white w-64 z-50",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("h3",{className:"font-bold text-lg",children:"  "}),w.jsx("button",{onClick:()=>g(null),className:"text-zinc-400 hover:text-white",children:""})]}),w.jsxs("p",{className:"text-sm text-zinc-300",children:[p==="war-table"&&"  .     .",p.startsWith("desk-")&&"  .     .",p.startsWith("server-")&&" .      .",p==="ceo-desk"&&' ".     .',p==="ceo-plant"&&" .     ."]})]}),w.jsxs("div",{className:"absolute bottom-8 right-8 flex flex-col gap-2 z-50",children:[w.jsxs("div",{className:"bg-zinc-900/90 backdrop-blur border border-white/10 rounded-xl p-2 flex flex-col gap-2",children:[w.jsx("button",{className:"w-8 h-8 bg-zinc-800 rounded-lg text-white flex items-center justify-center hover:bg-zinc-700 transition-colors",onClick:()=>i(j=>Math.min(2,j+.1)),children:"+"}),w.jsx("button",{className:"w-8 h-8 bg-zinc-800 rounded-lg text-white flex items-center justify-center hover:bg-zinc-700 transition-colors",onClick:()=>i(j=>Math.max(.2,j-.1)),children:"-"})]}),t&&w.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors text-sm font-semibold",onClick:ie,children:" "})]})]})},Tq=({messages:e})=>{const t=A.useRef(null);return A.useEffect(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[e]),w.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scroll-smooth",ref:t,children:[e.length===0&&w.jsx("div",{className:"text-slate-500 text-center italic mt-10",children:"  ...    ."}),e.map(n=>w.jsxs("div",{className:`flex flex-col ${n.role==="user"?"items-start":"items-end"}`,children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[w.jsx("span",{className:"text-[10px] text-slate-500",children:new Date(n.timestamp).toLocaleTimeString()}),w.jsx("span",{className:`text-xs font-bold ${n.role==="user"?"text-blue-400":"text-emerald-400"}`,children:n.senderName})]}),w.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm shadow-md transition-all
            ${n.role==="user"?"bg-blue-600/20 border border-blue-500/30 text-blue-100 rounded-tr-none":"bg-emerald-600/20 border border-emerald-500/30 text-emerald-100 rounded-tl-none"}`,children:n.text})]},n.id))]})},Ow=A.createContext({});function kw(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const qD=typeof window<"u",GD=qD?A.useLayoutEffect:A.useEffect,Xp=A.createContext(null);function Dw(e,t){e.indexOf(t)===-1&&e.push(t)}function Lh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const pi=(e,t,n)=>n>t?t:n<e?e:n;let Lw=()=>{};const Wi={},HD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function FD(e){return typeof e=="object"&&e!==null}const KD=e=>/^0[^.\s]+$/u.test(e);function WD(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ar=e=>e,Aq=(e,t)=>n=>t(e(n)),Fc=(...e)=>e.reduce(Aq),vc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class jw{constructor(){this.subscriptions=[]}add(t){return Dw(this.subscriptions,t),()=>Lh(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=e=>e*1e3,Er=e=>e/1e3;function YD(e,t){return t?e*(1e3/t):0}const JD=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Cq=1e-7,Pq=12;function Nq(e,t,n,r,i){let o,s,u=0;do s=t+(n-t)/2,o=JD(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Cq&&++u<Pq);return s}function Kc(e,t,n,r){if(e===t&&n===r)return Ar;const i=o=>Nq(o,0,1,e,n);return o=>o===0||o===1?o:JD(i(o),t,r)}const XD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZD=e=>t=>1-e(1-t),QD=Kc(.33,1.53,.69,.99),Uw=ZD(QD),e2=XD(Uw),t2=e=>(e*=2)<1?.5*Uw(e):.5*(2-Math.pow(2,-10*(e-1))),$w=e=>1-Math.sin(Math.acos(e)),n2=ZD($w),r2=XD($w),Rq=Kc(.42,0,1,1),Iq=Kc(0,0,.58,1),i2=Kc(.42,0,.58,1),Mq=e=>Array.isArray(e)&&typeof e[0]!="number",o2=e=>Array.isArray(e)&&typeof e[0]=="number",Oq={linear:Ar,easeIn:Rq,easeInOut:i2,easeOut:Iq,circIn:$w,circInOut:r2,circOut:n2,backIn:Uw,backInOut:e2,backOut:QD,anticipate:t2},kq=e=>typeof e=="string",EC=e=>{if(o2(e)){Lw(e.length===4);const[t,n,r,i]=e;return Kc(t,n,r,i)}else if(kq(e))return Oq[e];return e},$d=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Dq(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function c(h){s.has(h)&&(f.schedule(h),e()),h(u)}const f={schedule:(h,p=!1,g=!1)=>{const S=g&&i?n:r;return p&&s.add(h),S.has(h)||S.add(h),h},cancel:h=>{r.delete(h),s.delete(h)},process:h=>{if(u=h,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,f.process(h))}};return f}const Lq=40;function a2(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=$d.reduce((N,I)=>(N[I]=Dq(o),N),{}),{setup:u,read:c,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:b,postRender:S}=s,E=()=>{const N=Wi.useManualTiming?i.timestamp:performance.now();n=!1,Wi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,Lq),1)),i.timestamp=N,i.isProcessing=!0,u.process(i),c.process(i),f.process(i),h.process(i),p.process(i),g.process(i),b.process(i),S.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(E))},T=()=>{n=!0,r=!0,i.isProcessing||e(E)};return{schedule:$d.reduce((N,I)=>{const O=s[I];return N[I]=(M,U=!1,q=!1)=>(n||T(),O.schedule(M,U,q)),N},{}),cancel:N=>{for(let I=0;I<$d.length;I++)s[$d[I]].cancel(N)},state:i,steps:s}}const{schedule:dt,cancel:Xo,state:gn,steps:_y}=a2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ar,!0);let bh;function jq(){bh=void 0}const Nn={now:()=>(bh===void 0&&Nn.set(gn.isProcessing||Wi.useManualTiming?gn.timestamp:performance.now()),bh),set:e=>{bh=e,queueMicrotask(jq)}},s2=e=>t=>typeof t=="string"&&t.startsWith(e),l2=s2("--"),Uq=s2("var(--"),zw=e=>Uq(e)?$q.test(e.split("/*")[0].trim()):!1,$q=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function TC(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Il={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yc={...Il,transform:e=>pi(0,1,e)},zd={...Il,default:1},uc=e=>Math.round(e*1e5)/1e5,Bw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zq(e){return e==null}const Bq=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vw=(e,t)=>n=>!!(typeof n=="string"&&Bq.test(n)&&n.startsWith(e)||t&&!zq(n)&&Object.prototype.hasOwnProperty.call(n,t)),u2=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,u]=r.match(Bw);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:u!==void 0?parseFloat(u):1}},Vq=e=>pi(0,255,e),Sy={...Il,transform:e=>Math.round(Vq(e))},Da={test:Vw("rgb","red"),parse:u2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Sy.transform(e)+", "+Sy.transform(t)+", "+Sy.transform(n)+", "+uc(yc.transform(r))+")"};function qq(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const jb={test:Vw("#"),parse:qq,transform:Da.transform},Wc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$o=Wc("deg"),di=Wc("%"),we=Wc("px"),Gq=Wc("vh"),Hq=Wc("vw"),AC={...di,parse:e=>di.parse(e)/100,transform:e=>di.transform(e*100)},al={test:Vw("hsl","hue"),parse:u2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+di.transform(uc(t))+", "+di.transform(uc(n))+", "+uc(yc.transform(r))+")"},Ut={test:e=>Da.test(e)||jb.test(e)||al.test(e),parse:e=>Da.test(e)?Da.parse(e):al.test(e)?al.parse(e):jb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Da.transform(e):al.transform(e),getAnimatableNone:e=>{const t=Ut.parse(e);return t.alpha=0,Ut.transform(t)}},Fq=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Kq(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Bw))==null?void 0:t.length)||0)+(((n=e.match(Fq))==null?void 0:n.length)||0)>0}const c2="number",f2="color",Wq="var",Yq="var(",CC="${}",Jq=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const u=t.replace(Jq,c=>(Ut.test(c)?(r.color.push(o),i.push(f2),n.push(Ut.parse(c))):c.startsWith(Yq)?(r.var.push(o),i.push(Wq),n.push(c)):(r.number.push(o),i.push(c2),n.push(parseFloat(c))),++o,CC)).split(CC);return{values:n,split:u,indexes:r,types:i}}function d2(e){return bc(e).values}function h2(e){const{split:t,types:n}=bc(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const u=n[s];u===c2?o+=uc(i[s]):u===f2?o+=Ut.transform(i[s]):o+=i[s]}return o}}const Xq=e=>typeof e=="number"?0:Ut.test(e)?Ut.getAnimatableNone(e):e;function Zq(e){const t=d2(e);return h2(e)(t.map(Xq))}const qr={test:Kq,parse:d2,createTransformer:h2,getAnimatableNone:Zq};function Ey(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qq({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const u=n<.5?n*(1+t):n+t-n*t,c=2*n-u;i=Ey(c,u,e+1/3),o=Ey(c,u,e),s=Ey(c,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function jh(e,t){return n=>n>0?t:e}const wt=(e,t,n)=>e+(t-e)*n,Ty=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},e6=[jb,Da,al],t6=e=>e6.find(t=>t.test(e));function PC(e){const t=t6(e);if(!t)return!1;let n=t.parse(e);return t===al&&(n=Qq(n)),n}const NC=(e,t)=>{const n=PC(e),r=PC(t);if(!n||!r)return jh(e,t);const i={...n};return o=>(i.red=Ty(n.red,r.red,o),i.green=Ty(n.green,r.green,o),i.blue=Ty(n.blue,r.blue,o),i.alpha=wt(n.alpha,r.alpha,o),Da.transform(i))},Ub=new Set(["none","hidden"]);function n6(e,t){return Ub.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function r6(e,t){return n=>wt(e,t,n)}function qw(e){return typeof e=="number"?r6:typeof e=="string"?zw(e)?jh:Ut.test(e)?NC:a6:Array.isArray(e)?p2:typeof e=="object"?Ut.test(e)?NC:i6:jh}function p2(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>qw(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function i6(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=qw(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function o6(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][r[o]],u=e.values[s]??0;n[i]=u,r[o]++}return n}const a6=(e,t)=>{const n=qr.createTransformer(t),r=bc(e),i=bc(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ub.has(e)&&!i.values.length||Ub.has(t)&&!r.values.length?n6(e,t):Fc(p2(o6(r,i),i.values),n):jh(e,t)};function m2(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?wt(e,t,n):qw(e)(e,t)}const s6=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>dt.update(t,n),stop:()=>Xo(t),now:()=>gn.isProcessing?gn.timestamp:Nn.now()}},g2=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Uh=2e4;function Gw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Uh;)t+=n,r=e.next(t);return t>=Uh?1/0:t}function l6(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Gw(r),Uh);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:Er(i)}}const u6=5;function v2(e,t,n){const r=Math.max(t-u6,0);return YD(n-e(r),t-r)}const Ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ay=.001;function c6({duration:e=Ct.duration,bounce:t=Ct.bounce,velocity:n=Ct.velocity,mass:r=Ct.mass}){let i,o,s=1-t;s=pi(Ct.minDamping,Ct.maxDamping,s),e=pi(Ct.minDuration,Ct.maxDuration,Er(e)),s<1?(i=f=>{const h=f*s,p=h*e,g=h-n,b=$b(f,s),S=Math.exp(-p);return Ay-g/b*S},o=f=>{const p=f*s*e,g=p*n+n,b=Math.pow(s,2)*Math.pow(f,2)*e,S=Math.exp(-p),E=$b(Math.pow(f,2),s);return(-i(f)+Ay>0?-1:1)*((g-b)*S)/E}):(i=f=>{const h=Math.exp(-f*e),p=(f-n)*e+1;return-Ay+h*p},o=f=>{const h=Math.exp(-f*e),p=(n-f)*(e*e);return h*p});const u=5/e,c=d6(i,o,u);if(e=Vr(e),isNaN(c))return{stiffness:Ct.stiffness,damping:Ct.damping,duration:e};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:e}}}const f6=12;function d6(e,t,n){let r=n;for(let i=1;i<f6;i++)r=r-e(r)/t(r);return r}function $b(e,t){return e*Math.sqrt(1-t*t)}const h6=["duration","bounce"],p6=["stiffness","damping","mass"];function RC(e,t){return t.some(n=>e[n]!==void 0)}function m6(e){let t={velocity:Ct.velocity,stiffness:Ct.stiffness,damping:Ct.damping,mass:Ct.mass,isResolvedFromDuration:!1,...e};if(!RC(e,p6)&&RC(e,h6))if(t.velocity=0,e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*pi(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ct.mass,stiffness:i,damping:o}}else{const n=c6({...e,velocity:0});t={...t,...n,mass:Ct.mass},t.isResolvedFromDuration=!0}return t}function $h(e=Ct.visualDuration,t=Ct.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:c,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:b}=m6({...n,velocity:-Er(n.velocity||0)}),S=g||0,E=f/(2*Math.sqrt(c*h)),T=s-o,C=Er(Math.sqrt(c/h)),R=Math.abs(T)<5;r||(r=R?Ct.restSpeed.granular:Ct.restSpeed.default),i||(i=R?Ct.restDelta.granular:Ct.restDelta.default);let N;if(E<1){const O=$b(C,E);N=M=>{const U=Math.exp(-E*C*M);return s-U*((S+E*C*T)/O*Math.sin(O*M)+T*Math.cos(O*M))}}else if(E===1)N=O=>s-Math.exp(-C*O)*(T+(S+C*T)*O);else{const O=C*Math.sqrt(E*E-1);N=M=>{const U=Math.exp(-E*C*M),q=Math.min(O*M,300);return s-U*((S+E*C*T)*Math.sinh(q)+O*T*Math.cosh(q))/O}}const I={calculatedDuration:b&&p||null,next:O=>{const M=N(O);if(b)u.done=O>=p;else{let U=O===0?S:0;E<1&&(U=O===0?Vr(S):v2(N,O,M));const q=Math.abs(U)<=r,V=Math.abs(s-M)<=i;u.done=q&&V}return u.value=u.done?s:M,u},toString:()=>{const O=Math.min(Gw(I),Uh),M=g2(U=>I.next(O*U).value,O,30);return O+"ms "+M},toTransition:()=>{}};return I}$h.applyToOptions=e=>{const t=l6(e,100,$h);return e.ease=t.ease,e.duration=Vr(t.duration),e.type="keyframes",e};function zb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:u,max:c,restDelta:f=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},b=q=>u!==void 0&&q<u||c!==void 0&&q>c,S=q=>u===void 0?c:c===void 0||Math.abs(u-q)<Math.abs(c-q)?u:c;let E=n*t;const T=p+E,C=s===void 0?T:s(T);C!==T&&(E=C-p);const R=q=>-E*Math.exp(-q/r),N=q=>C+R(q),I=q=>{const V=R(q),ne=N(q);g.done=Math.abs(V)<=f,g.value=g.done?C:ne};let O,M;const U=q=>{b(g.value)&&(O=q,M=$h({keyframes:[g.value,S(g.value)],velocity:v2(N,q,g.value),damping:i,stiffness:o,restDelta:f,restSpeed:h}))};return U(0),{calculatedDuration:null,next:q=>{let V=!1;return!M&&O===void 0&&(V=!0,I(q),U(q)),O!==void 0&&q>=O?M.next(q-O):(!V&&I(q),g)}}}function g6(e,t,n){const r=[],i=n||Wi.mix||m2,o=e.length-1;for(let s=0;s<o;s++){let u=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Ar:t;u=Fc(c,u)}r.push(u)}return r}function v6(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Lw(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=g6(t,r,i),c=u.length,f=h=>{if(s&&h<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const g=vc(e[p],e[p+1],h);return u[p](g)};return n?h=>f(pi(e[0],e[o-1],h)):f}function y6(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=vc(0,t,r);e.push(wt(n,1,i))}}function b6(e){const t=[0];return y6(t,e.length-1),t}function x6(e,t){return e.map(n=>n*t)}function w6(e,t){return e.map(()=>t||i2).splice(0,e.length-1)}function cc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Mq(r)?r.map(EC):EC(r),o={done:!1,value:t[0]},s=x6(n&&n.length===t.length?n:b6(t),e),u=v6(s,t,{ease:Array.isArray(i)?i:w6(t,i)});return{calculatedDuration:e,next:c=>(o.value=u(c),o.done=c>=e,o)}}const _6=e=>e!==null;function Hw(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(_6),u=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!u||r===void 0?o[u]:r}const S6={decay:zb,inertia:zb,tween:cc,keyframes:cc,spring:$h};function y2(e){typeof e.type=="string"&&(e.type=S6[e.type])}class Fw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const E6=e=>e/100;class Kw extends Fw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;y2(t);const{type:n=cc,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=t;let{keyframes:u}=t;const c=n||cc;c!==cc&&typeof u[0]!="number"&&(this.mixKeyframes=Fc(E6,m2(u[0],u[1])),u=[0,100]);const f=c({...t,keyframes:u});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...u].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=Gw(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:u,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:b,type:S,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,I=r;if(p){const q=Math.min(this.currentTime,i)/u;let V=Math.floor(q),ne=q%1;!ne&&q>=1&&(ne=1),ne===1&&V--,V=Math.min(V,p+1),!!(V%2)&&(g==="reverse"?(ne=1-ne,b&&(ne-=b/u)):g==="mirror"&&(I=s)),N=pi(0,1,ne)*u}const O=R?{done:!1,value:h[0]}:I.next(N);o&&(O.value=o(O.value));let{done:M}=O;!R&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return U&&S!==zb&&(O.value=Hw(h,this.options,T,this.speed)),E&&E(O.value),U&&this.finish(),O}then(t,n){return this.finished.then(t,n)}get duration(){return Er(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Er(t)}get time(){return Er(this.currentTime)}set time(t){var n;t=Vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Nn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Er(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=s6,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function T6(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const La=e=>e*180/Math.PI,Bb=e=>{const t=La(Math.atan2(e[1],e[0]));return Vb(t)},A6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bb,rotateZ:Bb,skewX:e=>La(Math.atan(e[1])),skewY:e=>La(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vb=e=>(e=e%360,e<0&&(e+=360),e),IC=Bb,MC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),C6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MC,scaleY:OC,scale:e=>(MC(e)+OC(e))/2,rotateX:e=>Vb(La(Math.atan2(e[6],e[5]))),rotateY:e=>Vb(La(Math.atan2(-e[2],e[0]))),rotateZ:IC,rotate:IC,skewX:e=>La(Math.atan(e[4])),skewY:e=>La(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function qb(e){return e.includes("scale")?1:0}function Gb(e,t){if(!e||e==="none")return qb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=C6,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=A6,i=u}if(!i)return qb(t);const o=r[t],s=i[1].split(",").map(N6);return typeof o=="function"?o(s):s[o]}const P6=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gb(n,t)};function N6(e){return parseFloat(e.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Ml),kC=e=>e===Il||e===we,R6=new Set(["x","y","z"]),I6=Ml.filter(e=>!R6.has(e));function M6(e){const t=[];return I6.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Fo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gb(t,"x"),y:(e,{transform:t})=>Gb(t,"y")};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const Va=new Set;let Hb=!1,Fb=!1,Kb=!1;function b2(){if(Fb){const e=Array.from(Va).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=M6(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var u;(u=r.getValue(o))==null||u.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fb=!1,Hb=!1,Va.forEach(e=>e.complete(Kb)),Va.clear()}function x2(){Va.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fb=!0)})}function O6(){Kb=!0,x2(),b2(),Kb=!1}class Ww{constructor(t,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Va.add(this),Hb||(Hb=!0,dt.read(x2),dt.resolveKeyframes(b2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const u=r.readValue(n,s);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=s),i&&o===void 0&&i.set(t[0])}T6(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Va.delete(this)}cancel(){this.state==="scheduled"&&(Va.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const k6=e=>e.startsWith("--");function D6(e,t,n){k6(t)?e.style.setProperty(t,n):e.style[t]=n}const L6={};function w2(e,t){const n=WD(e);return()=>L6[t]??n()}const j6=w2(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),_2=w2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rc=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,DC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rc([0,.65,.55,1]),circOut:rc([.55,0,1,.45]),backIn:rc([.31,.01,.66,-.59]),backOut:rc([.33,1.53,.69,.99])};function S2(e,t){if(e)return typeof e=="function"?_2()?g2(e,t):"ease-out":o2(e)?rc(e):Array.isArray(e)?e.map(n=>S2(n,t)||DC.easeOut):DC[e]}function U6(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:u="easeOut",times:c}={},f=void 0){const h={[t]:n};c&&(h.offset=c);const p=S2(u,i);Array.isArray(p)&&(h.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),e.animate(h,g)}function E2(e){return typeof e=="function"&&"applyToOptions"in e}function $6({type:e,...t}){return E2(e)&&_2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class T2 extends Fw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:u,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=t,Lw(typeof t.type!="string");const f=$6(t);this.animation=U6(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const h=Hw(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):D6(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,i;const t=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Er(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Er(t)}get time(){return Er(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&j6()?(this.animation.timeline=t,Ar):n(this)}}const A2={anticipate:t2,backInOut:e2,circInOut:r2};function z6(e){return e in A2}function B6(e){typeof e.ease=="string"&&z6(e.ease)&&(e.ease=A2[e.ease])}const Cy=10;class V6 extends T2{constructor(t){B6(t),y2(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new Kw({...s,autoplay:!1}),c=Math.max(Cy,Nn.now()-this.startTime),f=pi(0,Cy,c-Cy);n.setWithVelocity(u.sample(Math.max(0,c-f)).value,u.sample(c).value,f),u.stop()}}const LC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qr.test(e)||e==="0")&&!e.startsWith("url("));function q6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function G6(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=LC(i,t),u=LC(o,t);return!s||!u?!1:q6(e)||(n==="spring"||E2(n))&&r}function Wb(e){e.duration=0,e.type="keyframes"}const H6=new Set(["opacity","clipPath","filter","transform"]),F6=WD(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K6(e){var h;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:f}=t.owner.getProps();return F6()&&n&&H6.has(n)&&(n!=="transform"||!f)&&!c&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const W6=40;class Y6 extends Fw{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:u,name:c,motionValue:f,element:h,...p}){var S;super(),this.stop=()=>{var E,T;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Nn.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:c,motionValue:f,element:h,...p},b=(h==null?void 0:h.KeyframeResolver)||Ww;this.keyframeResolver=new b(u,(E,T,C)=>this.onKeyframesResolved(E,T,g,!C),c,f,h),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(t,n,r,i){var T,C;this.keyframeResolver=void 0;const{name:o,type:s,velocity:u,delay:c,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Nn.now(),G6(t,o,s,u)||((Wi.instantAnimations||!c)&&(h==null||h(Hw(t,r,n))),t[0]=t[t.length-1],Wb(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>W6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},b=!f&&K6(g),S=(C=(T=g.motionValue)==null?void 0:T.owner)==null?void 0:C.current,E=b?new V6({...g,element:S}):new Kw(g);E.finished.then(()=>{this.notifyFinished()}).catch(Ar),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),O6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function C2(e,t,n,r=0,i=1){const o=Array.from(e).sort((f,h)=>f.sortNodePosition(h)).indexOf(t),s=e.size,u=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:u-o*r}const J6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X6(e){const t=J6.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function P2(e,t,n=1){const[r,i]=X6(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return HD(s)?parseFloat(s):s}return zw(i)?P2(i,t,n+1):i}const Z6={type:"spring",stiffness:500,damping:25,restSpeed:10},Q6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eG={type:"keyframes",duration:.8},tG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nG=(e,{keyframes:t})=>t.length>2?eG:Ol.has(e)?e.startsWith("scale")?Q6(t[1]):Z6:tG,rG=e=>e!==null;function iG(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(rG),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}function N2(e,t){if(e!=null&&e.inherit&&t){const{inherit:n,...r}=e;return{...t,...r}}return e}function Yw(e,t){const n=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return n!==e?N2(n,e):n}function oG({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:u,from:c,elapsed:f,...h}){return!!Object.keys(h).length}const Jw=(e,t,n,r={},i,o)=>s=>{const u=Yw(r,e)||{},c=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Vr(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:g=>{t.set(g),u.onUpdate&&u.onUpdate(g)},onComplete:()=>{s(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:o?void 0:i};oG(u)||Object.assign(h,nG(e,h)),h.duration&&(h.duration=Vr(h.duration)),h.repeatDelay&&(h.repeatDelay=Vr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Wb(h),h.delay===0&&(p=!0)),(Wi.instantAnimations||Wi.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(p=!0,Wb(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,p&&!o&&t.get()!==void 0){const g=iG(h.keyframes,u);if(g!==void 0){dt.update(()=>{h.onUpdate(g),h.onComplete()});return}}return u.isSync?new Kw(h):new Y6(h)};function jC(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Xw(e,t,n,r){if(typeof t=="function"){const[i,o]=jC(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=jC(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function vl(e,t,n){const r=e.getProps();return Xw(r,t,n!==void 0?n:r.custom,e)}const R2=new Set(["width","height","top","left","right","bottom",...Ml]),UC=30,aG=e=>!isNaN(parseFloat(e));class sG{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Nn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aG(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jw);const r=this.events[t].add(n);return t==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>UC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,UC);return YD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sl(e,t){return new sG(e,t)}const Yb=e=>Array.isArray(e);function lG(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Sl(n))}function uG(e){return Yb(e)?e[e.length-1]||0:e}function cG(e,t){const n=vl(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const u=uG(o[s]);lG(e,s,u)}}const Sn=e=>!!(e&&e.getVelocity);function fG(e){return!!(Sn(e)&&e.add)}function Jb(e,t){const n=e.getValue("willChange");if(fG(n))return n.add(t);if(!n&&Wi.WillChange){const r=new Wi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Zw(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const dG="framerAppearId",I2="data-"+Zw(dG);function M2(e){return e.props[I2]}function hG({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function O2(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o,transitionEnd:s,...u}=t;const c=e.getDefaultTransition();o=o?N2(o,c):c;const f=o==null?void 0:o.reduceMotion;r&&(o=r);const h=[],p=i&&e.animationState&&e.animationState.getState()[i];for(const g in u){const b=e.getValue(g,e.latestValues[g]??null),S=u[g];if(S===void 0||p&&hG(p,g))continue;const E={delay:n,...Yw(o||{},g)},T=b.get();if(T!==void 0&&!b.isAnimating&&!Array.isArray(S)&&S===T&&!E.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const I=M2(e);if(I){const O=window.MotionHandoffAnimation(I,g,dt);O!==null&&(E.startTime=O,C=!0)}}Jb(e,g);const R=f??e.shouldReduceMotion;b.start(Jw(g,b,S,R&&R2.has(g)?{type:!1}:E,e,C));const N=b.animation;N&&h.push(N)}if(s){const g=()=>dt.update(()=>{s&&cG(e,s)});h.length?Promise.all(h).then(g):g()}return h}function Xb(e,t,n={}){var c;const r=vl(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(O2(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return pG(e,t,f,h,p,g,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,h]=u==="beforeChildren"?[o,s]:[s,o];return f().then(()=>h())}else return Promise.all([o(),s(n.delay)])}function pG(e,t,n=0,r=0,i=0,o=1,s){const u=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),u.push(Xb(c,t,{...s,delay:n+(typeof r=="function"?0:r)+C2(e.variantChildren,c,r,i,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(u)}function mG(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>Xb(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=Xb(e,t,n);else{const i=typeof t=="function"?vl(e,t,n.custom):t;r=Promise.all(O2(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const gG={test:e=>e==="auto",parse:e=>e},k2=e=>t=>t.test(e),D2=[Il,we,di,$o,Hq,Gq,gG],$C=e=>D2.find(k2(e));function vG(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||KD(e):!0}const yG=new Set(["brightness","contrast","saturate","opacity"]);function bG(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Bw)||[];if(!r)return e;const i=n.replace(r,"");let o=yG.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const xG=/\b([a-z-]*)\(.*?\)/gu,Zb={...qr,getAnimatableNone:e=>{const t=e.match(xG);return t?t.map(bG).join(" "):e}},Qb={...qr,getAnimatableNone:e=>{const t=qr.parse(e);return qr.createTransformer(e)(t.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},zC={...Il,transform:Math.round},wG={rotate:$o,rotateX:$o,rotateY:$o,rotateZ:$o,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:$o,skewX:$o,skewY:$o,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:yc,originX:AC,originY:AC,originZ:we},Qw={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...wG,zIndex:zC,fillOpacity:yc,strokeOpacity:yc,numOctaves:zC},_G={...Qw,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Zb,WebkitFilter:Zb,mask:Qb,WebkitMask:Qb},L2=e=>_G[e],SG=new Set([Zb,Qb]);function j2(e,t){let n=L2(e);return SG.has(n)||(n=qr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const EG=new Set(["auto","none","0"]);function TG(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!EG.has(o)&&bc(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=j2(n,i)}class AG extends Ww{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let p=t[h];if(typeof p=="string"&&(p=p.trim(),zw(p))){const g=P2(p,n.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!R2.has(r)||t.length!==2)return;const[i,o]=t,s=$C(i),u=$C(o),c=TC(i),f=TC(o);if(c!==f&&Fo[r]){this.needsMeasurement=!0;return}if(s!==u)if(kC(s)&&kC(u))for(let h=0;h<t.length;h++){const p=t[h];typeof p=="string"&&(t[h]=parseFloat(p))}else Fo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||vG(t[i]))&&r.push(i);r.length&&TG(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=Fo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([c,f])=>{t.getValue(c).set(f)}),this.resolveNoneKeyframes()}}const CG=new Set(["opacity","clipPath","filter","transform"]);function U2(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(r=>r!=null)}const $2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ex(e){return FD(e)&&"offsetHeight"in e}const{schedule:e_}=a2(queueMicrotask,!1),Lr={x:!1,y:!1};function z2(){return Lr.x||Lr.y}function PG(e){return e==="x"||e==="y"?Lr[e]?null:(Lr[e]=!0,()=>{Lr[e]=!1}):Lr.x||Lr.y?null:(Lr.x=Lr.y=!0,()=>{Lr.x=Lr.y=!1})}function B2(e,t){const n=U2(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function NG(e){return!(e.pointerType==="touch"||z2())}function RG(e,t,n={}){const[r,i,o]=B2(e,n);return r.forEach(s=>{let u=!1,c=!1,f;const h=()=>{s.removeEventListener("pointerleave",S)},p=T=>{f&&(f(T),f=void 0),h()},g=T=>{u=!1,window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",g),c&&(c=!1,p(T))},b=()=>{u=!0,window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",g,i)},S=T=>{if(T.pointerType!=="touch"){if(u){c=!0;return}p(T)}},E=T=>{if(!NG(T))return;c=!1;const C=t(s,T);typeof C=="function"&&(f=C,s.addEventListener("pointerleave",S,i))};s.addEventListener("pointerenter",E,i),s.addEventListener("pointerdown",b,i)}),o}const V2=(e,t)=>t?e===t?!0:V2(e,t.parentElement):!1,t_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,IG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MG(e){return IG.has(e.tagName)||e.isContentEditable===!0}const OG=new Set(["INPUT","SELECT","TEXTAREA"]);function kG(e){return OG.has(e.tagName)||e.isContentEditable===!0}const xh=new WeakSet;function BC(e){return t=>{t.key==="Enter"&&e(t)}}function Py(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const DG=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=BC(()=>{if(xh.has(n))return;Py(n,"down");const i=BC(()=>{Py(n,"up")}),o=()=>Py(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function VC(e){return t_(e)&&!z2()}const qC=new WeakSet;function LG(e,t,n={}){const[r,i,o]=B2(e,n),s=u=>{const c=u.currentTarget;if(!VC(u)||qC.has(u))return;xh.add(c),n.stopPropagation&&qC.add(u);const f=t(c,u),h=(b,S)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),xh.has(c)&&xh.delete(c),VC(b)&&typeof f=="function"&&f(b,{success:S})},p=b=>{h(b,c===window||c===document||n.useGlobalTarget||V2(c,b.target))},g=b=>{h(b,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",s,i),ex(u)&&(u.addEventListener("focus",f=>DG(f,i)),!MG(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function n_(e){return FD(e)&&"ownerSVGElement"in e}const wh=new WeakMap;let zo;const q2=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:n_(r)&&"getBBox"in r?r.getBBox()[t]:r[n],jG=q2("inline","width","offsetWidth"),UG=q2("block","height","offsetHeight");function $G({target:e,borderBoxSize:t}){var n;(n=wh.get(e))==null||n.forEach(r=>{r(e,{get width(){return jG(e,t)},get height(){return UG(e,t)}})})}function zG(e){e.forEach($G)}function BG(){typeof ResizeObserver>"u"||(zo=new ResizeObserver(zG))}function VG(e,t){zo||BG();const n=U2(e);return n.forEach(r=>{let i=wh.get(r);i||(i=new Set,wh.set(r,i)),i.add(t),zo==null||zo.observe(r)}),()=>{n.forEach(r=>{const i=wh.get(r);i==null||i.delete(t),i!=null&&i.size||zo==null||zo.unobserve(r)})}}const _h=new Set;let sl;function qG(){sl=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};_h.forEach(t=>t(e))},window.addEventListener("resize",sl)}function GG(e){return _h.add(e),sl||qG(),()=>{_h.delete(e),!_h.size&&typeof sl=="function"&&(window.removeEventListener("resize",sl),sl=void 0)}}function GC(e,t){return typeof e=="function"?GG(e):VG(e,t)}function HG(e){return n_(e)&&e.tagName==="svg"}const FG=[...D2,Ut,qr],KG=e=>FG.find(k2(e)),HC=()=>({translate:0,scale:1,origin:0,originPoint:0}),ll=()=>({x:HC(),y:HC()}),FC=()=>({min:0,max:0}),Vt=()=>({x:FC(),y:FC()}),WG=new WeakMap;function Zp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xc(e){return typeof e=="string"||Array.isArray(e)}const r_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],i_=["initial",...r_];function Qp(e){return Zp(e.animate)||i_.some(t=>xc(e[t]))}function G2(e){return!!(Qp(e)||e.variants)}function YG(e,t,n){for(const r in t){const i=t[r],o=n[r];if(Sn(i))e.addValue(r,i);else if(Sn(o))e.addValue(r,Sl(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Sl(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const tx={current:null},H2={current:!1},JG=typeof window<"u";function XG(){if(H2.current=!0,!!JG)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tx.current=e.matches;e.addEventListener("change",t),t()}else tx.current=!1}const KC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zh={};function F2(e){zh=e}function ZG(){return zh}class QG{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:o,blockInitialAnimation:s,visualState:u},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Ww,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Nn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,dt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=o,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Qp(n),this.isVariantNode=G2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const S=g[b];f[b]!==void 0&&Sn(S)&&S.set(f[b])}}mount(t){var n,r;if(this.hasBeenMounted)for(const i in this.initialValues)(n=this.values.get(i))==null||n.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=t,WG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(H2.current||XG(),this.shouldReduceMotion=tx.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),Xo(this.notifyUpdate),Xo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),n.accelerate&&CG.has(t)&&this.current instanceof HTMLElement){const{factory:s,keyframes:u,times:c,ease:f,duration:h}=n.accelerate,p=new T2({element:this.current,name:t,keyframes:u,times:c,ease:f,duration:Vr(h)}),g=s(p);this.valueSubscriptions.set(t,()=>{g(),p.cancel()});return}const r=Ol.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zh){const n=zh[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KC.length;r++){const i=KC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=YG(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Sl(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(HD(r)||KD(r))?r=parseFloat(r):!KG(r)&&qr.test(n)&&(r=j2(t,n)),this.setBaseTarget(t,Sn(r)?r.get():r)),Sn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=Xw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Sn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jw),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){e_.render(this.render)}}class K2 extends QG{constructor(){super(...arguments),this.KeyframeResolver=AG}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const r=t.style;return r?r[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Qo{constructor(t){this.isMounted=!1,this.node=t}update(){}}function W2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function eH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tH(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ny(e){return e===void 0||e===1}function nx({scale:e,scaleX:t,scaleY:n}){return!Ny(e)||!Ny(t)||!Ny(n)}function Ca(e){return nx(e)||Y2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Y2(e){return WC(e.x)||WC(e.y)}function WC(e){return e&&e!=="0%"}function Bh(e,t,n){const r=e-n,i=t*r;return n+i}function YC(e,t,n,r,i){return i!==void 0&&(e=Bh(e,i,r)),Bh(e,n,r)+t}function rx(e,t=0,n=1,r,i){e.min=YC(e.min,t,n,r,i),e.max=YC(e.max,t,n,r,i)}function J2(e,{x:t,y:n}){rx(e.x,t.translate,t.scale,t.originPoint),rx(e.y,n.translate,n.scale,n.originPoint)}const JC=.999999999999,XC=1.0000000000001;function nH(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let u=0;u<i;u++){o=n[u],s=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&cl(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,J2(e,s)),r&&Ca(o.latestValues)&&cl(e,o.latestValues))}t.x<XC&&t.x>JC&&(t.x=1),t.y<XC&&t.y>JC&&(t.y=1)}function ul(e,t){e.min=e.min+t,e.max=e.max+t}function ZC(e,t,n,r,i=.5){const o=wt(e.min,e.max,i);rx(e,t,n,o,r)}function cl(e,t){ZC(e.x,t.x,t.scaleX,t.scale,t.originX),ZC(e.y,t.y,t.scaleY,t.scale,t.originY)}function X2(e,t){return W2(tH(e.getBoundingClientRect(),t))}function rH(e,t,n){const r=X2(e,n),{scroll:i}=t;return i&&(ul(r.x,i.offset.x),ul(r.y,i.offset.y)),r}const iH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oH=Ml.length;function aH(e,t,n){let r="",i=!0;for(let o=0;o<oH;o++){const s=Ml[o],u=e[s];if(u===void 0)continue;let c=!0;if(typeof u=="number")c=u===(s.startsWith("scale")?1:0);else{const f=parseFloat(u);c=s.startsWith("scale")?f===1:f===0}if(!c||n){const f=$2(u,Qw[s]);if(!c){i=!1;const h=iH[s]||s;r+=`${h}(${f}) `}n&&(t[s]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function o_(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,u=!1;for(const c in t){const f=t[c];if(Ol.has(c)){s=!0;continue}else if(l2(c)){i[c]=f;continue}else{const h=$2(f,Qw[c]);c.startsWith("origin")?(u=!0,o[c]=h):r[c]=h}}if(t.transform||(s||n?r.transform=aH(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:c="50%",originY:f="50%",originZ:h=0}=o;r.transformOrigin=`${c} ${f} ${h}`}}function Z2(e,{style:t,vars:n},r,i){const o=e.style;let s;for(s in t)o[s]=t[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function QC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(we.test(e))e=parseFloat(e);else return e;const n=QC(e,t.target.x),r=QC(e,t.target.y);return`${n}% ${r}%`}},sH={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=qr.parse(e);if(i.length>5)return r;const o=qr.createTransformer(e),s=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;i[0+s]/=u,i[1+s]/=c;const f=wt(u,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),o(i)}},ix={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:sH};function Q2(e,{layout:t,layoutId:n}){return Ol.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ix[e]||e==="opacity")}function a_(e,t,n){var s;const r=e.style,i=t==null?void 0:t.style,o={};if(!r)return o;for(const u in r)(Sn(r[u])||i&&Sn(i[u])||Q2(u,e)||((s=n==null?void 0:n.getValue(u))==null?void 0:s.liveStyle)!==void 0)&&(o[u]=r[u]);return o}function lH(e){return window.getComputedStyle(e)}class uH extends K2{constructor(){super(...arguments),this.type="html",this.renderInstance=Z2}readValueFromInstance(t,n){var r;if(Ol.has(n))return(r=this.projection)!=null&&r.isProjecting?qb(n):P6(t,n);{const i=lH(t),o=(l2(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return X2(t,n)}build(t,n,r){o_(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return a_(t,n,r)}}const cH={offset:"stroke-dashoffset",array:"stroke-dasharray"},fH={offset:"strokeDashoffset",array:"strokeDasharray"};function dH(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?cH:fH;e[o.offset]=`${-r}`,e[o.array]=`${t} ${n}`}const hH=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eL(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...u},c,f,h){if(o_(e,u,f),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g}=e;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete p.transformBox);for(const b of hH)p[b]!==void 0&&(g[b]=p[b],delete p[b]);t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&dH(p,i,o,s,!1)}const tL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pH(e,t,n,r){Z2(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(tL.has(i)?i:Zw(i),t.attrs[i])}function rL(e,t,n){const r=a_(e,t,n);for(const i in e)if(Sn(e[i])||Sn(t[i])){const o=Ml.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}class mH extends K2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ol.has(n)){const r=L2(n);return r&&r.default||0}return n=tL.has(n)?n:Zw(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rL(t,n,r)}build(t,n,r){eL(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){pH(t,n,r,i)}mount(t){this.isSVGTag=nL(t.tagName),super.mount(t)}}const gH=i_.length;function iL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?iL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<gH;n++){const r=i_[n],i=e.props[r];(xc(i)||i===!1)&&(t[r]=i)}return t}function oL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const vH=[...r_].reverse(),yH=r_.length;function bH(e){return t=>Promise.all(t.map(({animation:n,options:r})=>mG(e,n,r)))}function xH(e){let t=bH(e),n=eP(),r=!0;const i=c=>(f,h)=>{var g;const p=vl(e,h,c==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:b,transitionEnd:S,...E}=p;f={...f,...E,...S}}return f};function o(c){t=c(e)}function s(c){const{props:f}=e,h=iL(e.parent)||{},p=[],g=new Set;let b={},S=1/0;for(let T=0;T<yH;T++){const C=vH[T],R=n[C],N=f[C]!==void 0?f[C]:h[C],I=xc(N),O=C===c?R.isActive:null;O===!1&&(S=T);let M=N===h[C]&&N!==f[C]&&I;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...b},!R.isActive&&O===null||!N&&!R.prevProp||Zp(N)||typeof N=="boolean")continue;if(C==="exit"&&R.isActive&&O!==!0){R.prevResolvedValues&&(b={...b,...R.prevResolvedValues});continue}const U=wH(R.prevProp,N);let q=U||C===c&&R.isActive&&!M&&I||T>S&&I,V=!1;const ne=Array.isArray(N)?N:[N];let ie=ne.reduce(i(C),{});O===!1&&(ie={});const{prevResolvedValues:Y={}}=R,L={...Y,...ie},H=z=>{q=!0,g.has(z)&&(V=!0,g.delete(z)),R.needsAnimating[z]=!0;const F=e.getValue(z);F&&(F.liveStyle=!1)};for(const z in L){const F=ie[z],J=Y[z];if(b.hasOwnProperty(z))continue;let se=!1;Yb(F)&&Yb(J)?se=!oL(F,J):se=F!==J,se?F!=null?H(z):g.add(z):F!==void 0&&g.has(z)?H(z):R.protectedKeys[z]=!0}R.prevProp=N,R.prevResolvedValues=ie,R.isActive&&(b={...b,...ie}),r&&e.blockInitialAnimation&&(q=!1);const j=M&&U;q&&(!j||V)&&p.push(...ne.map(z=>{const F={type:C};if(typeof z=="string"&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:J}=e,se=vl(J,z);if(J.enteringChildren&&se){const{delayChildren:$}=se.transition||{};F.delay=C2(J.enteringChildren,e,$)}}return{animation:z,options:F}}))}if(g.size){const T={};if(typeof f.initial!="boolean"){const C=vl(e,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(T.transition=C.transition)}g.forEach(C=>{const R=e.getBaseTarget(C),N=e.getValue(C);N&&(N.liveStyle=!0),T[C]=R??null}),p.push({animation:T})}let E=!!p.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(E=!1),r=!1,E?t(p):Promise.resolve()}function u(c,f){var p;if(n[c].isActive===f)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(g=>{var b;return(b=g.animationState)==null?void 0:b.setActive(c,f)}),n[c].isActive=f;const h=s(c);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:s,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=eP()}}}function wH(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!oL(t,e):!1}function Sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function eP(){return{animate:Sa(!0),whileInView:Sa(),whileHover:Sa(),whileTap:Sa(),whileDrag:Sa(),whileFocus:Sa(),exit:Sa()}}function tP(e,t){e.min=t.min,e.max=t.max}function kr(e,t){tP(e.x,t.x),tP(e.y,t.y)}function nP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const aL=1e-4,_H=1-aL,SH=1+aL,sL=.01,EH=0-sL,TH=0+sL;function Rn(e){return e.max-e.min}function AH(e,t,n){return Math.abs(e-t)<=n}function rP(e,t,n,r=.5){e.origin=r,e.originPoint=wt(t.min,t.max,e.origin),e.scale=Rn(n)/Rn(t),e.translate=wt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_H&&e.scale<=SH||isNaN(e.scale))&&(e.scale=1),(e.translate>=EH&&e.translate<=TH||isNaN(e.translate))&&(e.translate=0)}function fc(e,t,n,r){rP(e.x,t.x,n.x,r?r.originX:void 0),rP(e.y,t.y,n.y,r?r.originY:void 0)}function iP(e,t,n){e.min=n.min+t.min,e.max=e.min+Rn(t)}function CH(e,t,n){iP(e.x,t.x,n.x),iP(e.y,t.y,n.y)}function oP(e,t,n){e.min=t.min-n.min,e.max=e.min+Rn(t)}function Vh(e,t,n){oP(e.x,t.x,n.x),oP(e.y,t.y,n.y)}function aP(e,t,n,r,i){return e-=t,e=Bh(e,1/n,r),i!==void 0&&(e=Bh(e,1/i,r)),e}function PH(e,t=0,n=1,r=.5,i,o=e,s=e){if(di.test(t)&&(t=parseFloat(t),t=wt(s.min,s.max,t/100)-s.min),typeof t!="number")return;let u=wt(o.min,o.max,r);e===o&&(u-=t),e.min=aP(e.min,t,n,u,i),e.max=aP(e.max,t,n,u,i)}function sP(e,t,[n,r,i],o,s){PH(e,t[n],t[r],t[i],t.scale,o,s)}const NH=["x","scaleX","originX"],RH=["y","scaleY","originY"];function lP(e,t,n,r){sP(e.x,t,NH,n?n.x:void 0,r?r.x:void 0),sP(e.y,t,RH,n?n.y:void 0,r?r.y:void 0)}function uP(e){return e.translate===0&&e.scale===1}function lL(e){return uP(e.x)&&uP(e.y)}function cP(e,t){return e.min===t.min&&e.max===t.max}function IH(e,t){return cP(e.x,t.x)&&cP(e.y,t.y)}function fP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uL(e,t){return fP(e.x,t.x)&&fP(e.y,t.y)}function dP(e){return Rn(e.x)/Rn(e.y)}function hP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function li(e){return[e("x"),e("y")]}function MH(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:b,skewY:S}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const u=e.x.scale*t.x,c=e.y.scale*t.y;return(u!==1||c!==1)&&(r+=`scale(${u}, ${c})`),r||"none"}const cL=["TopLeft","TopRight","BottomLeft","BottomRight"],OH=cL.length,pP=e=>typeof e=="string"?parseFloat(e):e,mP=e=>typeof e=="number"||we.test(e);function kH(e,t,n,r,i,o){i?(e.opacity=wt(0,n.opacity??1,DH(r)),e.opacityExit=wt(t.opacity??1,0,LH(r))):o&&(e.opacity=wt(t.opacity??1,n.opacity??1,r));for(let s=0;s<OH;s++){const u=`border${cL[s]}Radius`;let c=gP(t,u),f=gP(n,u);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||mP(c)===mP(f)?(e[u]=Math.max(wt(pP(c),pP(f),r),0),(di.test(f)||di.test(c))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=wt(t.rotate||0,n.rotate||0,r))}function gP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const DH=fL(0,.5,n2),LH=fL(.5,.95,Ar);function fL(e,t,n){return r=>r<e?0:r>t?1:n(vc(e,t,r))}function jH(e,t,n){const r=Sn(e)?e:Sl(e);return r.start(Jw("",r,t,n)),r.animation}function wc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const UH=(e,t)=>e.depth-t.depth;class $H{constructor(){this.children=[],this.isDirty=!1}add(t){Dw(this.children,t),this.isDirty=!0}remove(t){Lh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(UH),this.isDirty=!1,this.children.forEach(t)}}function zH(e,t){const n=Nn.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Xo(r),e(o-t))};return dt.setup(r,!0),()=>Xo(r)}function Sh(e){return Sn(e)?e.get():e}class BH{constructor(){this.members=[]}add(t){Dw(this.members,t);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===t||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Lh(this.members,r)}t.scheduleRender()}remove(t){if(Lh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i],s=o.instance;if(o.isPresent!==!1&&(!s||s.isConnected!==!1)){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const i=r.options.layoutDependency,o=t.options.layoutDependency;if(!(i!==void 0&&o!==void 0&&i===o)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:u}=t.options;u===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Eh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ry=["","X","Y","Z"],VH=1e3;let qH=0;function Iy(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function dL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=M2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&dL(r)}function hL({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},u=t==null?void 0:t()){this.id=qH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FH),this.nodes.forEach(JH),this.nodes.forEach(XH),this.nodes.forEach(KH)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $H)}addEventListener(s,u){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new jw),this.eventHandlers.get(s).add(u)}notifyListeners(s,...u){const c=this.eventHandlers.get(s);c&&c.notify(...u)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=n_(s)&&!HG(s),this.instance=s;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||u)&&(this.isLayoutDirty=!0),e){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{p=window.innerWidth}),e(s,()=>{const b=window.innerWidth;b!==p&&(p=b,this.root.updateBlockedByResize=!0,h&&h(),h=zH(g,250),Eh.hasAnimatedSinceResize&&(Eh.hasAnimatedSinceResize=!1,this.nodes.forEach(bP)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||f.getDefaultTransition()||nF,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=f.getProps(),C=!this.targetLayout||!uL(this.targetLayout,b),R=!p&&g;if(this.options.layoutRoot||this.resumeFrom||R||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Yw(S,"layout"),onPlay:E,onComplete:T};(f.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(h,R)}else p||bP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZH),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:u,layout:c}=this.options;if(u===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YH),this.nodes.forEach(GH),this.nodes.forEach(HH)):this.nodes.forEach(yP),this.clearAllSnapshots();const u=Nn.now();gn.delta=pi(0,1e3/60,u-gn.timestamp),gn.timestamp=u,gn.isProcessing=!0,_y.update.process(gn),_y.preRender.process(gn),_y.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WH),this.sharedNodes.forEach(QH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(u=!1),u&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!lL(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;s&&this.instance&&(u||Ca(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const u=this.measurePageBox();let c=this.removeElementScroll(u);return s&&(c=this.removeTransform(c)),rF(c),{animationId:this.root.animationId,measuredBox:u,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:s}=this.options;if(!s)return Vt();const u=s.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(iF))){const{scroll:h}=this.root;h&&(ul(u.x,h.offset.x),ul(u.y,h.offset.y))}return u}removeElementScroll(s){var c;const u=Vt();if(kr(u,s),(c=this.scroll)!=null&&c.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&kr(u,s),ul(u.x,p.offset.x),ul(u.y,p.offset.y))}return u}applyTransform(s,u=!1){const c=Vt();kr(c,s);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&cl(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ca(h.latestValues)&&cl(c,h.latestValues)}return Ca(this.latestValues)&&cl(c,this.latestValues),c}removeTransform(s){const u=Vt();kr(u,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!Ca(f.latestValues))continue;nx(f.latestValues)&&f.updateSnapshot();const h=Vt(),p=f.measurePageBox();kr(h,p),lP(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Ca(this.latestValues)&&lP(u,this.latestValues),u}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!this.layout||!(h||p))return;this.resolvedRelativeTargetAt=gn.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kr(this.target,this.layout.layoutBox),J2(this.target,this.targetDelta)):kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||nx(this.parent.latestValues)||Y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,u,c){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),Vh(this.relativeTargetOrigin,u,c),kr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const s=this.getLead(),u=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(c=!1),c)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;kr(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;nH(this.layoutCorrected,this.treeScale,this.path,u),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Vt());const{target:b}=s;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nP(this.prevProjectionDelta.x,this.projectionDelta.x),nP(this.prevProjectionDelta.y,this.projectionDelta.y)),fc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!hP(this.projectionDelta.x,this.prevProjectionDelta.x)||!hP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ll(),this.projectionDelta=ll(),this.projectionDeltaWithTransform=ll()}setAnimationOrigin(s,u=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=ll();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const g=Vt(),b=c?c.source:void 0,S=this.layout?this.layout.source:void 0,E=b!==S,T=this.getStack(),C=!T||T.members.length<=1,R=!!(E&&!C&&this.options.crossfade===!0&&!this.path.some(tF));this.animationProgress=0;let N;this.mixTargetDelta=I=>{const O=I/1e3;xP(p.x,s.x,O),xP(p.y,s.y,O),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eF(this.relativeTarget,this.relativeTargetOrigin,g,O),N&&IH(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Vt()),kr(N,this.relativeTarget)),E&&(this.animationValues=h,kH(h,f,this.latestValues,O,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var u,c,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Eh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sl(0)),this.motionValue.jump(0,!1),this.currentAnimation=jH(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),s.onUpdate&&s.onUpdate(h)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:u,target:c,layout:f,latestValues:h}=s;if(!(!u||!c||!f)){if(this!==s&&this.layout&&f&&pL(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||Vt();const p=Rn(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const g=Rn(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+g}kr(u,c),cl(u,h),fc(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(s,u){this.sharedNodes.has(s)||this.sharedNodes.set(s,new BH),this.sharedNodes.get(s).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var u;const{layoutId:s}=this.options;return s?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:s}=this.options;return s?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:u,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let u=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(u=!0),!u)return;const f={};c.z&&Iy("z",s,f,this.animationValues);for(let h=0;h<Ry.length;h++)Iy(`rotate${Ry[h]}`,s,f,this.animationValues),Iy(`skew${Ry[h]}`,s,f,this.animationValues);s.render();for(const h in f)s.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);s.scheduleRender()}applyProjectionStyles(s,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Sh(u==null?void 0:u.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Sh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ca(this.latestValues)&&(s.transform=c?c({},""):"none",this.hasProjected=!1);return}s.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=MH(this.projectionDeltaWithTransform,this.treeScale,h);c&&(p=c(h,p)),s.transform=p;const{x:g,y:b}=this.projectionDelta;s.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,f.animationValues?s.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in ix){if(h[S]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:C}=ix[S],R=p==="none"?h[S]:E(h[S],f);if(T){const N=T.length;for(let I=0;I<N;I++)s[T[I]]=R}else C?this.options.visualElement.renderState.vars[S]=R:s[S]=R}this.options.layoutId&&(s.pointerEvents=f===this?Sh(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var u;return(u=s.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(vP),this.root.sharedNodes.clear()}}}function GH(e){e.updateLayout()}function HH(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=t.source!==e.layout.source;o==="size"?li(p=>{const g=s?t.measuredBox[p]:t.layoutBox[p],b=Rn(g);g.min=r[p].min,g.max=g.min+b}):pL(o,t.layoutBox,r)&&li(p=>{const g=s?t.measuredBox[p]:t.layoutBox[p],b=Rn(r[p]);g.max=g.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+b)});const u=ll();fc(u,r,t.layoutBox);const c=ll();s?fc(c,e.applyTransform(i,!0),t.measuredBox):fc(c,r,t.layoutBox);const f=!lL(u);let h=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:b}=p;if(g&&b){const S=Vt();Vh(S,t.layoutBox,g.layoutBox);const E=Vt();Vh(E,r,b.layoutBox),uL(S,E)||(h=!0),p.options.layoutRoot&&(e.relativeTarget=E,e.relativeTargetOrigin=S,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function FH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WH(e){e.clearSnapshot()}function vP(e){e.clearMeasurements()}function yP(e){e.isLayoutDirty=!1}function YH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JH(e){e.resolveTargetDelta()}function XH(e){e.calcProjection()}function ZH(e){e.resetSkewAndRotation()}function QH(e){e.removeLeadSnapshot()}function xP(e,t,n){e.translate=wt(t.translate,0,n),e.scale=wt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wP(e,t,n,r){e.min=wt(t.min,n.min,r),e.max=wt(t.max,n.max,r)}function eF(e,t,n,r){wP(e.x,t.x,n.x,r),wP(e.y,t.y,n.y,r)}function tF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nF={duration:.45,ease:[.4,0,.1,1]},_P=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),SP=_P("applewebkit/")&&!_P("chrome/")?Math.round:Ar;function EP(e){e.min=SP(e.min),e.max=SP(e.max)}function rF(e){EP(e.x),EP(e.y)}function pL(e,t,n){return e==="position"||e==="preserve-aspect"&&!AH(dP(t),dP(n),.2)}function iF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const oF=hL({attachResizeListener:(e,t)=>wc(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),My={current:void 0},mL=hL({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!My.current){const e=new oF({});e.mount(window),e.setOptions({layoutScroll:!0}),My.current=e}return My.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),s_=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function TP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function aF(...e){return t=>{let n=!1;const r=e.map(i=>{const o=TP(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():TP(e[i],null)}}}}function sF(...e){return A.useCallback(aF(...e),e)}class lF extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=ex(r)&&r.offsetWidth||0,o=ex(r)&&r.offsetHeight||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left,s.bottom=o-s.height-s.top}return null}componentDidUpdate(){}render(){return this.props.children}}function uF({children:e,isPresent:t,anchorX:n,anchorY:r,root:i,pop:o}){var g;const s=A.useId(),u=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=A.useContext(s_),h=((g=e.props)==null?void 0:g.ref)??(e==null?void 0:e.ref),p=sF(u,h);return A.useInsertionEffect(()=>{const{width:b,height:S,top:E,left:T,right:C,bottom:R}=c.current;if(t||o===!1||!u.current||!b||!S)return;const N=n==="left"?`left: ${T}`:`right: ${C}`,I=r==="bottom"?`bottom: ${R}`:`top: ${E}`;u.current.dataset.motionPopId=s;const O=document.createElement("style");f&&(O.nonce=f);const M=i??document.head;return M.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${S}px !important;
            ${N}px !important;
            ${I}px !important;
          }
        `),()=>{M.contains(O)&&M.removeChild(O)}},[t]),w.jsx(lF,{isPresent:t,childRef:u,sizeRef:c,pop:o,children:o===!1?e:A.cloneElement(e,{ref:p})})}const cF=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:u,anchorY:c,root:f})=>{const h=kw(fF),p=A.useId();let g=!0,b=A.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:i,onExitComplete:S=>{h.set(S,!0);for(const E of h.values())if(!E)return;r&&r()},register:S=>(h.set(S,!1),()=>h.delete(S))}),[n,h,r]);return o&&g&&(b={...b}),A.useMemo(()=>{h.forEach((S,E)=>h.set(E,!1))},[n]),A.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),e=w.jsx(uF,{pop:s==="popLayout",isPresent:n,anchorX:u,anchorY:c,root:f,children:e}),w.jsx(Xp.Provider,{value:b,children:e})};function fF(){return new Map}function gL(e=!0){const t=A.useContext(Xp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=A.useId();A.useEffect(()=>{if(e)return i(o)},[e]);const s=A.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const Bd=e=>e.key||"";function AP(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const vL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:u="left",anchorY:c="top",root:f})=>{const[h,p]=gL(s),g=A.useMemo(()=>AP(e),[e]),b=s&&!h?[]:g.map(Bd),S=A.useRef(!0),E=A.useRef(g),T=kw(()=>new Map),C=A.useRef(new Set),[R,N]=A.useState(g),[I,O]=A.useState(g);GD(()=>{S.current=!1,E.current=g;for(let q=0;q<I.length;q++){const V=Bd(I[q]);b.includes(V)?(T.delete(V),C.current.delete(V)):T.get(V)!==!0&&T.set(V,!1)}},[I,b.length,b.join("-")]);const M=[];if(g!==R){let q=[...g];for(let V=0;V<I.length;V++){const ne=I[V],ie=Bd(ne);b.includes(ie)||(q.splice(V,0,ne),M.push(ne))}return o==="wait"&&M.length&&(q=M),O(AP(q)),N(g),null}const{forceRender:U}=A.useContext(Ow);return w.jsx(w.Fragment,{children:I.map(q=>{const V=Bd(q),ne=s&&!h?!1:g===I||b.includes(V),ie=()=>{if(C.current.has(V))return;if(C.current.add(V),T.has(V))T.set(V,!0);else return;let Y=!0;T.forEach(L=>{L||(Y=!1)}),Y&&(U==null||U(),O(E.current),s&&(p==null||p()),r&&r())};return w.jsx(cF,{isPresent:ne,initial:!S.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:f,onExitComplete:ne?void 0:ie,anchorX:u,anchorY:c,children:q},V)})})},yL=A.createContext({strict:!1}),CP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let PP=!1;function dF(){if(PP)return;const e={};for(const t in CP)e[t]={isEnabled:n=>CP[t].some(r=>!!n[r])};F2(e),PP=!0}function bL(){return dF(),ZG()}function hF(e){const t=bL();for(const n in e)t[n]={...t[n],...e[n]};F2(t)}const pF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function qh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pF.has(e)}let xL=e=>!qh(e);function mF(e){typeof e=="function"&&(xL=t=>t.startsWith("on")?!qh(t):e(t))}try{mF(require("@emotion/is-prop-valid").default)}catch{}function gF(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(xL(i)||n===!0&&qh(i)||!t&&!qh(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const em=A.createContext({});function vF(e,t){if(Qp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xc(n)?n:void 0,animate:xc(r)?r:void 0}}return e.inherit!==!1?t:{}}function yF(e){const{initial:t,animate:n}=vF(e,A.useContext(em));return A.useMemo(()=>({initial:t,animate:n}),[NP(t),NP(n)])}function NP(e){return Array.isArray(e)?e.join(" "):e}const l_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wL(e,t,n){for(const r in t)!Sn(t[r])&&!Q2(r,n)&&(e[r]=t[r])}function bF({transformTemplate:e},t){return A.useMemo(()=>{const n=l_();return o_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xF(e,t){const n=e.style||{},r={};return wL(r,n,e),Object.assign(r,bF(e,t)),r}function wF(e,t){const n={},r=xF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const _L=()=>({...l_(),attrs:{}});function _F(e,t,n,r){const i=A.useMemo(()=>{const o=_L();return eL(o,t,nL(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};wL(o,e.style,e),i.style={...o,...i.style}}return i}const SF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u_(e){return typeof e!="string"||e.includes("-")?!1:!!(SF.indexOf(e)>-1||/[A-Z]/u.test(e))}function EF(e,t,n,{latestValues:r},i,o=!1,s){const c=(s??u_(e)?_F:wF)(t,r,i,e),f=gF(t,typeof e=="string",o),h=e!==A.Fragment?{...f,...c,ref:n}:{},{children:p}=t,g=A.useMemo(()=>Sn(p)?p.get():p,[p]);return A.createElement(e,{...h,children:g})}function TF({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:AF(n,r,i,e),renderState:t()}}function AF(e,t,n,r){const i={},o=r(e,{});for(const g in o)i[g]=Sh(o[g]);let{initial:s,animate:u}=e;const c=Qp(e),f=G2(e);t&&f&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),u===void 0&&(u=t.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const p=h?u:s;if(p&&typeof p!="boolean"&&!Zp(p)){const g=Array.isArray(p)?p:[p];for(let b=0;b<g.length;b++){const S=Xw(e,g[b]);if(S){const{transitionEnd:E,transition:T,...C}=S;for(const R in C){let N=C[R];if(Array.isArray(N)){const I=h?N.length-1:0;N=N[I]}N!==null&&(i[R]=N)}for(const R in E)i[R]=E[R]}}}return i}const SL=e=>(t,n)=>{const r=A.useContext(em),i=A.useContext(Xp),o=()=>TF(e,t,r,i);return n?o():kw(o)},CF=SL({scrapeMotionValuesFromProps:a_,createRenderState:l_}),PF=SL({scrapeMotionValuesFromProps:rL,createRenderState:_L}),NF=Symbol.for("motionComponentSymbol");function RF(e,t,n){const r=A.useRef(n);A.useInsertionEffect(()=>{r.current=n});const i=A.useRef(null);return A.useCallback(o=>{var u;o&&((u=e.onMount)==null||u.call(e,o)),t&&(o?t.mount(o):t.unmount());const s=r.current;if(typeof s=="function")if(o){const c=s(o);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):s(o);else s&&(s.current=o)},[t])}const EL=A.createContext({});function el(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function IF(e,t,n,r,i,o){var N,I;const{visualElement:s}=A.useContext(em),u=A.useContext(yL),c=A.useContext(Xp),f=A.useContext(s_),h=f.reducedMotion,p=f.skipAnimations,g=A.useRef(null),b=A.useRef(!1);r=r||u.renderer,!g.current&&r&&(g.current=r(e,{visualState:t,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h,skipAnimations:p,isSVG:o}),b.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const S=g.current,E=A.useContext(EL);S&&!S.projection&&i&&(S.type==="html"||S.type==="svg")&&MF(g.current,n,i,E);const T=A.useRef(!1);A.useInsertionEffect(()=>{S&&T.current&&S.update(n,c)});const C=n[I2],R=A.useRef(!!C&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,C))&&((I=window.MotionHasOptimisedAnimation)==null?void 0:I.call(window,C)));return GD(()=>{b.current=!0,S&&(T.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),S.scheduleRenderMicrotask(),R.current&&S.animationState&&S.animationState.animateChanges())}),A.useEffect(()=>{S&&(!R.current&&S.animationState&&S.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,C)}),R.current=!1),S.enteringChildren=void 0)}),S}function MF(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:u,layoutScroll:c,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:TL(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||u&&el(u),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:f})}function TL(e){if(e)return e.options.allowProjection!==!1?e.projection:TL(e.parent)}function Oy(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&hF(r);const o=n?n==="svg":u_(e),s=o?PF:CF;function u(f,h){let p;const g={...A.useContext(s_),...f,layoutId:OF(f)},{isStatic:b}=g,S=yF(f),E=s(f,b);if(!b&&qD){kF();const T=DF(g);p=T.MeasureLayout,S.visualElement=IF(e,E,g,i,T.ProjectionNode,o)}return w.jsxs(em.Provider,{value:S,children:[p&&S.visualElement?w.jsx(p,{visualElement:S.visualElement,...g}):null,EF(e,f,RF(E,S.visualElement,h),E,b,t,o)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=A.forwardRef(u);return c[NF]=e,c}function OF({layoutId:e}){const t=A.useContext(Ow).id;return t&&e!==void 0?t+"-"+e:e}function kF(e,t){A.useContext(yL).strict}function DF(e){const t=bL(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function LF(e,t){if(typeof Proxy>"u")return Oy;const n=new Map,r=(o,s)=>Oy(o,s,e,t),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,Oy(s,void 0,e,t)),n.get(s))})}const jF=(e,t)=>t.isSVG??u_(e)?new mH(t):new uH(t,{allowProjection:e!==A.Fragment});class UF extends Qo{constructor(t){super(t),t.animationState||(t.animationState=xH(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $F=0;class zF extends Qo{constructor(){super(...arguments),this.id=$F++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const BF={animation:{Feature:UF},exit:{Feature:zF}};function Yc(e){return{point:{x:e.pageX,y:e.pageY}}}const VF=e=>t=>t_(t)&&e(t,Yc(t));function dc(e,t,n,r){return wc(e,t,VF(n),r)}const AL=({current:e})=>e?e.ownerDocument.defaultView:null,RP=(e,t)=>Math.abs(e-t);function qF(e,t){const n=RP(e.x,t.x),r=RP(e.y,t.y);return Math.sqrt(n**2+r**2)}const IP=new Set(["auto","scroll"]);class CL{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Dy(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,E=qF(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!E)return;const{point:T}=b,{timestamp:C}=gn;this.history.push({...T,timestamp:C});const{onStart:R,onMove:N}=this.handlers;S||(R&&R(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=ky(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Dy(b.type==="pointercancel"?this.lastMoveEventInfo:ky(S,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,R),T&&T(b,R)},!t_(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const c=Yc(t),f=ky(c,this.transformPagePoint),{point:h}=f,{timestamp:p}=gn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,Dy(f,this.history)),this.removeListeners=Fc(dc(this.contextWindow,"pointermove",this.handlePointerMove),dc(this.contextWindow,"pointerup",this.handlePointerUp),dc(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let n=t.parentElement;for(;n;){const r=getComputedStyle(n);(IP.has(r.overflowX)||IP.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const r=t===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},o={x:i.x-n.x,y:i.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(t,i),dt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Xo(this.updatePoint)}}function ky(e,t){return t?{point:t(e.point)}:e}function MP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dy({point:e},t){return{point:e,delta:MP(e,PL(t)),offset:MP(e,GF(t)),velocity:HF(t,.1)}}function GF(e){return e[0]}function PL(e){return e[e.length-1]}function HF(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=PL(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Vr(t)));)n--;if(!r)return{x:0,y:0};r===e[0]&&e.length>2&&i.timestamp-r.timestamp>Vr(t)*2&&(r=e[1]);const o=Er(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function FF(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?wt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?wt(n,e,r.max):Math.min(e,n)),e}function OP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function KF(e,{top:t,left:n,bottom:r,right:i}){return{x:OP(e.x,n,i),y:OP(e.y,t,r)}}function kP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function WF(e,t){return{x:kP(e.x,t.x),y:kP(e.y,t.y)}}function YF(e,t){let n=.5;const r=Rn(e),i=Rn(t);return i>r?n=vc(t.min,t.max-r,e.min):r>i&&(n=vc(e.min,e.max-i,t.min)),pi(0,1,n)}function JF(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ox=.35;function XF(e=ox){return e===!1?e=0:e===!0&&(e=ox),{x:DP(e,"left","right"),y:DP(e,"top","bottom")}}function DP(e,t,n){return{min:LP(e,t),max:LP(e,n)}}function LP(e,t){return typeof e=="number"?e:e[t]||0}const ZF=new WeakMap;class QF{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{n&&this.snapToCursor(Yc(p).point),this.stopAnimation()},s=(p,g)=>{const{drag:b,dragPropagation:S,onDragStart:E}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PG(b),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(C=>{let R=this.getAxisMotionValue(C).get()||0;if(di.test(R)){const{projection:N}=this.visualElement;if(N&&N.layout){const I=N.layout.layoutBox[C];I&&(R=Rn(I)*(parseFloat(R)/100))}}this.originPoint[C]=R}),E&&dt.update(()=>E(p,g),!1,!0),Jb(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:E,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=g;if(S&&this.currentDirection===null){this.currentDirection=t8(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),T&&dt.update(()=>T(p,g),!1,!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>{const{dragSnapToOrigin:p}=this.getProps();(p||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:h}=this.getProps();this.panSession=new CL(t,{onSessionStart:o,onStart:s,onMove:u,onSessionEnd:c,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:AL(this.visualElement),element:this.visualElement.current})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:u}=this.getProps();u&&dt.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Vd(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=FF(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&el(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=KF(r.layoutBox,t):this.constraints=!1,this.elastic=XF(n),i!==this.constraints&&!el(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&li(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=JF(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!el(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=rH(r,i.root,this.visualElement.getTransformPagePoint());let s=WF(i.layout.layoutBox,o);if(n){const u=n(eH(s));this.hasMutatedConstraints=!!u,u&&(s=W2(u))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:u}=this.getProps(),c=this.constraints||{},f=li(h=>{if(!Vd(h,n,this.currentDirection))return;let p=c&&c[h]||{};s&&(p={min:0,max:0});const g=i?200:1e6,b=i?40:1e7,S={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(h,S)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Jb(this.visualElement,t),r.start(Jw(t,r,0,n,this.visualElement,!1))}stopAnimation(){li(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){li(n=>{const{drag:r}=this.getProps();if(!Vd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:u}=i.layout.layoutBox[n],c=o.get()||0;o.set(t[n]-wt(s,u,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!el(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};li(s=>{const u=this.getAxisMotionValue(s);if(u&&this.constraints!==!1){const c=u.get();i[s]=YF({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),li(s=>{if(!Vd(s,t,null))return;const u=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];u.set(wt(c,f,i[s]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ZF.set(this.visualElement,this);const t=this.visualElement.current,n=dc(t,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps(),g=f.target,b=g!==t&&kG(g);h&&p&&!b&&this.start(f)});let r;const i=()=>{const{dragConstraints:f}=this.getProps();el(f)&&f.current&&(this.constraints=this.resolveRefConstraints(),r||(r=e8(t,f.current,()=>this.scalePositionWithinConstraints())))},{projection:o}=this.visualElement,s=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),dt.read(i);const u=wc(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(li(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{u(),n(),s(),c&&c(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=ox,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:u}}}function jP(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function e8(e,t,n){const r=GC(e,jP(n)),i=GC(t,jP(n));return()=>{r(),i()}}function Vd(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function t8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class n8 extends Qo{constructor(t){super(t),this.removeGroupControls=Ar,this.removeListeners=Ar,this.controls=new QF(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ar}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ly=e=>(t,n)=>{e&&dt.update(()=>e(t,n),!1,!0)};class r8 extends Qo{constructor(){super(...arguments),this.removePointerDownListener=Ar}onPointerDown(t){this.session=new CL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ly(t),onStart:Ly(n),onMove:Ly(r),onEnd:(o,s)=>{delete this.session,i&&dt.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=dc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let jy=!1;class i8 extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),jy&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Eh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,t.layoutDependency!==n&&s.setOptions({...s.options,layoutDependency:n}),jy=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||dt.postRender(()=>{const u=s.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),e_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;jy=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NL(e){const[t,n]=gL(),r=A.useContext(Ow);return w.jsx(i8,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(EL),isPresent:t,safeToRemove:n})}const o8={pan:{Feature:r8},drag:{Feature:n8,ProjectionNode:mL,MeasureLayout:NL}};function UP(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&dt.postRender(()=>o(t,Yc(t)))}class a8 extends Qo{mount(){const{current:t}=this.node;t&&(this.unmount=RG(t,(n,r)=>(UP(this.node,r,"Start"),i=>UP(this.node,i,"End"))))}unmount(){}}class s8 extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fc(wc(this.node.current,"focus",()=>this.onFocus()),wc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $P(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&dt.postRender(()=>o(t,Yc(t)))}class l8 extends Qo{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=LG(t,(i,o)=>($P(this.node,o,"Start"),(s,{success:u})=>$P(this.node,s,u?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const ax=new WeakMap,Uy=new WeakMap,u8=e=>{const t=ax.get(e.target);t&&t(e)},c8=e=>{e.forEach(u8)};function f8({root:e,...t}){const n=e||document;Uy.has(n)||Uy.set(n,{});const r=Uy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(c8,{root:e,...t})),r[i]}function d8(e,t,n){const r=f8(t);return ax.set(e,n),r.observe(e),()=>{ax.delete(e),r.unobserve(e)}}const h8={some:0,all:1};class p8 extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:h8[i]},u=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(c)};return d8(this.node.current,s,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(m8(t,n))&&this.startObserver()}unmount(){}}function m8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const g8={inView:{Feature:p8},tap:{Feature:l8},focus:{Feature:s8},hover:{Feature:a8}},v8={layout:{ProjectionNode:mL,MeasureLayout:NL}},y8={...BF,...g8,...o8,...v8},RL=LF(y8,jF),b8=({research:e,agents:t})=>{const[n,r]=A.useState("All"),[i,o]=A.useState(""),s=e.filter(c=>{const f=n==="All"||c.category===n,h=c.title.toLowerCase().includes(i.toLowerCase())||c.summary.toLowerCase().includes(i.toLowerCase());return f&&h}),u=["All","Market","Tech","Competitor","Internal"];return w.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 flex flex-col justify-center",children:[w.jsx("h2",{className:"text-white text-4xl font-light tracking-tight mb-2",children:"Intelligence Hub"}),w.jsx("p",{className:"text-zinc-500 text-sm max-w-xl",children:"Centralized repository of autonomous research findings, market intelligence, and technical breakthroughs gathered by the agent network."})]}),w.jsxs("div",{className:"glass p-6 rounded-3xl border border-white/5 flex items-center justify-between",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:"Total Insights"}),w.jsx("span",{className:"text-3xl font-black text-white",children:e.length})]}),w.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 border border-blue-500/20 flex items-center justify-center text-blue-400",children:w.jsx(GV,{size:24})})]})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[w.jsx("div",{className:"flex gap-2 bg-white/5 p-1 rounded-2xl border border-white/5",children:u.map(c=>w.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 rounded-xl text-[11px] font-bold uppercase tracking-widest transition-all
                ${n===c?"bg-blue-600 text-white shadow-lg":"text-zinc-500 hover:text-zinc-300 hover:bg-white/5"}`,children:c},c))}),w.jsxs("div",{className:"relative w-full md:w-80",children:[w.jsx(_C,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500",size:16}),w.jsx("input",{type:"text",placeholder:"Search intelligence...",value:i,onChange:c=>o(c.target.value),className:"w-full bg-white/5 border border-white/10 rounded-2xl py-3 pl-12 pr-4 text-sm text-white focus:outline-none focus:border-blue-500/50 transition-all"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[w.jsx(vL,{mode:"popLayout",children:s.map((c,f)=>{const h=t.find(p=>p.id===c.agentId);return w.jsxs(RL.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:f*.05},className:"glass rounded-[2rem] border border-white/5 p-8 hover:border-white/10 transition-all group relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/5 blur-[100px] -mr-32 -mt-32 pointer-events-none"}),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 relative z-10",children:[w.jsxs("div",{className:"lg:w-64 flex flex-col gap-6",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden border border-white/10",children:w.jsx("img",{src:h==null?void 0:h.avatar,alt:h==null?void 0:h.name,className:"w-full h-full object-cover"})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-white font-bold text-xs",children:h==null?void 0:h.name}),w.jsx("span",{className:"text-[9px] text-zinc-500 uppercase tracking-widest",children:h==null?void 0:h.role})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-600 uppercase tracking-widest",children:"Importance"}),w.jsx("div",{className:"flex gap-1",children:[...Array(10)].map((p,g)=>w.jsx("div",{className:`h-1.5 flex-1 rounded-full ${g<c.importance?"bg-blue-500":"bg-zinc-800"}`},g))})]}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-600 uppercase tracking-widest",children:"Category"}),w.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest 
                          ${c.category==="Tech"?"text-purple-400":c.category==="Market"?"text-emerald-400":c.category==="Competitor"?"text-orange-400":"text-blue-400"}`,children:c.category})]}),w.jsx("div",{className:"flex flex-wrap gap-1",children:c.tags.map(p=>w.jsxs("span",{className:"text-[8px] bg-white/5 px-2 py-0.5 rounded text-zinc-500 uppercase font-bold",children:["#",p]},p))})]})]}),w.jsxs("div",{className:"flex-1 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h3",{className:"text-white text-2xl font-light tracking-tight group-hover:text-blue-400 transition-colors",children:c.title}),w.jsx("span",{className:"text-[10px] font-mono text-zinc-600",children:new Date(c.timestamp).toLocaleDateString()})]}),w.jsx("p",{className:"text-zinc-400 text-sm leading-relaxed",children:c.summary}),w.jsxs("div",{className:"pt-4 border-t border-white/5 flex flex-col md:flex-row gap-6",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-600 uppercase tracking-widest mb-3 block",children:"Verified Sources"}),w.jsx("div",{className:"flex flex-wrap gap-3",children:c.sources.map((p,g)=>w.jsxs("a",{href:p.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-[10px] text-zinc-400 hover:text-blue-400 transition-colors bg-white/5 px-3 py-1.5 rounded-lg border border-white/5",children:[w.jsx(rq,{size:12}),p.title,w.jsx(QV,{size:10})]},g))})]}),w.jsx("div",{className:"flex items-end",children:w.jsx("button",{className:"px-6 py-2 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[10px] font-bold text-white uppercase tracking-widest transition-all",children:"Full Analysis"})})]})]})]})]},c.id)})}),s.length===0&&w.jsxs("div",{className:"text-center py-20 glass rounded-[2rem] border border-white/5",children:[w.jsx(_C,{size:48,className:"mx-auto text-zinc-700 mb-4"}),w.jsx("p",{className:"text-zinc-500 text-sm",children:"No intelligence found matching your criteria."})]})]})]})},zP=({issues:e,agents:t})=>{const[n,r]=A.useState("All"),i=e.filter(s=>n==="All"?!0:n==="Open"?s.status==="OPEN"||s.status==="INVESTIGATING":n==="Critical"?s.severity==="CRITICAL":!0),o=e.some(s=>s.severity==="CRITICAL"&&s.status==="OPEN")?"CRITICAL":e.some(s=>s.severity==="HIGH"&&s.status==="OPEN")?"HIGH":"STABLE";return w.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 glass rounded-[2.5rem] p-8 border border-white/5 flex items-center gap-8 relative overflow-hidden",children:[w.jsx("div",{className:`absolute inset-0 opacity-5 pointer-events-none ${o==="CRITICAL"?"bg-red-500 animate-pulse":"bg-blue-500"}`}),w.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center border-2 shadow-2xl
            ${o==="CRITICAL"?"bg-red-500/10 border-red-500/50 text-red-500":"bg-green-500/10 border-green-500/50 text-green-500"}`,children:o==="CRITICAL"?w.jsx(Lb,{size:40}):w.jsx(hq,{size:40})}),w.jsxs("div",{children:[w.jsxs("h2",{className:"text-white text-3xl font-black tracking-tighter uppercase",children:["Security Status: ",o]}),w.jsx("p",{className:"text-zinc-500 text-sm font-mono uppercase tracking-widest mt-1",children:o==="CRITICAL"?"Immediate action required. Active breach detected.":"All systems monitored. No critical threats."})]})]}),w.jsxs("div",{className:"glass rounded-[2.5rem] p-8 border border-white/5 flex flex-col justify-center",children:[w.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:"Active Threats"}),w.jsx("span",{className:"text-4xl font-black text-white",children:e.filter(s=>s.status!=="PATCHED").length})]}),w.jsxs("div",{className:"glass rounded-[2.5rem] p-8 border border-white/5 flex flex-col justify-center",children:[w.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:"Uptime Score"}),w.jsx("span",{className:"text-4xl font-black text-emerald-500",children:"99.98%"})]})]}),w.jsx("div",{className:"flex gap-2 bg-white/5 p-1 rounded-2xl border border-white/5 w-fit",children:["All","Open","Critical"].map(s=>w.jsx("button",{onClick:()=>r(s),className:`px-6 py-2 rounded-xl text-[11px] font-bold uppercase tracking-widest transition-all
              ${n===s?"bg-red-600 text-white shadow-lg":"text-zinc-500 hover:text-zinc-300 hover:bg-white/5"}`,children:s},s))}),w.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.jsx(vL,{mode:"popLayout",children:i.map((s,u)=>{const c=t.find(f=>f.id===s.detectedBy);return w.jsxs(RL.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},transition:{delay:u*.05},className:`glass rounded-3xl border p-6 flex flex-col lg:flex-row gap-6 items-start lg:items-center transition-all
                  ${s.severity==="CRITICAL"?"border-red-500/30 bg-red-500/[0.02]":"border-white/5 hover:border-white/10"}`,children:[w.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shrink-0
                  ${s.severity==="CRITICAL"?"bg-red-500/20 text-red-500":s.severity==="HIGH"?"bg-orange-500/20 text-orange-500":"bg-blue-500/20 text-blue-500"}`,children:s.severity==="CRITICAL"?w.jsx(xq,{size:24}):w.jsx(mq,{size:24})}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[w.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded
                      ${s.severity==="CRITICAL"?"bg-red-500 text-white":"bg-white/10 text-zinc-400"}`,children:s.severity}),w.jsx("h3",{className:"text-white font-bold truncate",children:s.title})]}),w.jsx("p",{className:"text-zinc-500 text-sm leading-relaxed max-w-3xl",children:s.description})]}),w.jsxs("div",{className:"lg:w-64 flex flex-col gap-3 lg:items-end",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-[10px] text-zinc-600 font-mono uppercase",children:"Detected By"}),w.jsxs("div",{className:"flex items-center gap-2 bg-white/5 px-2 py-1 rounded-lg border border-white/5",children:[w.jsx("img",{src:c==null?void 0:c.avatar,className:"w-4 h-4 rounded",alt:""}),w.jsx("span",{className:"text-[10px] text-zinc-300 font-bold",children:c==null?void 0:c.name})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-[10px] text-zinc-600 font-mono uppercase",children:"Status"}),w.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest
                      ${s.status==="PATCHED"?"text-emerald-500":"text-yellow-500 animate-pulse"}`,children:s.status})]})]}),w.jsx("div",{className:"shrink-0",children:w.jsx("button",{className:"w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 flex items-center justify-center text-zinc-400 hover:text-white transition-all",children:w.jsx(tq,{size:18})})})]},s.id)})})}),w.jsxs("div",{className:"glass rounded-[2rem] border border-white/5 overflow-hidden",children:[w.jsxs("div",{className:"bg-zinc-950/50 p-4 border-b border-white/5 flex items-center gap-2",children:[w.jsx(yq,{size:14,className:"text-emerald-500"}),w.jsx("span",{className:"text-[10px] font-mono text-zinc-500 uppercase tracking-widest",children:"Live Security Feed"})]}),w.jsxs("div",{className:"p-6 font-mono text-[11px] space-y-2 max-h-48 overflow-y-auto custom-scrollbar",children:[w.jsx("div",{className:"text-emerald-500/60",children:"[SYSTEM] Initializing Cyber Sentinel v4.0.0..."}),w.jsx("div",{className:"text-zinc-600",children:"[INFO] Monitoring agent communication channels..."}),w.jsx("div",{className:"text-zinc-600",children:"[INFO] Scanning for prompt injection patterns..."}),w.jsx("div",{className:"text-red-500/80",children:'[ALERT] Suspicious activity detected in Agent "Content" sandbox.'}),w.jsx("div",{className:"text-zinc-600",children:"[INFO] Isolating session ID: 882-XJ-99..."}),w.jsx("div",{className:"text-emerald-500/60",children:"[SUCCESS] Threat neutralized. Integrity check passed."}),w.jsx("div",{className:"text-zinc-700 animate-pulse",children:"_"})]})]})]})};var Gu={exports:{}},$y={},zy,BP;function x8(){if(BP)return zy;BP=1;function e(t,n){typeof n=="boolean"&&(n={forever:n}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=n||{},this._maxRetryTime=n&&n.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return zy=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var n=new Date().getTime();if(t&&n-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var i=this;return this._timer=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},r),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,n){this._fn=t,n&&(n.timeout&&(this._operationTimeout=n.timeout),n.cb&&(this._operationTimeoutCb=n.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},n=null,r=0,i=0;i<this._errors.length;i++){var o=this._errors[i],s=o.message,u=(t[s]||0)+1;t[s]=u,u>=r&&(n=o,r=u)}return n},zy}var VP;function w8(){return VP||(VP=1,(function(e){var t=x8();e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var o=[],s=0;s<r.retries;s++)o.push(this.createTimeout(s,r));return n&&n.forever&&!o.length&&o.push(this.createTimeout(s,r)),o.sort(function(u,c){return u-c}),o},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return o=Math.min(o,r.maxTimeout),o},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var o in n)typeof n[o]=="function"&&i.push(o)}for(var s=0;s<i.length;s++){var u=i[s],c=n[u];n[u]=(function(h){var p=e.operation(r),g=Array.prototype.slice.call(arguments,1),b=g.pop();g.push(function(S){p.retry(S)||(S&&(arguments[0]=p.mainError()),b.apply(this,arguments))}),p.attempt(function(){h.apply(n,g)})}).bind(n,c),n[u].options=r}}})($y)),$y}var By,qP;function _8(){return qP||(qP=1,By=w8()),By}var GP;function S8(){if(GP)return Gu.exports;GP=1;const e=_8(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class n extends Error{constructor(u){super(),u instanceof Error?(this.originalError=u,{message:u}=u):(this.originalError=new Error(u),this.originalError.stack=this.stack),this.name="AbortError",this.message=u}}const r=(s,u,c)=>{const f=c.retries-(u-1);return s.attemptNumber=u,s.retriesLeft=f,s},i=s=>t.includes(s),o=(s,u)=>new Promise((c,f)=>{u={onFailedAttempt:()=>{},retries:10,...u};const h=e.operation(u);h.attempt(async p=>{try{c(await s(p))}catch(g){if(!(g instanceof Error)){f(new TypeError(`Non-error was thrown: "${g}". You should only throw errors.`));return}if(g instanceof n)h.stop(),f(g.originalError);else if(g instanceof TypeError&&!i(g.message))h.stop(),f(g);else{r(g,p,u);try{await u.onFailedAttempt(g)}catch(b){f(b);return}h.retry(g)||f(h.mainError())}}})});return Gu.exports=o,Gu.exports.default=o,Gu.exports.AbortError=n,Gu.exports}var IL=S8();const E8=Jr(IL);var T8={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let A8,C8;function P8(){return{geminiUrl:A8,vertexUrl:C8}}function N8(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const s=P8();return t?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ro{}function me(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let o=0;o<t.length-1;o++){const s=t[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];y(h,t.slice(o+1),n[f])}else for(const f of c)y(f,t.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];y(c[0],t.slice(o+1),n);return}(!e[s]||typeof e[s]!="object")&&(e[s]={}),e=e[s]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function v(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const s=e[o];return Array.isArray(s)?s.map(u=>v(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function R8(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}sx(e,i,o,0,s)}}function sx(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const s=o.slice(0,-2),u=e;if(s in u&&Array.isArray(u[s]))for(const c of u[s])sx(c,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const s=e,u=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of u)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);y(s,p,h)}for(const f of u)delete s[f]}}else{const s=e;o in s&&sx(s[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I8(e){const t={},n=v(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=v(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function M8(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const s=v(e,["response","generateVideoResponse"]);return s!=null&&y(t,["response"],k8(s)),t}function O8(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const s=v(e,["response"]);return s!=null&&y(t,["response"],D8(s)),t}function k8(e){const t={},n=v(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>L8(s))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function D8(e){const t={},n=v(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>j8(s))),y(t,["generatedVideos"],o)}const r=v(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=v(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function L8(e){const t={},n=v(e,["video"]);return n!=null&&y(t,["video"],q8(n)),t}function j8(e){const t={},n=v(e,["_self"]);return n!=null&&y(t,["video"],G8(n)),t}function U8(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function $8(e){const t={},n=v(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function z8(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const s=v(e,["response"]);return s!=null&&y(t,["response"],B8(s)),t}function B8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function ML(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const s=v(e,["response"]);return s!=null&&y(t,["response"],V8(s)),t}function V8(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function q8(e){const t={},n=v(e,["uri"]);n!=null&&y(t,["uri"],n);const r=v(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],c_(r));const i=v(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function G8(e){const t={},n=v(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=v(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],c_(r));const i=v(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var HP;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(HP||(HP={}));var FP;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(FP||(FP={}));var KP;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(KP||(KP={}));var Ko;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ko||(Ko={}));var WP;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(WP||(WP={}));var YP;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(YP||(YP={}));var JP;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(JP||(JP={}));var XP;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(XP||(XP={}));var ZP;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ZP||(ZP={}));var QP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(QP||(QP={}));var eN;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(eN||(eN={}));var tN;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(tN||(tN={}));var nN;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nN||(nN={}));var rN;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(rN||(rN={}));var iN;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(iN||(iN={}));var oN;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(oN||(oN={}));var aN;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(aN||(aN={}));var sN;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sN||(sN={}));var lN;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lN||(lN={}));var uN;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(uN||(uN={}));var cN;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cN||(cN={}));var Gh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Gh||(Gh={}));var fN;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fN||(fN={}));var dN;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(dN||(dN={}));var hN;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hN||(hN={}));var lx;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(lx||(lx={}));var pN;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pN||(pN={}));var mN;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mN||(mN={}));var ux;(function(e){e.COLLECTION="COLLECTION"})(ux||(ux={}));var gN;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gN||(gN={}));var vN;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vN||(vN={}));var Hh;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(Hh||(Hh={}));var yN;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(yN||(yN={}));var bN;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(bN||(bN={}));var xN;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(xN||(xN={}));var wN;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(wN||(wN={}));var _N;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_N||(_N={}));var SN;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(SN||(SN={}));var EN;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EN||(EN={}));var TN;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(TN||(TN={}));var AN;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(AN||(AN={}));var CN;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(CN||(CN={}));var PN;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(PN||(PN={}));var NN;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(NN||(NN={}));var RN;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(RN||(RN={}));var IN;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(IN||(IN={}));var MN;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(MN||(MN={}));var ON;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ON||(ON={}));var kN;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(kN||(kN={}));var DN;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(DN||(DN={}));var LN;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(LN||(LN={}));var jN;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jN||(jN={}));var UN;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(UN||(UN={}));var $N;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})($N||($N={}));var zN;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zN||(zN={}));var BN;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(BN||(BN={}));var VN;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(VN||(VN={}));var fl;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(fl||(fl={}));class cx{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Hu{get text(){var t,n,r,i,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[b,S]of Object.entries(g))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(b);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,b]of Object.entries(p))g!=="inlineData"&&(b!==null||b!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,s,u,c;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,s,u,c,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,s,u,c,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class qN{}class GN{}class H8{}class F8{}class K8{}class W8{}class HN{}class FN{}class KN{}class Y8{}class Fh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Fh;let i;const o=t;return n?i=O8(o):i=M8(o),Object.assign(r,i),r}}class WN{}class YN{}class JN{}class XN{}class J8{}class X8{}class Z8{}class f_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new f_,o=z8(t);return Object.assign(r,o),r}}class Q8{}class eK{}class tK{}class nK{}class ZN{}class rK{get text(){var t,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class iK{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class d_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new d_,o=ML(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function OL(e,t){const n=Fe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function kL(e){return Array.isArray(e)?e.map(t=>Kh(t)):[Kh(e)]}function Kh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function DL(e){const t=Kh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function LL(e){const t=Kh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function QN(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function jL(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>QN(t)):[QN(e)]}function fx(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function eR(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function tR(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Qt(e){if(e==null)throw new Error("ContentUnion is required");return fx(e)?e:{role:"user",parts:jL(e)}}function h_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Qt(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Qt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Qt(n)):[Qt(t)]}function or(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(eR(e)||tR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qt(e)]}const t=[],n=[],r=fx(e[0]);for(const i of e){const o=fx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(eR(i)||tR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:jL(n)}),t}function oK(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ko).includes(n[0].toUpperCase())?n[0].toUpperCase():Ko.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ko).includes(r.toUpperCase())?r.toUpperCase():Ko.TYPE_UNSPECIFIED})}}function yl(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&oK(e.type,t);for(const[s,u]of Object.entries(e))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ko).includes(u.toUpperCase())?u.toUpperCase():Ko.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=yl(u);else if(r.includes(s)){const c=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}c.push(yl(f))}t[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(u))c[f]=yl(h);t[s]=c}else{if(s==="additionalProperties")continue;t[s]=u}return t}function p_(e){return yl(e)}function m_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function g_(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function kl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=yl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=yl(t.response));return e}function Dl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function aK(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function io(e,t){if(typeof t!="string")throw new Error("name must be a string");return aK(e,t,"cachedContents")}function UL(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ea(e){return c_(e)}function sK(e){return e!=null&&typeof e=="object"&&"name"in e}function lK(e){return e!=null&&typeof e=="object"&&"video"in e}function uK(e){return e!=null&&typeof e=="object"&&"uri"in e}function $L(e){var t;let n;if(sK(e)&&(n=e.name),!(uK(e)&&(n=e.uri,n===void 0))&&!(lK(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function zL(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function BL(e){for(const t of["models","tunedModels","publisherModels"])if(cK(e,t))return e[t];return[]}function cK(e,t){return e!==null&&typeof e=="object"&&t in e}function fK(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function dK(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=fK(i,t);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function VL(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function hK(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function qL(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ll(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function GL(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function pK(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mK(e){const t={},n=v(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=v(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>YK(s))),y(t,["inlinedResponses"],o)}const i=v(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["inlinedEmbedContentResponses"],o)}return t}function gK(e){const t={},n=v(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function vK(e){const t={},n=v(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Th(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["metadata","state"]);i!=null&&y(t,["state"],GL(i));const o=v(e,["metadata","createTime"]);o!=null&&y(t,["createTime"],o);const s=v(e,["metadata","endTime"]);s!=null&&y(t,["endTime"],s);const u=v(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const c=v(e,["metadata","model"]);c!=null&&y(t,["model"],c);const f=v(e,["metadata","output"]);return f!=null&&y(t,["dest"],mK(qL(f))),t}function dx(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=v(e,["state"]);i!=null&&y(t,["state"],GL(i));const o=v(e,["error"]);o!=null&&y(t,["error"],o);const s=v(e,["createTime"]);s!=null&&y(t,["createTime"],s);const u=v(e,["startTime"]);u!=null&&y(t,["startTime"],u);const c=v(e,["endTime"]);c!=null&&y(t,["endTime"],c);const f=v(e,["updateTime"]);f!=null&&y(t,["updateTime"],f);const h=v(e,["model"]);h!=null&&y(t,["model"],h);const p=v(e,["inputConfig"]);p!=null&&y(t,["src"],yK(p));const g=v(e,["outputConfig"]);g!=null&&y(t,["dest"],gK(qL(g)));const b=v(e,["completionStats"]);return b!=null&&y(t,["completionStats"],b),t}function yK(e){const t={},n=v(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=v(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=v(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function bK(e,t){const n={};if(v(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=v(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>WK(e,s))),y(n,["requests","requests"],o)}return n}function xK(e){const t={},n=v(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=v(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=v(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),v(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function wK(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function _K(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ll(e,r)),n}function SK(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ll(e,r)),n}function EK(e){const t={},n=v(e,["content"]);n!=null&&y(t,["content"],n);const r=v(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],TK(r));const i=v(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const o=v(e,["finishReason"]);o!=null&&y(t,["finishReason"],o);const s=v(e,["avgLogprobs"]);s!=null&&y(t,["avgLogprobs"],s);const u=v(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const c=v(e,["index"]);c!=null&&y(t,["index"],c);const f=v(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const h=v(e,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(b=>b)),y(t,["safetyRatings"],g)}const p=v(e,["urlContextMetadata"]);return p!=null&&y(t,["urlContextMetadata"],p),t}function TK(e){const t={},n=v(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function HL(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>n9(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function AK(e,t){const n={},r=v(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),v(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function CK(e,t){const n={},r=v(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=v(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],vK(hK(i))),n}function nR(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Fe(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],bK(e,VL(e,i)));const o=v(t,["config"]);return o!=null&&AK(o,n),n}function PK(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],Fe(e,r));const i=v(t,["src"]);i!=null&&y(n,["inputConfig"],xK(VL(e,i)));const o=v(t,["config"]);return o!=null&&CK(o,n),n}function NK(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function RK(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["_url","model"],Fe(e,r));const i=v(t,["src"]);i!=null&&y(n,["batch","inputConfig"],jK(e,i));const o=v(t,["config"]);return o!=null&&NK(o,n),n}function IK(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ll(e,r)),n}function MK(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ll(e,r)),n}function OK(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);return o!=null&&y(t,["error"],o),t}function kK(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);return o!=null&&y(t,["error"],o),t}function DK(e,t){const n={},r=v(t,["contents"]);if(r!=null){let o=h_(e,r);Array.isArray(o)&&(o=o.map(s=>s)),y(n,["requests[]","request","content"],o)}const i=v(t,["config"]);return i!=null&&(y(n,["_self"],LK(i,n)),R8(n,{"requests[].*":"requests[].request.*"})),n}function LK(e,t){const n={},r=v(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=v(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const o=v(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&y(t,["requests[]","outputDimensionality"],o),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jK(e,t){const n={},r=v(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=v(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],DK(e,i)),n}function UK(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function $K(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function zK(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&y(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function BK(e,t,n){const r={},i=v(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],HL(Qt(i)));const o=v(t,["temperature"]);o!=null&&y(r,["temperature"],o);const s=v(t,["topP"]);s!=null&&y(r,["topP"],s);const u=v(t,["topK"]);u!=null&&y(r,["topK"],u);const c=v(t,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const f=v(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const h=v(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const p=v(t,["responseLogprobs"]);p!=null&&y(r,["responseLogprobs"],p);const g=v(t,["logprobs"]);g!=null&&y(r,["logprobs"],g);const b=v(t,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const S=v(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=v(t,["seed"]);E!=null&&y(r,["seed"],E);const T=v(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=v(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],p_(C));const R=v(t,["responseJsonSchema"]);if(R!=null&&y(r,["responseJsonSchema"],R),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=v(t,["safetySettings"]);if(n!==void 0&&N!=null){let L=N;Array.isArray(L)&&(L=L.map(H=>r9(H))),y(n,["safetySettings"],L)}const I=v(t,["tools"]);if(n!==void 0&&I!=null){let L=Dl(I);Array.isArray(L)&&(L=L.map(H=>o9(kl(H)))),y(n,["tools"],L)}const O=v(t,["toolConfig"]);if(n!==void 0&&O!=null&&y(n,["toolConfig"],i9(O)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=v(t,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],io(e,M));const U=v(t,["responseModalities"]);U!=null&&y(r,["responseModalities"],U);const q=v(t,["mediaResolution"]);q!=null&&y(r,["mediaResolution"],q);const V=v(t,["speechConfig"]);if(V!=null&&y(r,["speechConfig"],m_(V)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ne=v(t,["thinkingConfig"]);ne!=null&&y(r,["thinkingConfig"],ne);const ie=v(t,["imageConfig"]);ie!=null&&y(r,["imageConfig"],KK(ie));const Y=v(t,["enableEnhancedCivicAnswers"]);if(Y!=null&&y(r,["enableEnhancedCivicAnswers"],Y),v(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function VK(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>EK(f))),y(t,["candidates"],c)}const i=v(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const o=v(e,["promptFeedback"]);o!=null&&y(t,["promptFeedback"],o);const s=v(e,["responseId"]);s!=null&&y(t,["responseId"],s);const u=v(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function qK(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ll(e,r)),n}function GK(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],Ll(e,r)),n}function HK(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function FK(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function KK(e){const t={},n=v(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=v(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),v(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function WK(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["request","model"],Fe(e,r));const i=v(t,["contents"]);if(i!=null){let u=or(i);Array.isArray(u)&&(u=u.map(c=>HL(c))),y(n,["request","contents"],u)}const o=v(t,["metadata"]);o!=null&&y(n,["metadata"],o);const s=v(t,["config"]);return s!=null&&y(n,["request","generationConfig"],BK(e,s,v(n,["request"],{}))),n}function YK(e){const t={},n=v(e,["response"]);n!=null&&y(t,["response"],VK(n));const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["error"]);return i!=null&&y(t,["error"],i),t}function JK(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),v(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function XK(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const o=v(e,["filter"]);return t!==void 0&&o!=null&&y(t,["_query","filter"],o),n}function ZK(e){const t={},n=v(e,["config"]);return n!=null&&JK(n,t),t}function QK(e){const t={},n=v(e,["config"]);return n!=null&&XK(n,t),t}function e9(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Th(s))),y(t,["batchJobs"],o)}return t}function t9(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>dx(s))),y(t,["batchJobs"],o)}return t}function n9(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],UK(o));const s=v(e,["functionCall"]);s!=null&&y(t,["functionCall"],$K(s));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],wK(c));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const p=v(e,["thoughtSignature"]);p!=null&&y(t,["thoughtSignature"],p);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function r9(e){const t={},n=v(e,["category"]);if(n!=null&&y(t,["category"],n),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=v(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function i9(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],zK(r)),t}function o9(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),y(t,["functionDeclarations"],h)}const s=v(e,["googleMaps"]);s!=null&&y(t,["googleMaps"],HK(s));const u=v(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],FK(u));const c=v(e,["googleSearchRetrieval"]);c!=null&&y(t,["googleSearchRetrieval"],c);const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Yi||(Yi={}));class ts{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a9 extends ro{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ts(Yi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=nR(this.apiClient,t),r=n._url,i=me("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const b=p.request;b.systemInstruction=g,p.request=b}f.push(p)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),s=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=PK(this.apiClient,t);return u=me("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>dx(h))}else{const f=nR(this.apiClient,t);return u=me("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Th(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RK(this.apiClient,t);return o=me("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Th(c))}}async get(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=GK(this.apiClient,t);return u=me("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>dx(h))}else{const f=qK(this.apiClient,t);return u=me("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Th(h))}}async cancel(t){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=SK(this.apiClient,t);s=me("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=_K(this.apiClient,t);s=me("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=QK(t);return u=me("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=t9(h),g=new ZN;return Object.assign(g,p),g})}else{const f=ZK(t);return u=me("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=e9(h),g=new ZN;return Object.assign(g,p),g})}}async delete(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=MK(this.apiClient,t);return u=me("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>kK(h))}else{const f=IK(this.apiClient,t);return u=me("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>OK(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s9(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function rR(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>R9(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function l9(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const s=v(e,["contents"]);if(t!==void 0&&s!=null){let h=or(s);Array.isArray(h)&&(h=h.map(p=>rR(p))),y(t,["contents"],h)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],rR(Qt(u)));const c=v(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>M9(p))),y(t,["tools"],h)}const f=v(e,["toolConfig"]);if(t!==void 0&&f!=null&&y(t,["toolConfig"],I9(f)),v(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function u9(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const o=v(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const s=v(e,["contents"]);if(t!==void 0&&s!=null){let p=or(s);Array.isArray(p)&&(p=p.map(g=>g)),y(t,["contents"],p)}const u=v(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Qt(u));const c=v(e,["tools"]);if(t!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>O9(g))),y(t,["tools"],p)}const f=v(e,["toolConfig"]);t!==void 0&&f!=null&&y(t,["toolConfig"],f);const h=v(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function c9(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],OL(e,r));const i=v(t,["config"]);return i!=null&&l9(i,n),n}function f9(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["model"],OL(e,r));const i=v(t,["config"]);return i!=null&&u9(i,n),n}function d9(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],io(e,r)),n}function h9(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],io(e,r)),n}function p9(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function m9(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function g9(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function v9(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function y9(e){const t={},n=v(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=v(e,["mode"]);if(r!=null&&y(t,["mode"],r),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function b9(e){const t={},n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const s=v(e,["response"]);s!=null&&y(t,["response"],s);const u=v(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function x9(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],io(e,r)),n}function w9(e,t){const n={},r=v(t,["name"]);return r!=null&&y(n,["_url","name"],io(e,r)),n}function _9(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function S9(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function E9(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function T9(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function A9(e){const t={},n=v(e,["config"]);return n!=null&&E9(n,t),t}function C9(e){const t={},n=v(e,["config"]);return n!=null&&T9(n,t),t}function P9(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["cachedContents"],o)}return t}function N9(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["cachedContents"],o)}return t}function R9(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],g9(o));const s=v(e,["functionCall"]);s!=null&&y(t,["functionCall"],v9(s));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],s9(c));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const p=v(e,["thoughtSignature"]);p!=null&&y(t,["thoughtSignature"],p);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function I9(e){const t={},n=v(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=v(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],y9(r)),t}function M9(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),y(t,["functionDeclarations"],h)}const s=v(e,["googleMaps"]);s!=null&&y(t,["googleMaps"],_9(s));const u=v(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],S9(u));const c=v(e,["googleSearchRetrieval"]);c!=null&&y(t,["googleSearchRetrieval"],c);const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function O9(e){const t={},n=v(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["codeExecution"]);i!=null&&y(t,["codeExecution"],i);const o=v(e,["enterpriseWebSearch"]);o!=null&&y(t,["enterpriseWebSearch"],o);const s=v(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>b9(g))),y(t,["functionDeclarations"],p)}const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],c);const f=v(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function k9(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function D9(e,t){const n={},r=v(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=v(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function L9(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],io(e,r));const i=v(t,["config"]);return i!=null&&k9(i,n),n}function j9(e,t){const n={},r=v(t,["name"]);r!=null&&y(n,["_url","name"],io(e,r));const i=v(t,["config"]);return i!=null&&D9(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U9 extends ro{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ts(Yi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=f9(this.apiClient,t);return u=me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=c9(this.apiClient,t);return u=me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=w9(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=x9(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=h9(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=m9(h),g=new JN;return Object.assign(g,p),g})}else{const f=d9(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=p9(h),g=new JN;return Object.assign(g,p),g})}}async update(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=j9(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=L9(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=C9(t);return u=me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=N9(h),g=new XN;return Object.assign(g,p),g})}else{const f=A9(t);return u=me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=P9(h),g=new XN;return Object.assign(g,p),g})}}}function Wh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function iR(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(e){return this instanceof Oe?(this.v=e,this):new Oe(e)}function Gr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(S){return Promise.resolve(S).then(b,p)}}function u(b,S){r[b]&&(i[b]=function(E){return new Promise(function(T,C){o.push([b,E,T,C])>1||c(b,E)})},S&&(i[b]=S(i[b])))}function c(b,S){try{f(r[b](S))}catch(E){g(o[0][3],E)}}function f(b){b.value instanceof Oe?Promise.resolve(b.value.v).then(h,p):g(o[0][2],b)}function h(b){c("next",b)}function p(b){c("throw",b)}function g(b,S){b(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Hr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof iR=="function"?iR(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(u,c){s=e[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $9(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:FL(n)}function FL(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function z9(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function oR(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!FL(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class B9{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new V9(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class V9{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),z9(o)}async sendMessage(t){var n;await this.sendPromise;const r=Qt(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await i,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(u=h.slice(p))!==null&&u!==void 0?u:[]);const b=f?[f]:[];this.recordHistory(r,b,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Qt(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?oR(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Gr(this,arguments,function*(){var i,o,s,u,c,f;const h=[];try{for(var p=!0,g=Hr(t),b;b=yield Oe(g.next()),i=b.done,!i;p=!0){u=b.value,p=!1;const S=u;if($9(S)){const E=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Oe(S)}}catch(S){o={error:S}}finally{try{!p&&!i&&(s=g.return)&&(yield Oe(s.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...oR(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _c extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,_c.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q9(e){const t={},n=v(e,["file"]);return n!=null&&y(t,["file"],n),t}function G9(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function H9(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],$L(n)),t}function F9(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function K9(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","file"],$L(n)),t}function W9(e){const t={},n=v(e,["uris"]);return n!=null&&y(t,["uris"],n),t}function Y9(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function J9(e){const t={},n=v(e,["config"]);return n!=null&&Y9(n,t),t}function X9(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["files"],o)}return t}function Z9(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q9 extends ro{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ts(Yi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=J9(t);return o=me("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=X9(c),h=new Q8;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q9(t);return o=me("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=G9(c),h=new eK;return Object.assign(h,f),h})}}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=K9(t);return o=me("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=H9(t);return o=me("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=F9(c),h=new tK;return Object.assign(h,f),h})}}async registerFilesInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=W9(t);return o=me("files:register",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Z9(c),h=new nK;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ah(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function eW(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gW(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function tW(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function nW(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function rW(e){const t={},n=v(e,["description"]);n!=null&&y(t,["description"],n);const r=v(e,["name"]);r!=null&&y(t,["name"],r);const i=v(e,["parameters"]);i!=null&&y(t,["parameters"],i);const o=v(e,["parametersJsonSchema"]);o!=null&&y(t,["parametersJsonSchema"],o);const s=v(e,["response"]);s!=null&&y(t,["response"],s);const u=v(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function iW(e){const t={},n=v(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=v(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=v(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const o=v(e,["candidateCount"]);o!=null&&y(t,["candidateCount"],o);const s=v(e,["enableAffectiveDialog"]);s!=null&&y(t,["enableAffectiveDialog"],s);const u=v(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const c=v(e,["logprobs"]);c!=null&&y(t,["logprobs"],c);const f=v(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const h=v(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const p=v(e,["presencePenalty"]);p!=null&&y(t,["presencePenalty"],p);const g=v(e,["responseLogprobs"]);g!=null&&y(t,["responseLogprobs"],g);const b=v(e,["responseMimeType"]);b!=null&&y(t,["responseMimeType"],b);const S=v(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=v(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=v(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=v(e,["seed"]);C!=null&&y(t,["seed"],C);const R=v(e,["speechConfig"]);R!=null&&y(t,["speechConfig"],R);const N=v(e,["stopSequences"]);N!=null&&y(t,["stopSequences"],N);const I=v(e,["temperature"]);I!=null&&y(t,["temperature"],I);const O=v(e,["thinkingConfig"]);O!=null&&y(t,["thinkingConfig"],O);const M=v(e,["topK"]);M!=null&&y(t,["topK"],M);const U=v(e,["topP"]);if(U!=null&&y(t,["topP"],U),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function oW(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function aW(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function sW(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const s=v(e,["topP"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","topP"],s);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=v(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const p=v(e,["speechConfig"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","speechConfig"],g_(p));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const b=v(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],eW(Qt(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let M=Dl(E);Array.isArray(M)&&(M=M.map(U=>yW(kl(U)))),y(t,["setup","tools"],M)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],vW(T));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const R=v(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","outputAudioTranscription"],R);const N=v(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const I=v(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const O=v(e,["proactivity"]);if(t!==void 0&&O!=null&&y(t,["setup","proactivity"],O),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lW(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],iW(r));const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const s=v(e,["topP"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","topP"],s);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=v(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const p=v(e,["speechConfig"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","speechConfig"],g_(p));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const b=v(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Qt(S));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let U=Dl(E);Array.isArray(U)&&(U=U.map(q=>bW(kl(q)))),y(t,["setup","tools"],U)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],T);const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const R=v(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","outputAudioTranscription"],R);const N=v(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const I=v(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const O=v(e,["proactivity"]);t!==void 0&&O!=null&&y(t,["setup","proactivity"],O);const M=v(e,["explicitVadSignal"]);return t!==void 0&&M!=null&&y(t,["setup","explicitVadSignal"],M),n}function uW(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],Fe(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],sW(i,n)),n}function cW(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],Fe(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],lW(i,n)),n}function fW(e){const t={},n=v(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function dW(e){const t={},n=v(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function hW(e){const t={},n=v(e,["media"]);if(n!=null){let f=kL(n);Array.isArray(f)&&(f=f.map(h=>Ah(h))),y(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],Ah(LL(r)));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&y(t,["video"],Ah(DL(o)));const s=v(e,["text"]);s!=null&&y(t,["text"],s);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=v(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function pW(e){const t={},n=v(e,["media"]);if(n!=null){let f=kL(n);Array.isArray(f)&&(f=f.map(h=>h)),y(t,["mediaChunks"],f)}const r=v(e,["audio"]);r!=null&&y(t,["audio"],LL(r));const i=v(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const o=v(e,["video"]);o!=null&&y(t,["video"],DL(o));const s=v(e,["text"]);s!=null&&y(t,["text"],s);const u=v(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const c=v(e,["activityEnd"]);return c!=null&&y(t,["activityEnd"],c),t}function mW(e){const t={},n=v(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=v(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=v(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const o=v(e,["toolCallCancellation"]);o!=null&&y(t,["toolCallCancellation"],o);const s=v(e,["usageMetadata"]);s!=null&&y(t,["usageMetadata"],xW(s));const u=v(e,["goAway"]);u!=null&&y(t,["goAway"],u);const c=v(e,["sessionResumptionUpdate"]);c!=null&&y(t,["sessionResumptionUpdate"],c);const f=v(e,["voiceActivityDetectionSignal"]);f!=null&&y(t,["voiceActivityDetectionSignal"],f);const h=v(e,["voiceActivity"]);return h!=null&&y(t,["voiceActivity"],wW(h)),t}function gW(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],tW(o));const s=v(e,["functionCall"]);s!=null&&y(t,["functionCall"],nW(s));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],Ah(c));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const p=v(e,["thoughtSignature"]);p!=null&&y(t,["thoughtSignature"],p);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function vW(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function yW(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),y(t,["functionDeclarations"],h)}const s=v(e,["googleMaps"]);s!=null&&y(t,["googleMaps"],oW(s));const u=v(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],aW(u));const c=v(e,["googleSearchRetrieval"]);c!=null&&y(t,["googleSearchRetrieval"],c);const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function bW(e){const t={},n=v(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=v(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=v(e,["codeExecution"]);i!=null&&y(t,["codeExecution"],i);const o=v(e,["enterpriseWebSearch"]);o!=null&&y(t,["enterpriseWebSearch"],o);const s=v(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>rW(g))),y(t,["functionDeclarations"],p)}const u=v(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const c=v(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],c);const f=v(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const h=v(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function xW(e){const t={},n=v(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=v(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=v(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const o=v(e,["toolUsePromptTokenCount"]);o!=null&&y(t,["toolUsePromptTokenCount"],o);const s=v(e,["thoughtsTokenCount"]);s!=null&&y(t,["thoughtsTokenCount"],s);const u=v(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const c=v(e,["promptTokensDetails"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(S=>S)),y(t,["promptTokensDetails"],b)}const f=v(e,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(S=>S)),y(t,["cacheTokensDetails"],b)}const h=v(e,["candidatesTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(S=>S)),y(t,["responseTokensDetails"],b)}const p=v(e,["toolUsePromptTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>S)),y(t,["toolUsePromptTokensDetails"],b)}const g=v(e,["trafficType"]);return g!=null&&y(t,["trafficType"],g),t}function wW(e){const t={},n=v(e,["type"]);return n!=null&&y(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _W(e,t){const n={},r=v(e,["data"]);if(r!=null&&y(n,["data"],r),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=v(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function SW(e,t){const n={},r=v(e,["content"]);r!=null&&y(n,["content"],r);const i=v(e,["citationMetadata"]);i!=null&&y(n,["citationMetadata"],EW(i));const o=v(e,["tokenCount"]);o!=null&&y(n,["tokenCount"],o);const s=v(e,["finishReason"]);s!=null&&y(n,["finishReason"],s);const u=v(e,["avgLogprobs"]);u!=null&&y(n,["avgLogprobs"],u);const c=v(e,["groundingMetadata"]);c!=null&&y(n,["groundingMetadata"],c);const f=v(e,["index"]);f!=null&&y(n,["index"],f);const h=v(e,["logprobsResult"]);h!=null&&y(n,["logprobsResult"],h);const p=v(e,["safetyRatings"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(S=>S)),y(n,["safetyRatings"],b)}const g=v(e,["urlContextMetadata"]);return g!=null&&y(n,["urlContextMetadata"],g),n}function EW(e,t){const n={},r=v(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["citations"],i)}return n}function TW(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["contents"]);if(o!=null){let s=or(o);Array.isArray(s)&&(s=s.map(u=>u)),y(r,["contents"],s)}return r}function AW(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(n,["tokensInfo"],o)}return n}function CW(e,t){const n={},r=v(e,["values"]);r!=null&&y(n,["values"],r);const i=v(e,["statistics"]);return i!=null&&y(n,["statistics"],PW(i)),n}function PW(e,t){const n={},r=v(e,["truncated"]);r!=null&&y(n,["truncated"],r);const i=v(e,["token_count"]);return i!=null&&y(n,["tokenCount"],i),n}function Jc(e,t){const n={},r=v(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>jY(s))),y(n,["parts"],o)}const i=v(e,["role"]);return i!=null&&y(n,["role"],i),n}function NW(e,t){const n={},r=v(e,["controlType"]);r!=null&&y(n,["controlType"],r);const i=v(e,["enableControlImageComputation"]);return i!=null&&y(n,["computeControl"],i),n}function RW(e,t){const n={};if(v(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function IW(e,t,n){const r={},i=v(e,["systemInstruction"]);t!==void 0&&i!=null&&y(t,["systemInstruction"],Qt(i));const o=v(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>JL(c))),y(t,["tools"],u)}const s=v(e,["generationConfig"]);return t!==void 0&&s!=null&&y(t,["generationConfig"],_Y(s)),r}function MW(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["contents"]);if(o!=null){let u=or(o);Array.isArray(u)&&(u=u.map(c=>Jc(c))),y(r,["contents"],u)}const s=v(t,["config"]);return s!=null&&RW(s),r}function OW(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["contents"]);if(o!=null){let u=or(o);Array.isArray(u)&&(u=u.map(c=>c)),y(r,["contents"],u)}const s=v(t,["config"]);return s!=null&&IW(s,r),r}function kW(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["totalTokens"]);i!=null&&y(n,["totalTokens"],i);const o=v(e,["cachedContentTokenCount"]);return o!=null&&y(n,["cachedContentTokenCount"],o),n}function DW(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["totalTokens"]);return i!=null&&y(n,["totalTokens"],i),n}function LW(e,t,n){const r={},i=v(t,["model"]);return i!=null&&y(r,["_url","name"],Fe(e,i)),r}function jW(e,t,n){const r={},i=v(t,["model"]);return i!=null&&y(r,["_url","name"],Fe(e,i)),r}function UW(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function $W(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function zW(e,t,n){const r={},i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const o=v(e,["negativePrompt"]);t!==void 0&&o!=null&&y(t,["parameters","negativePrompt"],o);const s=v(e,["numberOfImages"]);t!==void 0&&s!=null&&y(t,["parameters","sampleCount"],s);const u=v(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const c=v(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const f=v(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=v(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const p=v(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const g=v(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&y(t,["parameters","includeSafetyAttributes"],g);const b=v(e,["includeRaiReason"]);t!==void 0&&b!=null&&y(t,["parameters","includeRaiReason"],b);const S=v(e,["language"]);t!==void 0&&S!=null&&y(t,["parameters","language"],S);const E=v(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const T=v(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const C=v(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const R=v(e,["labels"]);t!==void 0&&R!=null&&y(t,["labels"],R);const N=v(e,["editMode"]);t!==void 0&&N!=null&&y(t,["parameters","editMode"],N);const I=v(e,["baseSteps"]);return t!==void 0&&I!=null&&y(t,["parameters","editConfig","baseSteps"],I),r}function BW(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["prompt"]);o!=null&&y(r,["instances[0]","prompt"],o);const s=v(t,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>qY(f))),y(r,["instances[0]","referenceImages"],c)}const u=v(t,["config"]);return u!=null&&zW(u,r),r}function VW(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>tm(s))),y(n,["generatedImages"],o)}return n}function qW(e,t,n){const r={},i=v(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const o=v(e,["title"]);t!==void 0&&o!=null&&y(t,["requests[]","title"],o);const s=v(e,["outputDimensionality"]);if(t!==void 0&&s!=null&&y(t,["requests[]","outputDimensionality"],s),v(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function GW(e,t,n){const r={};let i=v(n,["embeddingApiType"]);if(i===void 0&&(i="PREDICT"),i==="PREDICT"){const f=v(e,["taskType"]);t!==void 0&&f!=null&&y(t,["instances[]","task_type"],f)}else if(i==="EMBED_CONTENT"){const f=v(e,["taskType"]);t!==void 0&&f!=null&&y(t,["taskType"],f)}let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const f=v(e,["title"]);t!==void 0&&f!=null&&y(t,["instances[]","title"],f)}else if(o==="EMBED_CONTENT"){const f=v(e,["title"]);t!==void 0&&f!=null&&y(t,["title"],f)}let s=v(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="PREDICT"){const f=v(e,["outputDimensionality"]);t!==void 0&&f!=null&&y(t,["parameters","outputDimensionality"],f)}else if(s==="EMBED_CONTENT"){const f=v(e,["outputDimensionality"]);t!==void 0&&f!=null&&y(t,["outputDimensionality"],f)}let u=v(n,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const f=v(e,["mimeType"]);t!==void 0&&f!=null&&y(t,["instances[]","mimeType"],f)}let c=v(n,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const f=v(e,["autoTruncate"]);t!==void 0&&f!=null&&y(t,["parameters","autoTruncate"],f)}else if(c==="EMBED_CONTENT"){const f=v(e,["autoTruncate"]);t!==void 0&&f!=null&&y(t,["autoTruncate"],f)}return r}function HW(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["contents"]);if(o!=null){let f=h_(e,o);Array.isArray(f)&&(f=f.map(h=>h)),y(r,["requests[]","content"],f)}const s=v(t,["content"]);s!=null&&Jc(Qt(s));const u=v(t,["config"]);u!=null&&qW(u,r);const c=v(t,["model"]);return c!==void 0&&y(r,["requests[]","model"],Fe(e,c)),r}function FW(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));let o=v(n,["embeddingApiType"]);if(o===void 0&&(o="PREDICT"),o==="PREDICT"){const c=v(t,["contents"]);if(c!=null){let f=h_(e,c);Array.isArray(f)&&(f=f.map(h=>h)),y(r,["instances[]","content"],f)}}let s=v(n,["embeddingApiType"]);if(s===void 0&&(s="PREDICT"),s==="EMBED_CONTENT"){const c=v(t,["content"]);c!=null&&y(r,["content"],Qt(c))}const u=v(t,["config"]);return u!=null&&GW(u,r,n),r}function KW(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),y(n,["embeddings"],s)}const o=v(e,["metadata"]);return o!=null&&y(n,["metadata"],o),n}function WW(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>CW(u))),y(n,["embeddings"],s)}const o=v(e,["metadata"]);if(o!=null&&y(n,["metadata"],o),t&&v(t,["embeddingApiType"])==="EMBED_CONTENT"){const s=v(e,["embedding"]),u=v(e,["usageMetadata"]),c=v(e,["truncated"]);if(s){const f={};u&&u.promptTokenCount&&(f.tokenCount=u.promptTokenCount),c&&(f.truncated=c),s.statistics=f,y(n,["embeddings"],[s])}}return n}function YW(e,t){const n={},r=v(e,["endpoint"]);r!=null&&y(n,["name"],r);const i=v(e,["deployedModelId"]);return i!=null&&y(n,["deployedModelId"],i),n}function JW(e,t){const n={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["fileUri"]);r!=null&&y(n,["fileUri"],r);const i=v(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function XW(e,t){const n={},r=v(e,["id"]);r!=null&&y(n,["id"],r);const i=v(e,["args"]);i!=null&&y(n,["args"],i);const o=v(e,["name"]);if(o!=null&&y(n,["name"],o),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function ZW(e,t){const n={},r=v(e,["allowedFunctionNames"]);r!=null&&y(n,["allowedFunctionNames"],r);const i=v(e,["mode"]);if(i!=null&&y(n,["mode"],i),v(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function QW(e,t){const n={},r=v(e,["description"]);r!=null&&y(n,["description"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["parameters"]);o!=null&&y(n,["parameters"],o);const s=v(e,["parametersJsonSchema"]);s!=null&&y(n,["parametersJsonSchema"],s);const u=v(e,["response"]);u!=null&&y(n,["response"],u);const c=v(e,["responseJsonSchema"]);if(c!=null&&y(n,["responseJsonSchema"],c),v(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function eY(e,t,n,r){const i={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],Jc(Qt(o)));const s=v(t,["temperature"]);s!=null&&y(i,["temperature"],s);const u=v(t,["topP"]);u!=null&&y(i,["topP"],u);const c=v(t,["topK"]);c!=null&&y(i,["topK"],c);const f=v(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=v(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const p=v(t,["stopSequences"]);p!=null&&y(i,["stopSequences"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(i,["responseLogprobs"],g);const b=v(t,["logprobs"]);b!=null&&y(i,["logprobs"],b);const S=v(t,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const E=v(t,["frequencyPenalty"]);E!=null&&y(i,["frequencyPenalty"],E);const T=v(t,["seed"]);T!=null&&y(i,["seed"],T);const C=v(t,["responseMimeType"]);C!=null&&y(i,["responseMimeType"],C);const R=v(t,["responseSchema"]);R!=null&&y(i,["responseSchema"],p_(R));const N=v(t,["responseJsonSchema"]);if(N!=null&&y(i,["responseJsonSchema"],N),v(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=v(t,["safetySettings"]);if(n!==void 0&&I!=null){let H=I;Array.isArray(H)&&(H=H.map(j=>GY(j))),y(n,["safetySettings"],H)}const O=v(t,["tools"]);if(n!==void 0&&O!=null){let H=Dl(O);Array.isArray(H)&&(H=H.map(j=>XY(kl(j)))),y(n,["tools"],H)}const M=v(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],JY(M)),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=v(t,["cachedContent"]);n!==void 0&&U!=null&&y(n,["cachedContent"],io(e,U));const q=v(t,["responseModalities"]);q!=null&&y(i,["responseModalities"],q);const V=v(t,["mediaResolution"]);V!=null&&y(i,["mediaResolution"],V);const ne=v(t,["speechConfig"]);if(ne!=null&&y(i,["speechConfig"],m_(ne)),v(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=v(t,["thinkingConfig"]);ie!=null&&y(i,["thinkingConfig"],ie);const Y=v(t,["imageConfig"]);Y!=null&&y(i,["imageConfig"],CY(Y));const L=v(t,["enableEnhancedCivicAnswers"]);if(L!=null&&y(i,["enableEnhancedCivicAnswers"],L),v(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function tY(e,t,n,r){const i={},o=v(t,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],Qt(o));const s=v(t,["temperature"]);s!=null&&y(i,["temperature"],s);const u=v(t,["topP"]);u!=null&&y(i,["topP"],u);const c=v(t,["topK"]);c!=null&&y(i,["topK"],c);const f=v(t,["candidateCount"]);f!=null&&y(i,["candidateCount"],f);const h=v(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const p=v(t,["stopSequences"]);p!=null&&y(i,["stopSequences"],p);const g=v(t,["responseLogprobs"]);g!=null&&y(i,["responseLogprobs"],g);const b=v(t,["logprobs"]);b!=null&&y(i,["logprobs"],b);const S=v(t,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const E=v(t,["frequencyPenalty"]);E!=null&&y(i,["frequencyPenalty"],E);const T=v(t,["seed"]);T!=null&&y(i,["seed"],T);const C=v(t,["responseMimeType"]);C!=null&&y(i,["responseMimeType"],C);const R=v(t,["responseSchema"]);R!=null&&y(i,["responseSchema"],p_(R));const N=v(t,["responseJsonSchema"]);N!=null&&y(i,["responseJsonSchema"],N);const I=v(t,["routingConfig"]);I!=null&&y(i,["routingConfig"],I);const O=v(t,["modelSelectionConfig"]);O!=null&&y(i,["modelConfig"],O);const M=v(t,["safetySettings"]);if(n!==void 0&&M!=null){let F=M;Array.isArray(F)&&(F=F.map(J=>J)),y(n,["safetySettings"],F)}const U=v(t,["tools"]);if(n!==void 0&&U!=null){let F=Dl(U);Array.isArray(F)&&(F=F.map(J=>JL(kl(J)))),y(n,["tools"],F)}const q=v(t,["toolConfig"]);n!==void 0&&q!=null&&y(n,["toolConfig"],q);const V=v(t,["labels"]);n!==void 0&&V!=null&&y(n,["labels"],V);const ne=v(t,["cachedContent"]);n!==void 0&&ne!=null&&y(n,["cachedContent"],io(e,ne));const ie=v(t,["responseModalities"]);ie!=null&&y(i,["responseModalities"],ie);const Y=v(t,["mediaResolution"]);Y!=null&&y(i,["mediaResolution"],Y);const L=v(t,["speechConfig"]);L!=null&&y(i,["speechConfig"],m_(L));const H=v(t,["audioTimestamp"]);H!=null&&y(i,["audioTimestamp"],H);const j=v(t,["thinkingConfig"]);j!=null&&y(i,["thinkingConfig"],j);const D=v(t,["imageConfig"]);if(D!=null&&y(i,["imageConfig"],PY(D)),v(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=v(t,["modelArmorConfig"]);return n!==void 0&&z!=null&&y(n,["modelArmorConfig"],z),i}function aR(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["contents"]);if(o!=null){let u=or(o);Array.isArray(u)&&(u=u.map(c=>Jc(c))),y(r,["contents"],u)}const s=v(t,["config"]);return s!=null&&y(r,["generationConfig"],eY(e,s,r)),r}function sR(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["contents"]);if(o!=null){let u=or(o);Array.isArray(u)&&(u=u.map(c=>c)),y(r,["contents"],u)}const s=v(t,["config"]);return s!=null&&y(r,["generationConfig"],tY(e,s,r)),r}function lR(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>SW(h))),y(n,["candidates"],f)}const o=v(e,["modelVersion"]);o!=null&&y(n,["modelVersion"],o);const s=v(e,["promptFeedback"]);s!=null&&y(n,["promptFeedback"],s);const u=v(e,["responseId"]);u!=null&&y(n,["responseId"],u);const c=v(e,["usageMetadata"]);return c!=null&&y(n,["usageMetadata"],c),n}function uR(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),y(n,["candidates"],h)}const o=v(e,["createTime"]);o!=null&&y(n,["createTime"],o);const s=v(e,["modelVersion"]);s!=null&&y(n,["modelVersion"],s);const u=v(e,["promptFeedback"]);u!=null&&y(n,["promptFeedback"],u);const c=v(e,["responseId"]);c!=null&&y(n,["responseId"],c);const f=v(e,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function nY(e,t,n){const r={};if(v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=v(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const o=v(e,["aspectRatio"]);t!==void 0&&o!=null&&y(t,["parameters","aspectRatio"],o);const s=v(e,["guidanceScale"]);if(t!==void 0&&s!=null&&y(t,["parameters","guidanceScale"],s),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=v(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const c=v(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const f=v(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&y(t,["parameters","includeSafetyAttributes"],f);const h=v(e,["includeRaiReason"]);t!==void 0&&h!=null&&y(t,["parameters","includeRaiReason"],h);const p=v(e,["language"]);t!==void 0&&p!=null&&y(t,["parameters","language"],p);const g=v(e,["outputMimeType"]);t!==void 0&&g!=null&&y(t,["parameters","outputOptions","mimeType"],g);const b=v(e,["outputCompressionQuality"]);if(t!==void 0&&b!=null&&y(t,["parameters","outputOptions","compressionQuality"],b),v(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=v(e,["imageSize"]);if(t!==void 0&&S!=null&&y(t,["parameters","sampleImageSize"],S),v(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function rY(e,t,n){const r={},i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const o=v(e,["negativePrompt"]);t!==void 0&&o!=null&&y(t,["parameters","negativePrompt"],o);const s=v(e,["numberOfImages"]);t!==void 0&&s!=null&&y(t,["parameters","sampleCount"],s);const u=v(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const c=v(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const f=v(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const h=v(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const p=v(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const g=v(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&y(t,["parameters","includeSafetyAttributes"],g);const b=v(e,["includeRaiReason"]);t!==void 0&&b!=null&&y(t,["parameters","includeRaiReason"],b);const S=v(e,["language"]);t!==void 0&&S!=null&&y(t,["parameters","language"],S);const E=v(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const T=v(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const C=v(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const R=v(e,["labels"]);t!==void 0&&R!=null&&y(t,["labels"],R);const N=v(e,["imageSize"]);t!==void 0&&N!=null&&y(t,["parameters","sampleImageSize"],N);const I=v(e,["enhancePrompt"]);return t!==void 0&&I!=null&&y(t,["parameters","enhancePrompt"],I),r}function iY(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["prompt"]);o!=null&&y(r,["instances[0]","prompt"],o);const s=v(t,["config"]);return s!=null&&nY(s,r),r}function oY(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["prompt"]);o!=null&&y(r,["instances[0]","prompt"],o);const s=v(t,["config"]);return s!=null&&rY(s,r),r}function aY(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>yY(u))),y(n,["generatedImages"],s)}const o=v(e,["positivePromptSafetyAttributes"]);return o!=null&&y(n,["positivePromptSafetyAttributes"],WL(o)),n}function sY(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>tm(u))),y(n,["generatedImages"],s)}const o=v(e,["positivePromptSafetyAttributes"]);return o!=null&&y(n,["positivePromptSafetyAttributes"],YL(o)),n}function lY(e,t,n){const r={},i=v(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i),v(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=v(e,["durationSeconds"]);if(t!==void 0&&o!=null&&y(t,["parameters","durationSeconds"],o),v(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=v(e,["aspectRatio"]);t!==void 0&&s!=null&&y(t,["parameters","aspectRatio"],s);const u=v(e,["resolution"]);t!==void 0&&u!=null&&y(t,["parameters","resolution"],u);const c=v(e,["personGeneration"]);if(t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c),v(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(e,["negativePrompt"]);t!==void 0&&f!=null&&y(t,["parameters","negativePrompt"],f);const h=v(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&y(t,["parameters","enhancePrompt"],h),v(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(e,["lastFrame"]);t!==void 0&&p!=null&&y(t,["instances[0]","lastFrame"],nm(p));const g=v(e,["referenceImages"]);if(t!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(S=>c7(S))),y(t,["instances[0]","referenceImages"],b)}if(v(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function uY(e,t,n){const r={},i=v(e,["numberOfVideos"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const o=v(e,["outputGcsUri"]);t!==void 0&&o!=null&&y(t,["parameters","storageUri"],o);const s=v(e,["fps"]);t!==void 0&&s!=null&&y(t,["parameters","fps"],s);const u=v(e,["durationSeconds"]);t!==void 0&&u!=null&&y(t,["parameters","durationSeconds"],u);const c=v(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const f=v(e,["aspectRatio"]);t!==void 0&&f!=null&&y(t,["parameters","aspectRatio"],f);const h=v(e,["resolution"]);t!==void 0&&h!=null&&y(t,["parameters","resolution"],h);const p=v(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const g=v(e,["pubsubTopic"]);t!==void 0&&g!=null&&y(t,["parameters","pubsubTopic"],g);const b=v(e,["negativePrompt"]);t!==void 0&&b!=null&&y(t,["parameters","negativePrompt"],b);const S=v(e,["enhancePrompt"]);t!==void 0&&S!=null&&y(t,["parameters","enhancePrompt"],S);const E=v(e,["generateAudio"]);t!==void 0&&E!=null&&y(t,["parameters","generateAudio"],E);const T=v(e,["lastFrame"]);t!==void 0&&T!=null&&y(t,["instances[0]","lastFrame"],Xr(T));const C=v(e,["referenceImages"]);if(t!==void 0&&C!=null){let I=C;Array.isArray(I)&&(I=I.map(O=>f7(O))),y(t,["instances[0]","referenceImages"],I)}const R=v(e,["mask"]);t!==void 0&&R!=null&&y(t,["instances[0]","mask"],u7(R));const N=v(e,["compressionQuality"]);return t!==void 0&&N!=null&&y(t,["parameters","compressionQuality"],N),r}function cY(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["name"],r);const i=v(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=v(e,["done"]);o!=null&&y(n,["done"],o);const s=v(e,["error"]);s!=null&&y(n,["error"],s);const u=v(e,["response","generateVideoResponse"]);return u!=null&&y(n,["response"],pY(u)),n}function fY(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["name"],r);const i=v(e,["metadata"]);i!=null&&y(n,["metadata"],i);const o=v(e,["done"]);o!=null&&y(n,["done"],o);const s=v(e,["error"]);s!=null&&y(n,["error"],s);const u=v(e,["response"]);return u!=null&&y(n,["response"],mY(u)),n}function dY(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["prompt"]);o!=null&&y(r,["instances[0]","prompt"],o);const s=v(t,["image"]);s!=null&&y(r,["instances[0]","image"],nm(s));const u=v(t,["video"]);u!=null&&y(r,["instances[0]","video"],XL(u));const c=v(t,["source"]);c!=null&&gY(c,r);const f=v(t,["config"]);return f!=null&&lY(f,r),r}function hY(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["prompt"]);o!=null&&y(r,["instances[0]","prompt"],o);const s=v(t,["image"]);s!=null&&y(r,["instances[0]","image"],Xr(s));const u=v(t,["video"]);u!=null&&y(r,["instances[0]","video"],ZL(u));const c=v(t,["source"]);c!=null&&vY(c,r);const f=v(t,["config"]);return f!=null&&uY(f,r),r}function pY(e,t){const n={},r=v(e,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>xY(u))),y(n,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&y(n,["raiMediaFilteredReasons"],o),n}function mY(e,t){const n={},r=v(e,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>wY(u))),y(n,["generatedVideos"],s)}const i=v(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const o=v(e,["raiMediaFilteredReasons"]);return o!=null&&y(n,["raiMediaFilteredReasons"],o),n}function gY(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const o=v(e,["image"]);t!==void 0&&o!=null&&y(t,["instances[0]","image"],nm(o));const s=v(e,["video"]);return t!==void 0&&s!=null&&y(t,["instances[0]","video"],XL(s)),r}function vY(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const o=v(e,["image"]);t!==void 0&&o!=null&&y(t,["instances[0]","image"],Xr(o));const s=v(e,["video"]);return t!==void 0&&s!=null&&y(t,["instances[0]","video"],ZL(s)),r}function yY(e,t){const n={},r=v(e,["_self"]);r!=null&&y(n,["image"],NY(r));const i=v(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const o=v(e,["_self"]);return o!=null&&y(n,["safetyAttributes"],WL(o)),n}function tm(e,t){const n={},r=v(e,["_self"]);r!=null&&y(n,["image"],KL(r));const i=v(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const o=v(e,["_self"]);o!=null&&y(n,["safetyAttributes"],YL(o));const s=v(e,["prompt"]);return s!=null&&y(n,["enhancedPrompt"],s),n}function bY(e,t){const n={},r=v(e,["_self"]);r!=null&&y(n,["mask"],KL(r));const i=v(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(n,["labels"],o)}return n}function xY(e,t){const n={},r=v(e,["video"]);return r!=null&&y(n,["video"],s7(r)),n}function wY(e,t){const n={},r=v(e,["_self"]);return r!=null&&y(n,["video"],l7(r)),n}function _Y(e,t){const n={},r=v(e,["modelSelectionConfig"]);r!=null&&y(n,["modelConfig"],r);const i=v(e,["responseJsonSchema"]);i!=null&&y(n,["responseJsonSchema"],i);const o=v(e,["audioTimestamp"]);o!=null&&y(n,["audioTimestamp"],o);const s=v(e,["candidateCount"]);s!=null&&y(n,["candidateCount"],s);const u=v(e,["enableAffectiveDialog"]);u!=null&&y(n,["enableAffectiveDialog"],u);const c=v(e,["frequencyPenalty"]);c!=null&&y(n,["frequencyPenalty"],c);const f=v(e,["logprobs"]);f!=null&&y(n,["logprobs"],f);const h=v(e,["maxOutputTokens"]);h!=null&&y(n,["maxOutputTokens"],h);const p=v(e,["mediaResolution"]);p!=null&&y(n,["mediaResolution"],p);const g=v(e,["presencePenalty"]);g!=null&&y(n,["presencePenalty"],g);const b=v(e,["responseLogprobs"]);b!=null&&y(n,["responseLogprobs"],b);const S=v(e,["responseMimeType"]);S!=null&&y(n,["responseMimeType"],S);const E=v(e,["responseModalities"]);E!=null&&y(n,["responseModalities"],E);const T=v(e,["responseSchema"]);T!=null&&y(n,["responseSchema"],T);const C=v(e,["routingConfig"]);C!=null&&y(n,["routingConfig"],C);const R=v(e,["seed"]);R!=null&&y(n,["seed"],R);const N=v(e,["speechConfig"]);N!=null&&y(n,["speechConfig"],N);const I=v(e,["stopSequences"]);I!=null&&y(n,["stopSequences"],I);const O=v(e,["temperature"]);O!=null&&y(n,["temperature"],O);const M=v(e,["thinkingConfig"]);M!=null&&y(n,["thinkingConfig"],M);const U=v(e,["topK"]);U!=null&&y(n,["topK"],U);const q=v(e,["topP"]);if(q!=null&&y(n,["topP"],q),v(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function SY(e,t,n){const r={},i=v(t,["model"]);return i!=null&&y(r,["_url","name"],Fe(e,i)),r}function EY(e,t,n){const r={},i=v(t,["model"]);return i!=null&&y(r,["_url","name"],Fe(e,i)),r}function TY(e,t){const n={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=v(e,["enableWidget"]);return r!=null&&y(n,["enableWidget"],r),n}function AY(e,t){const n={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=v(e,["timeRangeFilter"]);return r!=null&&y(n,["timeRangeFilter"],r),n}function CY(e,t){const n={},r=v(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const i=v(e,["imageSize"]);if(i!=null&&y(n,["imageSize"],i),v(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(v(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(v(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function PY(e,t){const n={},r=v(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const i=v(e,["imageSize"]);i!=null&&y(n,["imageSize"],i);const o=v(e,["personGeneration"]);o!=null&&y(n,["personGeneration"],o);const s=v(e,["outputMimeType"]);s!=null&&y(n,["imageOutputOptions","mimeType"],s);const u=v(e,["outputCompressionQuality"]);return u!=null&&y(n,["imageOutputOptions","compressionQuality"],u),n}function NY(e,t){const n={},r=v(e,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],ea(r));const i=v(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function KL(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=v(e,["bytesBase64Encoded"]);i!=null&&y(n,["imageBytes"],ea(i));const o=v(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function nm(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=v(e,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],ea(r));const i=v(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Xr(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=v(e,["imageBytes"]);i!=null&&y(n,["bytesBase64Encoded"],ea(i));const o=v(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function RY(e,t,n,r){const i={},o=v(t,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const s=v(t,["pageToken"]);n!==void 0&&s!=null&&y(n,["_query","pageToken"],s);const u=v(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const c=v(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],zL(e,c)),i}function IY(e,t,n,r){const i={},o=v(t,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const s=v(t,["pageToken"]);n!==void 0&&s!=null&&y(n,["_query","pageToken"],s);const u=v(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const c=v(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],zL(e,c)),i}function MY(e,t,n){const r={},i=v(t,["config"]);return i!=null&&RY(e,i,r),r}function OY(e,t,n){const r={},i=v(t,["config"]);return i!=null&&IY(e,i,r),r}function kY(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["_self"]);if(o!=null){let s=BL(o);Array.isArray(s)&&(s=s.map(u=>hx(u))),y(n,["models"],s)}return n}function DY(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["_self"]);if(o!=null){let s=BL(o);Array.isArray(s)&&(s=s.map(u=>px(u))),y(n,["models"],s)}return n}function LY(e,t){const n={},r=v(e,["maskMode"]);r!=null&&y(n,["maskMode"],r);const i=v(e,["segmentationClasses"]);i!=null&&y(n,["maskClasses"],i);const o=v(e,["maskDilation"]);return o!=null&&y(n,["dilation"],o),n}function hx(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["name"],r);const i=v(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=v(e,["description"]);o!=null&&y(n,["description"],o);const s=v(e,["version"]);s!=null&&y(n,["version"],s);const u=v(e,["_self"]);u!=null&&y(n,["tunedModelInfo"],ZY(u));const c=v(e,["inputTokenLimit"]);c!=null&&y(n,["inputTokenLimit"],c);const f=v(e,["outputTokenLimit"]);f!=null&&y(n,["outputTokenLimit"],f);const h=v(e,["supportedGenerationMethods"]);h!=null&&y(n,["supportedActions"],h);const p=v(e,["temperature"]);p!=null&&y(n,["temperature"],p);const g=v(e,["maxTemperature"]);g!=null&&y(n,["maxTemperature"],g);const b=v(e,["topP"]);b!=null&&y(n,["topP"],b);const S=v(e,["topK"]);S!=null&&y(n,["topK"],S);const E=v(e,["thinking"]);return E!=null&&y(n,["thinking"],E),n}function px(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["name"],r);const i=v(e,["displayName"]);i!=null&&y(n,["displayName"],i);const o=v(e,["description"]);o!=null&&y(n,["description"],o);const s=v(e,["versionId"]);s!=null&&y(n,["version"],s);const u=v(e,["deployedModels"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(b=>YW(b))),y(n,["endpoints"],g)}const c=v(e,["labels"]);c!=null&&y(n,["labels"],c);const f=v(e,["_self"]);f!=null&&y(n,["tunedModelInfo"],QY(f));const h=v(e,["defaultCheckpointId"]);h!=null&&y(n,["defaultCheckpointId"],h);const p=v(e,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>b)),y(n,["checkpoints"],g)}return n}function jY(e,t){const n={},r=v(e,["mediaResolution"]);r!=null&&y(n,["mediaResolution"],r);const i=v(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const o=v(e,["executableCode"]);o!=null&&y(n,["executableCode"],o);const s=v(e,["fileData"]);s!=null&&y(n,["fileData"],JW(s));const u=v(e,["functionCall"]);u!=null&&y(n,["functionCall"],XW(u));const c=v(e,["functionResponse"]);c!=null&&y(n,["functionResponse"],c);const f=v(e,["inlineData"]);f!=null&&y(n,["inlineData"],_W(f));const h=v(e,["text"]);h!=null&&y(n,["text"],h);const p=v(e,["thought"]);p!=null&&y(n,["thought"],p);const g=v(e,["thoughtSignature"]);g!=null&&y(n,["thoughtSignature"],g);const b=v(e,["videoMetadata"]);return b!=null&&y(n,["videoMetadata"],b),n}function UY(e,t){const n={},r=v(e,["productImage"]);return r!=null&&y(n,["image"],Xr(r)),n}function $Y(e,t,n){const r={},i=v(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const o=v(e,["baseSteps"]);t!==void 0&&o!=null&&y(t,["parameters","baseSteps"],o);const s=v(e,["outputGcsUri"]);t!==void 0&&s!=null&&y(t,["parameters","storageUri"],s);const u=v(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const c=v(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&y(t,["parameters","safetySetting"],c);const f=v(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const h=v(e,["addWatermark"]);t!==void 0&&h!=null&&y(t,["parameters","addWatermark"],h);const p=v(e,["outputMimeType"]);t!==void 0&&p!=null&&y(t,["parameters","outputOptions","mimeType"],p);const g=v(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&y(t,["parameters","outputOptions","compressionQuality"],g);const b=v(e,["enhancePrompt"]);t!==void 0&&b!=null&&y(t,["parameters","enhancePrompt"],b);const S=v(e,["labels"]);return t!==void 0&&S!=null&&y(t,["labels"],S),r}function zY(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["source"]);o!=null&&VY(o,r);const s=v(t,["config"]);return s!=null&&$Y(s,r),r}function BY(e,t){const n={},r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>tm(o))),y(n,["generatedImages"],i)}return n}function VY(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const o=v(e,["personImage"]);t!==void 0&&o!=null&&y(t,["instances[0]","personImage","image"],Xr(o));const s=v(e,["productImages"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>UY(c))),y(t,["instances[0]","productImages"],u)}return r}function qY(e,t){const n={},r=v(e,["referenceImage"]);r!=null&&y(n,["referenceImage"],Xr(r));const i=v(e,["referenceId"]);i!=null&&y(n,["referenceId"],i);const o=v(e,["referenceType"]);o!=null&&y(n,["referenceType"],o);const s=v(e,["maskImageConfig"]);s!=null&&y(n,["maskImageConfig"],LY(s));const u=v(e,["controlImageConfig"]);u!=null&&y(n,["controlImageConfig"],NW(u));const c=v(e,["styleImageConfig"]);c!=null&&y(n,["styleImageConfig"],c);const f=v(e,["subjectImageConfig"]);return f!=null&&y(n,["subjectImageConfig"],f),n}function WL(e,t){const n={},r=v(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=v(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const o=v(e,["contentType"]);return o!=null&&y(n,["contentType"],o),n}function YL(e,t){const n={},r=v(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=v(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const o=v(e,["contentType"]);return o!=null&&y(n,["contentType"],o),n}function GY(e,t){const n={},r=v(e,["category"]);if(r!=null&&y(n,["category"],r),v(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=v(e,["threshold"]);return i!=null&&y(n,["threshold"],i),n}function HY(e,t){const n={},r=v(e,["image"]);return r!=null&&y(n,["image"],Xr(r)),n}function FY(e,t,n){const r={},i=v(e,["mode"]);t!==void 0&&i!=null&&y(t,["parameters","mode"],i);const o=v(e,["maxPredictions"]);t!==void 0&&o!=null&&y(t,["parameters","maxPredictions"],o);const s=v(e,["confidenceThreshold"]);t!==void 0&&s!=null&&y(t,["parameters","confidenceThreshold"],s);const u=v(e,["maskDilation"]);t!==void 0&&u!=null&&y(t,["parameters","maskDilation"],u);const c=v(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","binaryColorThreshold"],c);const f=v(e,["labels"]);return t!==void 0&&f!=null&&y(t,["labels"],f),r}function KY(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["source"]);o!=null&&YY(o,r);const s=v(t,["config"]);return s!=null&&FY(s,r),r}function WY(e,t){const n={},r=v(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>bY(o))),y(n,["generatedMasks"],i)}return n}function YY(e,t,n){const r={},i=v(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const o=v(e,["image"]);t!==void 0&&o!=null&&y(t,["instances[0]","image"],Xr(o));const s=v(e,["scribbleImage"]);return t!==void 0&&s!=null&&y(t,["instances[0]","scribble"],HY(s)),r}function JY(e,t){const n={},r=v(e,["retrievalConfig"]);r!=null&&y(n,["retrievalConfig"],r);const i=v(e,["functionCallingConfig"]);return i!=null&&y(n,["functionCallingConfig"],ZW(i)),n}function XY(e,t){const n={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(e,["computerUse"]);r!=null&&y(n,["computerUse"],r);const i=v(e,["fileSearch"]);i!=null&&y(n,["fileSearch"],i);const o=v(e,["codeExecution"]);if(o!=null&&y(n,["codeExecution"],o),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=v(e,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>g)),y(n,["functionDeclarations"],p)}const u=v(e,["googleMaps"]);u!=null&&y(n,["googleMaps"],TY(u));const c=v(e,["googleSearch"]);c!=null&&y(n,["googleSearch"],AY(c));const f=v(e,["googleSearchRetrieval"]);f!=null&&y(n,["googleSearchRetrieval"],f);const h=v(e,["urlContext"]);return h!=null&&y(n,["urlContext"],h),n}function JL(e,t){const n={},r=v(e,["retrieval"]);r!=null&&y(n,["retrieval"],r);const i=v(e,["computerUse"]);if(i!=null&&y(n,["computerUse"],i),v(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=v(e,["codeExecution"]);o!=null&&y(n,["codeExecution"],o);const s=v(e,["enterpriseWebSearch"]);s!=null&&y(n,["enterpriseWebSearch"],s);const u=v(e,["functionDeclarations"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(b=>QW(b))),y(n,["functionDeclarations"],g)}const c=v(e,["googleMaps"]);c!=null&&y(n,["googleMaps"],c);const f=v(e,["googleSearch"]);f!=null&&y(n,["googleSearch"],f);const h=v(e,["googleSearchRetrieval"]);h!=null&&y(n,["googleSearchRetrieval"],h);const p=v(e,["urlContext"]);return p!=null&&y(n,["urlContext"],p),n}function ZY(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["createTime"]);i!=null&&y(n,["createTime"],i);const o=v(e,["updateTime"]);return o!=null&&y(n,["updateTime"],o),n}function QY(e,t){const n={},r=v(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["createTime"]);i!=null&&y(n,["createTime"],i);const o=v(e,["updateTime"]);return o!=null&&y(n,["updateTime"],o),n}function e7(e,t,n){const r={},i=v(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const o=v(e,["description"]);t!==void 0&&o!=null&&y(t,["description"],o);const s=v(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&y(t,["defaultCheckpointId"],s),r}function t7(e,t,n){const r={},i=v(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const o=v(e,["description"]);t!==void 0&&o!=null&&y(t,["description"],o);const s=v(e,["defaultCheckpointId"]);return t!==void 0&&s!=null&&y(t,["defaultCheckpointId"],s),r}function n7(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","name"],Fe(e,i));const o=v(t,["config"]);return o!=null&&e7(o,r),r}function r7(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["config"]);return o!=null&&t7(o,r),r}function i7(e,t,n){const r={},i=v(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const o=v(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&y(t,["parameters","safetySetting"],o);const s=v(e,["personGeneration"]);t!==void 0&&s!=null&&y(t,["parameters","personGeneration"],s);const u=v(e,["includeRaiReason"]);t!==void 0&&u!=null&&y(t,["parameters","includeRaiReason"],u);const c=v(e,["outputMimeType"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","mimeType"],c);const f=v(e,["outputCompressionQuality"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","compressionQuality"],f);const h=v(e,["enhanceInputImage"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],h);const p=v(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=v(e,["labels"]);t!==void 0&&g!=null&&y(t,["labels"],g);const b=v(e,["numberOfImages"]);t!==void 0&&b!=null&&y(t,["parameters","sampleCount"],b);const S=v(e,["mode"]);return t!==void 0&&S!=null&&y(t,["parameters","mode"],S),r}function o7(e,t,n){const r={},i=v(t,["model"]);i!=null&&y(r,["_url","model"],Fe(e,i));const o=v(t,["image"]);o!=null&&y(r,["instances[0]","image"],Xr(o));const s=v(t,["upscaleFactor"]);s!=null&&y(r,["parameters","upscaleConfig","upscaleFactor"],s);const u=v(t,["config"]);return u!=null&&i7(u,r),r}function a7(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>tm(s))),y(n,["generatedImages"],o)}return n}function s7(e,t){const n={},r=v(e,["uri"]);r!=null&&y(n,["uri"],r);const i=v(e,["encodedVideo"]);i!=null&&y(n,["videoBytes"],ea(i));const o=v(e,["encoding"]);return o!=null&&y(n,["mimeType"],o),n}function l7(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const i=v(e,["bytesBase64Encoded"]);i!=null&&y(n,["videoBytes"],ea(i));const o=v(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}function u7(e,t){const n={},r=v(e,["image"]);r!=null&&y(n,["_self"],Xr(r));const i=v(e,["maskMode"]);return i!=null&&y(n,["maskMode"],i),n}function c7(e,t){const n={},r=v(e,["image"]);r!=null&&y(n,["image"],nm(r));const i=v(e,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function f7(e,t){const n={},r=v(e,["image"]);r!=null&&y(n,["image"],Xr(r));const i=v(e,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function XL(e,t){const n={},r=v(e,["uri"]);r!=null&&y(n,["uri"],r);const i=v(e,["videoBytes"]);i!=null&&y(n,["encodedVideo"],ea(i));const o=v(e,["mimeType"]);return o!=null&&y(n,["encoding"],o),n}function ZL(e,t){const n={},r=v(e,["uri"]);r!=null&&y(n,["gcsUri"],r);const i=v(e,["videoBytes"]);i!=null&&y(n,["bytesBase64Encoded"],ea(i));const o=v(e,["mimeType"]);return o!=null&&y(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d7(e,t){const n={},r=v(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function h7(e){const t={},n=v(e,["config"]);return n!=null&&d7(n,t),t}function p7(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function m7(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&p7(r,t),t}function g7(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function v7(e,t){const n={},r=v(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["customMetadata"],o)}const i=v(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function y7(e){const t={},n=v(e,["name"]);n!=null&&y(t,["name"],n);const r=v(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=v(e,["done"]);i!=null&&y(t,["done"],i);const o=v(e,["error"]);o!=null&&y(t,["error"],o);const s=v(e,["response"]);return s!=null&&y(t,["response"],x7(s)),t}function b7(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=v(e,["config"]);return i!=null&&v7(i,t),t}function x7(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["parent"]);r!=null&&y(t,["parent"],r);const i=v(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function w7(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function _7(e){const t={},n=v(e,["config"]);return n!=null&&w7(n,t),t}function S7(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["fileSearchStores"],o)}return t}function QL(e,t){const n={},r=v(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=v(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const o=v(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),y(t,["customMetadata"],u)}const s=v(e,["chunkingConfig"]);return t!==void 0&&s!=null&&y(t,["chunkingConfig"],s),n}function E7(e){const t={},n=v(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=v(e,["config"]);return r!=null&&QL(r,t),t}function T7(e){const t={},n=v(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A7="Content-Type",C7="X-Server-Timeout",P7="User-Agent",mx="x-goog-api-client",N7="1.42.0",R7=`google-genai-sdk/${N7}`,I7="v1beta1",M7="v1beta",O7=5,k7=[408,429,500,502,503,504];class D7{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:I7}else{if(!this.clientOptions.apiKey)throw new _c({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:M7,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===ux.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[s,u]of Object.entries(t.queryParams))i.searchParams.append(s,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=s}return n&&n.extraBody!==null&&L7(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await cR(i),new cx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await cR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Gr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Oe(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,C=E.code,R=`got status: ${T}. ${JSON.stringify(S)}`;if(C>=400&&C<600)throw new _c({message:R,status:C})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let g=-1,b=0;for(;;){g=-1,b=0;for(const T of c){const C=s.indexOf(T);C!==-1&&(g===-1||C<g)&&(g=C,b=T.length)}if(g===-1)break;const S=s.substring(0,g);s=s.substring(g+b);const E=S.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Oe(new cx(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,n);const i=this.clientOptions.httpOptions.retryOptions;return E8(async()=>{const s=await fetch(t,n);if(s.ok)return s;throw k7.includes(s.status)?new Error(`Retryable HTTP Error: ${s.statusText}`):new IL.AbortError(`Non-retryable exception ${s.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:O7)-1})}getDefaultHeaders(){const t={},n=R7+" "+this.clientOptions.userAgentExtra;return t[P7]=n,t[mx]=n,t[A7]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(C7,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(t);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},f=this.getFileName(t),h=me("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(t,p,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&QL(r,p);const g=await this.fetchUploadUrl(f,u,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function cR(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new _c({message:i,status:n}):new Error(i)}}function L7(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j7="mcp_used/unknown";let U7=!1;function ej(e){for(const t of e)if($7(t)||typeof t=="object"&&"inputSchema"in t)return!0;return U7}function tj(e){var t;const n=(t=e[mx])!==null&&t!==void 0?t:"";e[mx]=(n+` ${j7}`).trimStart()}function $7(e){return e!==null&&typeof e=="object"&&e instanceof v_}function z7(e){return Gr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Oe(n.listTools({cursor:i}));for(const u of s.tools)yield yield Oe(u),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class v_{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new v_(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Hr(z7(h))),f;f=await c.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const p=i;s.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),dK(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function B7(e,t,n){const r=new iK;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class V7{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=H7(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(N=>{f=N}),p=t.callbacks,g=function(){f({})},b=this.apiClient,S={onopen:g,onmessage:N=>{B7(b,p.onmessage,N)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(N){}},E=this.webSocketFactory.create(c,G7(s),S);E.connect(),await h;const R={setup:{model:Fe(this.apiClient,t.model)}};return E.send(JSON.stringify(R)),new q7(E,this.apiClient)}}class q7{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=dW(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=fW(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(fl.PLAY)}pause(){this.sendPlaybackControl(fl.PAUSE)}stop(){this.sendPlaybackControl(fl.STOP)}resetContext(){this.sendPlaybackControl(fl.RESET_CONTEXT)}close(){this.conn.close()}}function G7(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function H7(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F7="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function K7(e,t,n){const r=new rK;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const s=mW(o);Object.assign(r,s)}else Object.assign(r,o);t(r)}class W7{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new V7(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,s,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&ej(t.config.tools)&&tj(p);const g=Z7(p);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),ne=this.apiClient.getLocation(),ie=this.apiClient.getApiKey(),Y=!!V&&!!ne||!!ie;this.apiClient.getCustomBaseUrl()&&!Y?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const V=this.apiClient.getApiKey();let ne="BidiGenerateContent",ie="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ne="BidiGenerateContentConstrained",ie="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ne}?${ie}=${V}`}let b=()=>{};const S=new Promise(V=>{b=V}),E=t.callbacks,T=function(){var V;(V=E==null?void 0:E.onopen)===null||V===void 0||V.call(E),b({})},C=this.apiClient,R={onopen:T,onmessage:V=>{K7(C,E.onmessage,V)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(V){}},N=this.webSocketFactory.create(h,X7(g),R);N.connect(),await S;let I=Fe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const V=this.apiClient.getProject(),ne=this.apiClient.getLocation();V&&ne&&(I=`projects/${V}/locations/${ne}/`+I)}let O={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Gh.AUDIO]}:t.config.responseModalities=[Gh.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],U=[];for(const V of M)if(this.isCallableTool(V)){const ne=V;U.push(await ne.tool())}else U.push(V);U.length>0&&(t.config.tools=U);const q={model:I,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?O=cW(this.apiClient,q):O=uW(this.apiClient,q),delete O.config,N.send(JSON.stringify(O)),new J7(N,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Y7={turnComplete:!0};class J7{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=or(n.turns),t.isVertexAI()||(r=r.map(i=>Jc(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(F7)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},Y7),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pW(t)}:n={realtimeInput:hW(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function X7(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Z7(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fR=10;function dR(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const s of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(bl(s)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function bl(e){return"callTool"in e&&typeof e.callTool=="function"}function Q7(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>bl(i)))!==null&&r!==void 0?r:!1}function hR(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(bl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function pR(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eJ extends ro{constructor(t){super(),this.apiClient=t,this.embedContent=async n=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(n);if(n.model.includes("gemini")&&n.model!=="gemini-embedding-001"||n.model.includes("maas")){const i=or(n.contents);if(i.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const o=Object.assign(Object.assign({},n),{content:i[0],embeddingApiType:Hh.EMBED_CONTENT});return await this.embedContentInternal(o)}else{const i=Object.assign(Object.assign({},n),{embeddingApiType:Hh.PREDICT});return await this.embedContentInternal(i)}},this.generateContent=async n=>{var r,i,o,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Q7(n)||dR(n.config))return await this.generateContentInternal(c);const f=hR(n);if(f.length>0){const E=f.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,p;const g=or(c.contents),b=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:fR;let S=0;for(;S<b&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const C of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(bl(C)){const N=await C.callTool(h.functionCalls);T.push(...N)}S++,p={role:"user",parts:T},c.contents=or(c.contents),c.contents.push(E),c.contents.push(p),pR(c.config)&&(g.push(E),g.push(p))}return pR(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,s,u;if(this.maybeMoveToResponseJsonSchem(n),dR(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=hR(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ts(Yi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const s=await Promise.all(o.map(async c=>bl(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:s})};if(u.config.tools=s,t.config&&t.config.tools&&ej(t.config.tools)){const c=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),tj(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const s of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bl(s)){const u=s,c=await u.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:fR;let s=!1,u=0;const c=await this.initAfcToolsMap(t);return(function(f,h,p){return Gr(this,arguments,function*(){for(var g,b,S,E,T,C;u<o;){s&&(u++,s=!1);const O=yield Oe(f.processParamsMaybeAddMcpUsage(p)),M=yield Oe(f.generateContentStreamInternal(O)),U=[],q=[];try{for(var R=!0,N=(b=void 0,Hr(M)),I;I=yield Oe(N.next()),g=I.done,!g;R=!0){E=I.value,R=!1;const V=E;if(yield yield Oe(V),V.candidates&&(!((T=V.candidates[0])===null||T===void 0)&&T.content)){q.push(V.candidates[0].content);for(const ne of(C=V.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<o&&ne.functionCall){if(!ne.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(ne.functionCall.name)){const ie=yield Oe(h.get(ne.functionCall.name).callTool([ne.functionCall]));U.push(...ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${ne.functionCall.name}`)}}}}catch(V){b={error:V}}finally{try{!R&&!g&&(S=N.return)&&(yield Oe(S.call(N)))}finally{if(b)throw b.error}}if(U.length>0){s=!0;const V=new Hu;V.candidates=[{content:{role:"user",parts:U}}],yield yield Oe(V);const ne=[];ne.push(...q),ne.push({role:"user",parts:U});const ie=or(p.contents).concat(ne);p.contents=ie}else break}})})(this,c,t)}async generateContentInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=sR(this.apiClient,t);return u=me("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=uR(h),g=new Hu;return Object.assign(g,p),g})}else{const f=aR(this.apiClient,t);return u=me("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=lR(h),g=new Hu;return Object.assign(g,p),g})}}async generateContentStreamInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=sR(this.apiClient,t);return u=me("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Gr(this,arguments,function*(){var g,b,S,E;try{for(var T=!0,C=Hr(p),R;R=yield Oe(C.next()),g=R.done,!g;T=!0){E=R.value,T=!1;const N=E,I=uR(yield Oe(N.json()),t);I.sdkHttpResponse={headers:N.headers};const O=new Hu;Object.assign(O,I),yield yield Oe(O)}}catch(N){b={error:N}}finally{try{!T&&!g&&(S=C.return)&&(yield Oe(S.call(C)))}finally{if(b)throw b.error}}})})}else{const f=aR(this.apiClient,t);return u=me("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Gr(this,arguments,function*(){var g,b,S,E;try{for(var T=!0,C=Hr(p),R;R=yield Oe(C.next()),g=R.done,!g;T=!0){E=R.value,T=!1;const N=E,I=lR(yield Oe(N.json()),t);I.sdkHttpResponse={headers:N.headers};const O=new Hu;Object.assign(O,I),yield yield Oe(O)}}catch(N){b={error:N}}finally{try{!T&&!g&&(S=C.return)&&(yield Oe(S.call(C)))}finally{if(b)throw b.error}}})})}}async embedContentInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=FW(this.apiClient,t,t),h=pK(t.model)?"{model}:embedContent":"{model}:predict";return u=me(h,f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const b=g;return b.sdkHttpResponse={headers:p.headers},b})),s.then(p=>{const g=WW(p,t),b=new qN;return Object.assign(b,g),b})}else{const f=HW(this.apiClient,t);return u=me("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=KW(h),g=new qN;return Object.assign(g,p),g})}}async generateImagesInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=oY(this.apiClient,t);return u=me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=sY(h),g=new GN;return Object.assign(g,p),g})}else{const f=iY(this.apiClient,t);return u=me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=aY(h),g=new GN;return Object.assign(g,p),g})}}async editImageInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=BW(this.apiClient,t);return o=me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=VW(c),h=new H8;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=o7(this.apiClient,t);return o=me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=a7(c),h=new F8;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=zY(this.apiClient,t);return o=me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=BY(c),h=new K8;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=KY(this.apiClient,t);return o=me("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=WY(c),h=new W8;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=EY(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>px(h))}else{const f=SY(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hx(h))}}async listInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=OY(this.apiClient,t);return u=me("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=DY(h),g=new HN;return Object.assign(g,p),g})}else{const f=MY(this.apiClient,t);return u=me("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kY(h),g=new HN;return Object.assign(g,p),g})}}async update(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=r7(this.apiClient,t);return u=me("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>px(h))}else{const f=n7(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>hx(h))}}async delete(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=jW(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=$W(h),g=new FN;return Object.assign(g,p),g})}else{const f=LW(this.apiClient,t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=UW(h),g=new FN;return Object.assign(g,p),g})}}async countTokens(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=OW(this.apiClient,t);return u=me("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=DW(h),g=new KN;return Object.assign(g,p),g})}else{const f=MW(this.apiClient,t);return u=me("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=kW(h),g=new KN;return Object.assign(g,p),g})}}async computeTokens(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=TW(this.apiClient,t);return o=me("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=AW(c),h=new Y8;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=hY(this.apiClient,t);return u=me("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=fY(h),g=new Fh;return Object.assign(g,p),g})}else{const f=dY(this.apiClient,t);return u=me("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const p=cY(h),g=new Fh;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tJ extends ro{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=$8(t);return u=me("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=U8(t);return u=me("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=I8(t);return o=me("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nJ(e){const t={},n=v(e,["data"]);if(n!=null&&y(t,["data"],n),v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function rJ(e){const t={},n=v(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dJ(o))),y(t,["parts"],i)}const r=v(e,["role"]);return r!=null&&y(t,["role"],r),t}function iJ(e,t,n){const r={},i=v(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=v(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const s=v(t,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const u=v(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],fJ(e,u));const c=v(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function oJ(e,t){const n={},r=v(t,["config"]);return r!=null&&y(n,["config"],iJ(e,r,n)),n}function aJ(e){const t={};if(v(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=v(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function sJ(e){const t={},n=v(e,["id"]);n!=null&&y(t,["id"],n);const r=v(e,["args"]);r!=null&&y(t,["args"],r);const i=v(e,["name"]);if(i!=null&&y(t,["name"],i),v(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(v(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lJ(e){const t={};if(v(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=v(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function uJ(e){const t={};if(v(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(v(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=v(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function cJ(e,t){const n={},r=v(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=v(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const o=v(e,["temperature"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","temperature"],o);const s=v(e,["topP"]);t!==void 0&&s!=null&&y(t,["setup","generationConfig","topP"],s);const u=v(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const c=v(e,["maxOutputTokens"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","maxOutputTokens"],c);const f=v(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const h=v(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const p=v(e,["speechConfig"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","speechConfig"],g_(p));const g=v(e,["thinkingConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","thinkingConfig"],g);const b=v(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],b);const S=v(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],rJ(Qt(S)));const E=v(e,["tools"]);if(t!==void 0&&E!=null){let M=Dl(E);Array.isArray(M)&&(M=M.map(U=>pJ(kl(U)))),y(t,["setup","tools"],M)}const T=v(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],hJ(T));const C=v(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const R=v(e,["outputAudioTranscription"]);t!==void 0&&R!=null&&y(t,["setup","outputAudioTranscription"],R);const N=v(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&y(t,["setup","realtimeInputConfig"],N);const I=v(e,["contextWindowCompression"]);t!==void 0&&I!=null&&y(t,["setup","contextWindowCompression"],I);const O=v(e,["proactivity"]);if(t!==void 0&&O!=null&&y(t,["setup","proactivity"],O),v(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function fJ(e,t){const n={},r=v(t,["model"]);r!=null&&y(n,["setup","model"],Fe(e,r));const i=v(t,["config"]);return i!=null&&y(n,["config"],cJ(i,n)),n}function dJ(e){const t={},n=v(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=v(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=v(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const o=v(e,["fileData"]);o!=null&&y(t,["fileData"],aJ(o));const s=v(e,["functionCall"]);s!=null&&y(t,["functionCall"],sJ(s));const u=v(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const c=v(e,["inlineData"]);c!=null&&y(t,["inlineData"],nJ(c));const f=v(e,["text"]);f!=null&&y(t,["text"],f);const h=v(e,["thought"]);h!=null&&y(t,["thought"],h);const p=v(e,["thoughtSignature"]);p!=null&&y(t,["thoughtSignature"],p);const g=v(e,["videoMetadata"]);return g!=null&&y(t,["videoMetadata"],g),t}function hJ(e){const t={},n=v(e,["handle"]);if(n!=null&&y(t,["handle"],n),v(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function pJ(e){const t={};if(v(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=v(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=v(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=v(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),v(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=v(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),y(t,["functionDeclarations"],h)}const s=v(e,["googleMaps"]);s!=null&&y(t,["googleMaps"],lJ(s));const u=v(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],uJ(u));const c=v(e,["googleSearchRetrieval"]);c!=null&&y(t,["googleSearchRetrieval"],c);const f=v(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mJ(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function gJ(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=mJ(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class vJ extends ro{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=oJ(this.apiClient,t);o=me("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=gJ(u,t.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yJ(e,t){const n={},r=v(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function bJ(e){const t={},n=v(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=v(e,["config"]);return r!=null&&yJ(r,t),t}function xJ(e){const t={},n=v(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function wJ(e,t){const n={},r=v(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=v(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function _J(e){const t={},n=v(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=v(e,["config"]);return r!=null&&wJ(r,t),t}function SJ(e){const t={},n=v(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=v(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=v(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EJ extends ro{constructor(t){super(),this.apiClient=t,this.list=async n=>new ts(Yi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xJ(t);return o=me("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bJ(t);i=me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_J(t);return o=me("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=SJ(c),h=new J8;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TJ extends ro{constructor(t,n=new EJ(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new ts(Yi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=h7(t);return o=me("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g7(t);return o=me("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=m7(t);i=me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_7(t);return o=me("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=S7(c),h=new X8;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E7(t);return o=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=T7(c),h=new Z8;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=b7(t);return o=me("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=y7(c),h=new f_;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nj=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return nj=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const AJ=()=>nj();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gx(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const vx=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cr extends Error{}class Mn extends Cr{constructor(t,n,r,i){super(`${Mn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new rm({message:r,cause:vx(n)});const o=n;return t===400?new ij(t,o,r,i):t===401?new oj(t,o,r,i):t===403?new aj(t,o,r,i):t===404?new sj(t,o,r,i):t===409?new lj(t,o,r,i):t===422?new uj(t,o,r,i):t===429?new cj(t,o,r,i):t>=500?new fj(t,o,r,i):new Mn(t,o,r,i)}}class yx extends Mn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class rm extends Mn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class rj extends rm{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ij extends Mn{}class oj extends Mn{}class aj extends Mn{}class sj extends Mn{}class lj extends Mn{}class uj extends Mn{}class cj extends Mn{}class fj extends Mn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CJ=/^[a-z][a-z0-9+.-]*:/i,PJ=e=>CJ.test(e);let bx=e=>(bx=Array.isArray,bx(e));const NJ=bx;let RJ=NJ;const mR=RJ;function IJ(e){if(!e)return!0;for(const t in e)return!1;return!0}function MJ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const OJ=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Cr(`${e} must be an integer`);if(t<0)throw new Cr(`${e} must be a positive integer`);return t},kJ=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DJ=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LJ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jJ=()=>{var e,t,n,r,i;const o=LJ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tl,"X-Stainless-OS":vR(Deno.build.os),"X-Stainless-Arch":gR(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tl,"X-Stainless-OS":vR((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":gR((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=UJ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function UJ(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:t,version:`${i}.${o}.${s}`}}}return null}const gR=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",vR=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let qd;const $J=()=>qd??(qd=jJ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zJ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function dj(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function BJ(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return dj({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function hj(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function VJ(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qJ=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pj=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Vy(e,t,n){return pj(),new File(e,t??"unknown_file",n)}function GJ(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const HJ=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mj=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",FJ=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&mj(e),KJ=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function WJ(e,t,n){if(pj(),e=await e,FJ(e))return e instanceof File?e:Vy([await e.arrayBuffer()],e.name);if(KJ(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Vy(await xx(i),t,n)}const r=await xx(e);if(t||(t=GJ(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Vy(r,t,n)}async function xx(e){var t,n,r,i,o;let s=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)s.push(e);else if(mj(e))s.push(e instanceof Blob?e:await e.arrayBuffer());else if(HJ(e))try{for(var u=!0,c=Hr(e),f;f=await c.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;s.push(...await xx(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${YJ(e)}`)}return s}function YJ(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gj{constructor(t){this._client=t}}gj._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vj(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const yR=Object.freeze(Object.create(null)),JJ=(e=vj)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((h,p,g)=>{var b,S,E;/[?#]/.test(p)&&(i=!0);const T=r[g];let C=(i?encodeURIComponent:e)(""+T);return g!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((b=T.hasOwnProperty)!==null&&b!==void 0?b:yR))!==null&&S!==void 0?S:yR))===null||E===void 0?void 0:E.toString))&&(C=T+"",o.push({start:h.length+p.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":C)},""),u=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,b)=>{const S=" ".repeat(b.start-h),E="^".repeat(b.length);return h=b.start+b.length,g+S+E},"");throw new Cr(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),Gd=JJ(vj);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yj extends gj{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Wh(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new Cr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Cr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Gd`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Gd`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Gd`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,u=Wh(o,["api_version"]);return this._client.get(Gd`/${s}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}yj._key=Object.freeze(["interactions"]);class bj extends yj{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XJ(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Hd;function y_(e){let t;return(Hd??(t=new globalThis.TextEncoder,Hd=t.encode.bind(t)))(e)}let Fd;function bR(e){let t;return(Fd??(t=new globalThis.TextDecoder,Fd=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class im{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?y_(t):t;this.buffer=XJ([this.buffer,n]);const r=[];let i;for(;(i=ZJ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(bR(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=bR(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}im.NEWLINE_CHARS=new Set([`
`,"\r"]);im.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZJ(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function QJ(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yh={off:0,error:200,warn:300,info:400,debug:500},xR=(e,t,n)=>{if(e){if(MJ(Yh,e))return e;Cn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Yh))}`)}};function ic(){}function Kd(e,t,n){return!t||Yh[e]>Yh[n]?ic:t[e].bind(t)}const eX={error:ic,warn:ic,info:ic,debug:ic};let wR=new WeakMap;function Cn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return eX;const i=wR.get(n);if(i&&i[0]===r)return i[1];const o={error:Kd("error",n,r),warn:Kd("warn",n,r),info:Kd("info",n,r),debug:Kd("debug",n,r)};return wR.set(n,[r,o]),o}const Pa=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dl{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Cn(r):console;function s(){return Gr(this,arguments,function*(){var c,f,h,p;if(i)throw new Cr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,S=Hr(tX(t,n)),E;E=yield Oe(S.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const T=p;if(!g)if(T.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Oe(JSON.parse(T.data))}catch(C){throw o.error("Could not parse message into JSON:",T.data),o.error("From chunk:",T.raw),C}}}catch(T){f={error:T}}finally{try{!b&&!c&&(h=S.return)&&(yield Oe(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(T){if(gx(T))return yield Oe(void 0);throw T}finally{g||n.abort()}})}return new dl(s,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Gr(this,arguments,function*(){var c,f,h,p;const g=new im,b=hj(t);try{for(var S=!0,E=Hr(b),T;T=yield Oe(E.next()),c=T.done,!c;S=!0){p=T.value,S=!1;const C=p;for(const R of g.decode(C))yield yield Oe(R)}}catch(C){f={error:C}}finally{try{!S&&!c&&(h=E.return)&&(yield Oe(h.call(E)))}finally{if(f)throw f.error}}for(const C of g.flush())yield yield Oe(C)})}function s(){return Gr(this,arguments,function*(){var c,f,h,p;if(i)throw new Cr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var b=!0,S=Hr(o()),E;E=yield Oe(S.next()),c=E.done,!c;b=!0){p=E.value,b=!1;const T=p;g||T&&(yield yield Oe(JSON.parse(T)))}}catch(T){f={error:T}}finally{try{!b&&!c&&(h=S.return)&&(yield Oe(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(T){if(gx(T))return yield Oe(void 0);throw T}finally{g||n.abort()}})}return new dl(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();t.push(s),n.push(s)}return o.shift()}});return[new dl(()=>i(t),this.controller,this.client),new dl(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return dj({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=y_(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function tX(e,t){return Gr(this,arguments,function*(){var r,i,o,s;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Cr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Cr("Attempted to iterate over a response with no body");const u=new rX,c=new im,f=hj(e.body);try{for(var h=!0,p=Hr(nX(f)),g;g=yield Oe(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const b=s;for(const S of c.decode(b)){const E=u.decode(S);E&&(yield yield Oe(E))}}}catch(b){i={error:b}}finally{try{!h&&!r&&(o=p.return)&&(yield Oe(o.call(p)))}finally{if(i)throw i.error}}for(const b of c.flush()){const S=u.decode(b);S&&(yield yield Oe(S))}})}function nX(e){return Gr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var u=!0,c=Hr(e),f;f=yield Oe(c.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?y_(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let b;for(;(b=QJ(s))!==-1;)yield yield Oe(s.slice(0,b)),s=s.slice(b)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=c.return)&&(yield Oe(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Oe(s))})}class rX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=iX(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function iX(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oX(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,s=await(async()=>{var u;if(t.options.stream)return Cn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):dl.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Cn(e).debug(`[${r}] response parsed`,Pa({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_ extends Promise{constructor(t,n,r=oX){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new b_(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xj=Symbol("brand.privateNullableHeaders");function*aX(e){if(!e)return;if(xj in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():mR(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=mR(r[1])?r[1]:[r[1]];let s=!1;for(const u of o)u!==void 0&&(t&&!s&&(s=!0,yield[i,null]),yield[i,u])}}const Fu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,s]of aX(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),s===null?(t.delete(o),n.add(u)):(t.append(o,s),n.delete(u))}}return{[xj]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qy=e=>{var t,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(t=T8)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wj;class om{constructor(t){var n,r,i,o,s,u,c,{baseURL:f=qy("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=qy("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=t,g=Wh(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:om.DEFAULT_TIMEOUT,this.logger=(i=b.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(o=xR(b.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:xR(qy("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=b.fetchOptions,this.maxRetries=(u=b.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=b.fetch)!==null&&c!==void 0?c:zJ(),this.encoder=qJ,this._options=b,this.apiKey=h,this.apiVersion=p,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Fu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Fu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Cr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${tl}`}defaultIdempotencyKey(){return`stainless-node-retry-${AJ()}`}makeStatusError(t,n,r,i){return Mn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=PJ(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),s=this.defaultQuery();return IJ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new b_(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,s;const u=await t,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:h,timeout:p}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:u});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Cn(this).debug(`[${g}] sending request`,Pa({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new yx;const E=new AbortController,T=await this.fetchWithTimeout(h,f,p,E).catch(vx),C=Date.now();if(T instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((s=u.signal)===null||s===void 0)&&s.aborted)throw new yx;const I=gx(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Cn(this).info(`[${g}] connection ${I?"timed out":"failed"} - ${N}`),Cn(this).debug(`[${g}] connection ${I?"timed out":"failed"} (${N})`,Pa({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),this.retryRequest(u,n,r??g);throw Cn(this).info(`[${g}] connection ${I?"timed out":"failed"} - error; no more retries left`),Cn(this).debug(`[${g}] connection ${I?"timed out":"failed"} (error; no more retries left)`,Pa({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),I?new rj:new rm({cause:T})}const R=`[${g}${b}] ${f.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-S}ms`;if(!T.ok){const N=await this.shouldRetry(T);if(n&&N){const V=`retrying, ${n} attempts remaining`;return await VJ(T.body),Cn(this).info(`${R} - ${V}`),Cn(this).debug(`[${g}] response error (${V})`,Pa({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),this.retryRequest(u,n,r??g,T.headers)}const I=N?"error; no more retries left":"error; not retryable";Cn(this).info(`${R} - ${I}`);const O=await T.text().catch(V=>vx(V).message),M=kJ(O),U=M?void 0:O;throw Cn(this).debug(`[${g}] response error (${I})`,Pa({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:U,durationMs:Date.now()-S})),this.makeStatusError(T.status,M,U,T.headers)}return Cn(this).info(R),Cn(this).debug(`[${g}] response start`,Pa({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),{response:T,options:u,controller:E,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:s,method:u}=o,c=Wh(o,["signal","method"]),f=this._makeAbort(i);s&&s.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let s;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await DJ(s),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,s=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return s*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},t),{method:u,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&OJ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:b}=this.buildBody({options:s}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:s.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const s=await this.authHeaders(t);let u=Fu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),$J()),this._options.defaultHeaders,r,t.headers,s]);return this.validateHeaders(u),u.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Fu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BJ(t)}:typeof t=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:r})}}om.DEFAULT_TIMEOUT=6e4;class en extends om{constructor(){super(...arguments),this.interactions=new bj(this)}}wj=en;en.GeminiNextGenAPIClient=wj;en.GeminiNextGenAPIClientError=Cr;en.APIError=Mn;en.APIConnectionError=rm;en.APIConnectionTimeoutError=rj;en.APIUserAbortError=yx;en.NotFoundError=sj;en.ConflictError=lj;en.RateLimitError=cj;en.BadRequestError=ij;en.AuthenticationError=oj;en.InternalServerError=fj;en.PermissionDeniedError=aj;en.UnprocessableEntityError=uj;en.toFile=WJ;en.Interactions=bj;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sX(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function lX(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function uX(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function cX(e,t){const n={},r=v(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function fX(e,t,n){const r={};if(v(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=v(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),v(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=v(e,["epochCount"]);t!==void 0&&o!=null&&y(t,["tuningTask","hyperparameters","epochCount"],o);const s=v(e,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),v(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(v(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(v(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=v(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const c=v(e,["learningRate"]);if(t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","learningRate"],c),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(v(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(v(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(v(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(v(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(v(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(v(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function dX(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const M=v(e,["validationDataset"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec"],Gy(M))}else if(i==="PREFERENCE_TUNING"){const M=v(e,["validationDataset"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec"],Gy(M))}else if(i==="DISTILLATION"){const M=v(e,["validationDataset"]);t!==void 0&&M!=null&&y(t,["distillationSpec"],Gy(M))}const o=v(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&y(t,["tunedModelDisplayName"],o);const s=v(e,["description"]);t!==void 0&&s!=null&&y(t,["description"],s);let u=v(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const M=v(e,["epochCount"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],M)}else if(u==="PREFERENCE_TUNING"){const M=v(e,["epochCount"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],M)}else if(u==="DISTILLATION"){const M=v(e,["epochCount"]);t!==void 0&&M!=null&&y(t,["distillationSpec","hyperParameters","epochCount"],M)}let c=v(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const M=v(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M)}else if(c==="PREFERENCE_TUNING"){const M=v(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],M)}else if(c==="DISTILLATION"){const M=v(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&y(t,["distillationSpec","hyperParameters","learningRateMultiplier"],M)}let f=v(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const M=v(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],M)}else if(f==="PREFERENCE_TUNING"){const M=v(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],M)}else if(f==="DISTILLATION"){const M=v(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&y(t,["distillationSpec","exportLastCheckpointOnly"],M)}let h=v(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const M=v(e,["adapterSize"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],M)}else if(h==="PREFERENCE_TUNING"){const M=v(e,["adapterSize"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],M)}else if(h==="DISTILLATION"){const M=v(e,["adapterSize"]);t!==void 0&&M!=null&&y(t,["distillationSpec","hyperParameters","adapterSize"],M)}let p=v(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const M=v(e,["tuningMode"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","tuningMode"],M)}const g=v(e,["customBaseModel"]);t!==void 0&&g!=null&&y(t,["customBaseModel"],g);let b=v(n,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const M=v(e,["batchSize"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","batchSize"],M)}let S=v(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const M=v(e,["learningRate"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRate"],M)}const E=v(e,["labels"]);t!==void 0&&E!=null&&y(t,["labels"],E);const T=v(e,["beta"]);t!==void 0&&T!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],T);const C=v(e,["baseTeacherModel"]);t!==void 0&&C!=null&&y(t,["distillationSpec","baseTeacherModel"],C);const R=v(e,["tunedTeacherModelSource"]);t!==void 0&&R!=null&&y(t,["distillationSpec","tunedTeacherModelSource"],R);const N=v(e,["sftLossWeightMultiplier"]);t!==void 0&&N!=null&&y(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],N);const I=v(e,["outputUri"]);t!==void 0&&I!=null&&y(t,["outputUri"],I);const O=v(e,["encryptionSpec"]);return t!==void 0&&O!=null&&y(t,["encryptionSpec"],O),r}function hX(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&EX(o);const s=v(e,["config"]);return s!=null&&fX(s,n),n}function pX(e,t){const n={},r=v(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=v(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=v(e,["trainingDataset"]);o!=null&&TX(o,n,t);const s=v(e,["config"]);return s!=null&&dX(s,n,t),n}function mX(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function gX(e,t){const n={},r=v(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function vX(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const s=v(e,["filter"]);return t!==void 0&&s!=null&&y(t,["_query","filter"],s),r}function yX(e,t,n){const r={},i=v(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const o=v(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const s=v(e,["filter"]);return t!==void 0&&s!=null&&y(t,["_query","filter"],s),r}function bX(e,t){const n={},r=v(e,["config"]);return r!=null&&vX(r,n),n}function xX(e,t){const n={},r=v(e,["config"]);return r!=null&&yX(r,n),n}function wX(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>_j(u))),y(n,["tuningJobs"],s)}return n}function _X(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=v(e,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>wx(u))),y(n,["tuningJobs"],s)}return n}function SX(e,t){const n={},r=v(e,["name"]);r!=null&&y(n,["model"],r);const i=v(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function EX(e,t){const n={};if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=v(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function TX(e,t,n){const r={};let i=v(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=v(e,["gcsUri"]);t!==void 0&&s!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=v(e,["gcsUri"]);t!==void 0&&s!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=v(e,["gcsUri"]);t!==void 0&&s!=null&&y(t,["distillationSpec","promptDatasetUri"],s)}let o=v(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=v(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=v(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(o==="DISTILLATION"){const s=v(e,["vertexDatasetResource"]);t!==void 0&&s!=null&&y(t,["distillationSpec","promptDatasetUri"],s)}if(v(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function _j(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["state"]);o!=null&&y(n,["state"],UL(o));const s=v(e,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=v(e,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const f=v(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(e,["description"]);h!=null&&y(n,["description"],h);const p=v(e,["baseModel"]);p!=null&&y(n,["baseModel"],p);const g=v(e,["_self"]);return g!=null&&y(n,["tunedModel"],SX(g)),n}function wx(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["state"]);o!=null&&y(n,["state"],UL(o));const s=v(e,["createTime"]);s!=null&&y(n,["createTime"],s);const u=v(e,["startTime"]);u!=null&&y(n,["startTime"],u);const c=v(e,["endTime"]);c!=null&&y(n,["endTime"],c);const f=v(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const h=v(e,["error"]);h!=null&&y(n,["error"],h);const p=v(e,["description"]);p!=null&&y(n,["description"],p);const g=v(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const b=v(e,["tunedModel"]);b!=null&&y(n,["tunedModel"],b);const S=v(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=v(e,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const T=v(e,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const C=v(e,["distillationSpec"]);C!=null&&y(n,["distillationSpec"],C);const R=v(e,["tuningDataStats"]);R!=null&&y(n,["tuningDataStats"],R);const N=v(e,["encryptionSpec"]);N!=null&&y(n,["encryptionSpec"],N);const I=v(e,["partnerModelTuningSpec"]);I!=null&&y(n,["partnerModelTuningSpec"],I);const O=v(e,["customBaseModel"]);O!=null&&y(n,["customBaseModel"],O);const M=v(e,["experiment"]);M!=null&&y(n,["experiment"],M);const U=v(e,["labels"]);U!=null&&y(n,["labels"],U);const q=v(e,["outputUri"]);q!=null&&y(n,["outputUri"],q);const V=v(e,["pipelineJob"]);V!=null&&y(n,["pipelineJob"],V);const ne=v(e,["serviceAccount"]);ne!=null&&y(n,["serviceAccount"],ne);const ie=v(e,["tunedModelDisplayName"]);ie!=null&&y(n,["tunedModelDisplayName"],ie);const Y=v(e,["veoTuningSpec"]);return Y!=null&&y(n,["veoTuningSpec"],Y),n}function AX(e,t){const n={},r=v(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=v(e,["name"]);i!=null&&y(n,["name"],i);const o=v(e,["metadata"]);o!=null&&y(n,["metadata"],o);const s=v(e,["done"]);s!=null&&y(n,["done"],s);const u=v(e,["error"]);return u!=null&&y(n,["error"],u),n}function Gy(e,t){const n={},r=v(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=v(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CX extends ro{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ts(Yi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:lx.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=gX(t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>wx(h))}else{const f=mX(t);return u=me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>_j(h))}}async listInternal(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=xX(t);return u=me("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=_X(h),g=new WN;return Object.assign(g,p),g})}else{const f=bX(t);return u=me("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wX(h),g=new WN;return Object.assign(g,p),g})}}async cancel(t){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const f=lX(t);return u=me("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=cX(h),g=new YN;return Object.assign(g,p),g})}else{const f=sX(t);return u=me("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=uX(h),g=new YN;return Object.assign(g,p),g})}}async tuneInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=pX(t,t);return o=me("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>wx(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hX(t);return o=me("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>AX(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PX{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NX=1024*1024*8,RX=3,IX=1e3,MX=2,Jh="x-goog-upload-status";async function OX(e,t,n){var r;const i=await Sj(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function kX(e,t,n){var r;const i=await Sj(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=ML(o),u=new d_;return Object.assign(u,s),u}async function Sj(e,t,n){var r,i;let o=0,s=0,u=new cx(new Response),c="upload";for(o=e.size;s<o;){const f=Math.min(NX,o-s),h=e.slice(s,s+f);s+f>=o&&(c+=", finalize");let p=0,g=IX;for(;p<RX&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Jh]));)p++,await LX(g),g=g*MX;if(s+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Jh])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function DX(e){return{size:e.size,type:e.type}}function LX(e){return new Promise(t=>setTimeout(t,e))}class jX{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await OX(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await kX(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DX(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UX{create(t,n,r){return new $X(t,n,r)}}class $X{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _R="x-goog-api-key";class zX{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(_R)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(_R,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BX="gl-node/";class VX{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new en({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(t=n==null?void 0:n.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=r.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=N8(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new zX(this.apiKey);this.apiClient=new D7({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:BX+"web",uploader:new jX,downloader:new PX}),this.models=new eJ(this.apiClient),this.live=new W7(this.apiClient,i,new UX),this.batches=new a9(this.apiClient),this.chats=new B9(this.models,this.apiClient),this.caches=new U9(this.apiClient),this.files=new Q9(this.apiClient),this.operations=new tJ(this.apiClient),this.authTokens=new vJ(this.apiClient),this.tunings=new CX(this.apiClient),this.fileSearchStores=new TJ(this.apiClient)}}const qX=async(e,t,n)=>{const r=new VX({apiKey:"AIzaSyAl00YjbvWZJJJW7j22IRdsl0GsyoK9eio"});try{return(await r.models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:t,temperature:.7}})).text||"No response generated."}catch(i){return console.error("Gemini Error:",i),"   .   ."}};function am(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function GX(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(h){try{f(r.next(h))}catch(p){s(p)}}function c(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?o(h.value):i(h.value).then(u,c)}f((r=r.apply(e,t||[])).next())})}const HX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class x_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class FX extends x_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class SR extends x_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ER extends x_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _x;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_x||(_x={}));class KX{constructor(t,{headers:n={},customFetch:r,region:i=_x.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=HX(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return GX(this,arguments,void 0,function*(n,r={}){var i;let o,s;try{const{headers:u,method:c,body:f,signal:h,timeout:p}=r;let g={},{region:b}=r;b||(b=this.region);const S=new URL(`${this.url}/${n}`);b&&b!=="any"&&(g["x-region"]=b,S.searchParams.set("forceFunctionRegion",b));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(g["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(g["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let T=h;p&&(s=new AbortController,o=setTimeout(()=>s.abort(),p),h?(T=s.signal,h.addEventListener("abort",()=>s.abort())):T=s.signal);const C=yield this.fetch(S.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:E,signal:T}).catch(O=>{throw new FX(O)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new SR(C);if(!C.ok)throw new ER(C);let N=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return N==="application/json"?I=yield C.json():N==="application/octet-stream"||N==="application/pdf"?I=yield C.blob():N==="text/event-stream"?I=C:N==="multipart/form-data"?I=yield C.formData():I=yield C.text(),{data:I,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof ER||u instanceof SR?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var WX=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},YX=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=e.urlLengthLimit)!==null&&r!==void 0?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let s=null,u=null,c=null,f=o.status,h=o.statusText;if(o.ok){var p,g;if(n.method!=="HEAD"){var b;const C=await o.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?u=C:u=JSON.parse(C))}const E=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),T=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&T&&T.length>1&&(c=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,c=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await o.text();try{s=JSON.parse(E),Array.isArray(s)&&o.status===404&&(u=[],s=null,f=200,h="OK")}catch{o.status===404&&E===""?(f=204,h="No Content"):s={message:E}}if(s&&n.isMaybeSingle&&(!(s==null||(S=s.details)===null||S===void 0)&&S.includes("0 rows"))&&(s=null,f=200,h="OK"),s&&n.shouldThrowOnError)throw new WX(s)}return{error:s,data:u,count:c,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var s;let u="",c="",f="";const h=o==null?void 0:o.cause;if(h){var p,g,b,S;const C=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",R=(g=h==null?void 0:h.code)!==null&&g!==void 0?g:"";u=`${(b=o==null?void 0:o.name)!==null&&b!==void 0?b:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(S=h==null?void 0:h.name)!==null&&S!==void 0?S:"Error"}: ${C}`,R&&(u+=` (${R})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var E;u=(E=o==null?void 0:o.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return(o==null?void 0:o.name)==="AbortError"||(o==null?void 0:o.code)==="ABORT_ERR"?(f="",c="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(f="",c="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(c+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:c,code:f},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},JX=class extends YX{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const TR=new RegExp("[,()]");var nl=class extends JX{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&TR.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&TR.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},XX=class{constructor(e,{headers:t={},schema:n,fetch:r,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const s=(e??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:u,headers:c}=this.cloneRequestState();return u.searchParams.set("select",s),r&&c.append("Prefer",`count=${r}`),new nl({method:i,url:u,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),n||s.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",c.join(","))}}return new nl({method:i,url:o,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const s="POST",{url:u,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);u.searchParams.set("columns",h.join(","))}}return new nl({method:s,url:u,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new nl({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new nl({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function ZX(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QX(e){var t=ZX(e,"string");return Sc(t)=="symbol"?t:t+""}function eZ(e,t,n){return(t=QX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){eZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tZ=class Ej{constructor(t,{headers:n={},schema:r,fetch:i,timeout:o,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=s;const u=i??globalThis.fetch;o!==void 0&&o>0?this.fetch=(c,f)=>{const h=new AbortController,p=setTimeout(()=>h.abort(),o),g=f==null?void 0:f.signal;if(g){if(g.aborted)return clearTimeout(p),u(c,f);const b=()=>{clearTimeout(p),h.abort()};return g.addEventListener("abort",b,{once:!0}),u(c,Wd(Wd({},f),{},{signal:h.signal})).finally(()=>{clearTimeout(p),g.removeEventListener("abort",b)})}return u(c,Wd(Wd({},f),{},{signal:h.signal})).finally(()=>clearTimeout(p))}:this.fetch=u}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new XX(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Ej(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let u;const c=new URL(`${this.url}/rpc/${t}`);let f;const h=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(h)),p=r&&Object.values(n).some(h);p?(u="POST",f=n):r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([b,S])=>S!==void 0).map(([b,S])=>[b,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([b,S])=>{c.searchParams.append(b,S)})):(u="POST",f=n);const g=new Headers(this.headers);return p?g.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&g.set("Prefer",`count=${o}`),new nl({method:u,url:c,headers:g,schema:this.schemaName,body:f,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class nZ{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rZ="2.97.0",iZ=`realtime-js/${rZ}`,oZ="1.0.0",Tj="2.0.0",CR=Tj,Sx=1e4,aZ=1e3,sZ=100;var Bo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bo||(Bo={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var Ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ur||(Ur={}));var Ex;(function(e){e.websocket="websocket"})(Ex||(Ex={}));var Oa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Oa||(Oa={}));class lZ{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,n,r){var i,o;const s=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+u.length+s.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+g);let S=new DataView(b),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,c.length),S.setUint8(E++,u.length),S.setUint8(E++,s.length),S.setUint8(E++,f.length),S.setUint8(E++,p.length),S.setUint8(E++,n),Array.from(c,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(s,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(p,C=>S.setUint8(E++,C.charCodeAt(0)));var T=new Uint8Array(b.byteLength+r.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(r),b.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,s,u,c]=r;return n({join_ref:i,ref:o,topic:s,event:u,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),s=n.getUint8(3),u=n.getUint8(4);let c=this.HEADER_LENGTH+4;const f=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+o));c=c+o;const p=r.decode(t.slice(c,c+s));c=c+s;const g=t.slice(c,t.byteLength),b=u===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,S={type:this.BROADCAST_EVENT,event:h,payload:b};return s>0&&(S.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Aj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ct;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ct||(ct={}));const PR=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=uZ(s,e,t,i),o),{}):{}},uZ=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,s=n[e];return o&&!r.includes(o)?Cj(o,s):Tx(s)},Cj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return hZ(t,n)}switch(e){case ct.bool:return cZ(t);case ct.float4:case ct.float8:case ct.int2:case ct.int4:case ct.int8:case ct.numeric:case ct.oid:return fZ(t);case ct.json:case ct.jsonb:return dZ(t);case ct.timestamp:return pZ(t);case ct.abstime:case ct.date:case ct.daterange:case ct.int4range:case ct.int8range:case ct.money:case ct.reltime:case ct.text:case ct.time:case ct.timestamptz:case ct.timetz:case ct.tsrange:case ct.tstzrange:return Tx(t);default:return Tx(t)}},Tx=e=>e,cZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},hZ=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(u=>Cj(t,u))}return e},pZ=e=>typeof e=="string"?e.replace(" ","T"):e,Pj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Hy{constructor(t,n,r={},i=Sx){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var NR;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(NR||(NR={}));class hc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hc.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=hc.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hc.syncDiff(this.state,i,o,s),u())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),s=this.transformState(n),u={},c={};return this.map(o,(f,h)=>{s[f]||(c[f]=h)}),this.map(s,(f,h)=>{const p=o[f];if(p){const g=h.map(T=>T.presence_ref),b=p.map(T=>T.presence_ref),S=h.filter(T=>b.indexOf(T.presence_ref)<0),E=p.filter(T=>g.indexOf(T.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(c[f]=E)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,c)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(c),h.length>0){const p=t[u].map(b=>b.presence_ref),g=h.filter(b=>p.indexOf(b.presence_ref)<0);t[u].unshift(...g)}r(u,h,c)}),this.map(s,(u,c)=>{let f=t[u];if(!f)return;const h=c.map(p=>p.presence_ref);f=f.filter(p=>h.indexOf(p.presence_ref)<0),t[u]=f,i(u,f,c),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var RR;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(RR||(RR={}));var pc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pc||(pc={}));var Bi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bi||(Bi={}));class hl{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hy(this,Ur.join,this.params,this.timeout),this.rejoinTimer=new Aj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ur.reply,{},(s,u)=>{this._trigger(this._replyEventName(u),s)}),this.presence=new hc(this),this.broadcastEndpointURL=Pj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:s,presence:u,private:c}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[pc.PRESENCE]&&this.bindings[pc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},g={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(Bi.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(Bi.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){t==null||t(Bi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,C=[];for(let R=0;R<T;R++){const N=E[R],{filter:{event:I,schema:O,table:M,filter:U}}=N,q=b&&b[R];if(q&&q.event===I&&hl.isFilterValueEqual(q.schema,O)&&hl.isFilterValueEqual(q.table,M)&&hl.isFilterValueEqual(q.filter,U))C.push(Object.assign(Object.assign({},N),{id:q.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(Bi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Bi.SUBSCRIBED);return}}).receive("error",b=>{this.state=Bt.errored,t==null||t(Bi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===pc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let c=u.statusText;try{const f=await u.json();c=f.error||f.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,u,c;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Hy(this,Ur.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hy(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sZ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const s=t.toLocaleLowerCase(),{close:u,error:c,leave:f,join:h}=Ur;if(r&&[u,c,f,h].indexOf(s)>=0&&r!==this._joinRef())return;let g=this._onMessage(s,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,E,T;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=b.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===s}).map(b=>b.callback(g,r)):(o=this.bindings[s])===null||o===void 0||o.filter(b=>{var S,E,T,C,R,N;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in b){const I=b.id,O=(S=b.filter)===null||S===void 0?void 0:S.event;return I&&((E=n.ids)===null||E===void 0?void 0:E.includes(I))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const I=(R=(C=b==null?void 0:b.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return I==="*"||I===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===s}).map(b=>{if(typeof g=="object"&&"ids"in g){const S=g.data,{schema:E,table:T,commit_timestamp:C,type:R,errors:N}=S;g=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:C,eventType:R,new:{},old:{},errors:N}),this._getPayloadRecords(S))}b.callback(g,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&hl.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ur.close,{},t)}_onError(t){this._on(Ur.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=PR(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=PR(t.columns,t.old_record)),n}}const Fy=()=>{},Yd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mZ=[1e3,2e3,5e3,1e4],gZ=1e4,vZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yZ{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sx,this.transport=null,this.heartbeatIntervalMs=Yd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fy,this.ref=0,this.reconnectTimer=null,this.vsn=CR,this.logger=Fy,this.conn=null,this.sendBuffer=[],this.serializer=new lZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ex.websocket}`,this.httpEndpoint=Pj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nZ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bo.connecting:return Oa.Connecting;case Bo.open:return Oa.Open;case Bo.closing:return Oa.Closing;default:return Oa.Closed}}isConnected(){return this.connectionState()===Oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new hl(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(aZ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Yd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:s}=n,u=s?`(${s})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Bo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Bo.open||this.conn.readyState===Bo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ur.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([vZ],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:iZ};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Aj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,u,c,f,h,p,g,b;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Sx,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Yd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Fy,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:CR,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(S=>mZ[S-1]||gZ),this.vsn){case oZ:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:((S,E)=>E(JSON.parse(S)));break;case Tj:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Ec=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bZ(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function xZ(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function wZ(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:s}){const u=bZ(e.baseUrl,r,i),c=await xZ(e.auth),f=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...s},body:o?JSON.stringify(o):void 0}),h=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),g=p&&h?JSON.parse(h):h;if(!f.ok){const b=p?g:void 0,S=b==null?void 0:b.error;throw new Ec((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:b})}return{status:f.status,headers:f.headers,data:g}}}}function Jd(e){return e.join("")}var _Z=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Jd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jd(e.namespace)}`}),!0}catch(t){if(t instanceof Ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Ec&&n.status===409)return;throw n}}};function qs(e){return e.join("")}var SZ=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qs(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Ec&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Ec&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},EZ=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=wZ({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new _Z(this.client,t),this.tableOps=new SZ(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},sm=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function lm(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xd=class extends sm{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nj=class extends sm{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const TZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ax=e=>{if(Array.isArray(e))return e.map(n=>Ax(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Ax(r)}),t},CZ=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function PZ(e,t){if(Tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NZ(e){var t=PZ(e,"string");return Tc(t)=="symbol"?t:t+""}function RZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){RZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const MR=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},IZ=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const u=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||o+"";t(new Xd(MR(s),o,u,r))}).catch(()=>{if(r==="vectors"){const s=o+"";t(new Xd(i.statusText||`HTTP ${o} error`,o,s,r))}else{const s=o+"";t(new Xd(i.statusText||`HTTP ${o} error`,o,s,r))}});else{const s=o+"";t(new Xd(i.statusText||`HTTP ${o} error`,o,s,r))}}else t(new Nj(MR(e),e,r))},MZ=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?Re(Re({},i),n):(AZ(r)?(i.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Re(Re({},i),n))};async function Ku(e,t,n,r,i,o,s){return new Promise((u,c)=>{e(n,MZ(t,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;if(s==="vectors"){const h=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!h||!h.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>IZ(f,c,r,s))})}function Rj(e="storage"){return{get:async(t,n,r,i)=>Ku(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>Ku(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>Ku(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>Ku(t,"HEAD",n,Re(Re({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>Ku(t,"DELETE",n,i,o,r,e)}}const OZ=Rj("storage"),{get:Ac,post:jr,put:Cx,head:kZ,remove:w_}=OZ,rr=Rj("vectors");var jl=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=TZ(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Re(Re({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(lm(n))return{data:null,error:n};throw n}}},DZ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lm(t))return{data:null,error:t};throw t}}};let Ij;Ij=Symbol.toStringTag;var LZ=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ij]="BlobDownloadBuilder",this.promise=null}asStream(){return new DZ(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(lm(t))return{data:null,error:t};throw t}}};const jZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OR={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var UZ=class extends jl{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const s=Re(Re({},OR),r);let u=Re(Re({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,c&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(u=Re(Re({},u),r.headers));const f=i._removeEmptyFolders(t),h=i._getFinalPath(f),p=await(e=="PUT"?Cx:jr)(i.fetch,`${i.url}/object/${h}`,o,Re({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:f,id:p.Id,fullPath:p.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),s=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${s}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let c;const f=Re({upsert:OR.upsert},r),h=Re(Re({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",f.cacheControl)):(c=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{path:o,fullPath:(await Cx(i.fetch,u.toString(),c,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=Re({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await jr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+o.url),u=s.searchParams.get("token");if(!u)throw new sm("No token returned by API");return{signedUrl:s.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await jr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await jr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await jr(r.fetch,`${r.url}/object/sign/${i}`,Re({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${s}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await jr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(s=>Re(Re({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${o}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(e),u=()=>Ac(this.fetch,`${this.url}/${r}/${s}${o}`,{headers:this.headers,noResolveJson:!0},n);return new LZ(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Ax(await Ac(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await kZ(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(lm(r)&&r instanceof Nj){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&r.push(s);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await w_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=Re(Re(Re({},jZ),t),{},{prefix:e||""});return await jr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Re({},e);return await jr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $Z="2.97.0",Xc={"X-Client-Info":`storage-js/${$Z}`};var zZ=class extends jl{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),s=Re(Re({},Xc),t);super(o,s,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ac(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ac(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await jr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Cx(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await jr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await w_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},BZ=class extends jl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Re(Re({},Xc),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await jr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Ac(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await w_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!CZ(e))throw new sm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new EZ({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const s=i[o];return typeof s!="function"?s:async(...u)=>{try{return{data:await s.apply(i,u),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},VZ=class extends jl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Re(Re({},Xc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await rr.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await rr.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},qZ=class extends jl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Re(Re({},Xc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},GZ=class extends jl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=Re(Re({},Xc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await rr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},HZ=class extends GZ{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new FZ(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},FZ=class extends VZ{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new KZ(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},KZ=class extends qZ{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Re(Re({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},WZ=class extends zZ{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new UZ(this.url,this.headers,e,this.fetch)}get vectors(){return new HZ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BZ(this.url+"/iceberg",this.headers,this.fetch)}};const Mj="2.97.0",rl=30*1e3,Px=3,Ky=Px*rl,YZ="http://localhost:9999",JZ="supabase.auth.token",XZ={"X-Client-Info":`gotrue-js/${Mj}`},Nx="X-Supabase-Api-Version",Oj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZZ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,QZ=600*1e3;class Cc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eQ extends Cc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tQ(e){return Te(e)&&e.name==="AuthApiError"}class ka extends Cc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class oo extends Cc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class nr extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wy(e){return Te(e)&&e.name==="AuthSessionMissingError"}class Gs extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zd extends oo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qd extends oo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nQ(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class kR extends oo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rQ extends oo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Rx extends oo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yy(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class DR extends oo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ix extends oo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LR=` 	
\r=`.split(""),iQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<LR.length;t+=1)e[LR[t].charCodeAt(0)]=-2;for(let t=0;t<Xh.length;t+=1)e[Xh[t].charCodeAt(0)]=t;return e})();function jR(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Xh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Xh[r]),t.queuedBits-=6}}function kj(e,t,n){const r=iQ[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function UR(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{sQ(s,r,n)};for(let s=0;s<e.length;s+=1)kj(e.charCodeAt(s),i,o);return t.join("")}function oQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aQ(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oQ(r,t)}}function sQ(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)kj(e.charCodeAt(i),n,r);return new Uint8Array(t)}function lQ(e){const t=[];return aQ(e,n=>t.push(n)),new Uint8Array(t)}function ja(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>jR(i,n,r)),jR(null,n,r),t.join("")}function uQ(e){return Math.round(Date.now()/1e3)+e}function cQ(){return Symbol("auth-callback")}const hn=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},Dj=()=>{if(!hn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function fQ(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const Lj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",il=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ta=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},dn=async(e,t)=>{await e.removeItem(t)};class um{constructor(){this.promise=new um.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}um.promiseConstructor=Promise;function eh(e){const t=e.split(".");if(t.length!==3)throw new Ix("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ZZ.test(t[r]))throw new Ix("JWT not in base64url format");return{header:JSON.parse(UR(t[0])),payload:JSON.parse(UR(t[1])),signature:xl(t[2]),raw:{header:t[0],payload:t[1]}}}async function hQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pQ(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function mQ(e){return("0"+e.toString(16)).substr(-2)}function gQ(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,mQ).join("")}async function vQ(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function yQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await vQ(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(e,t,n=!1){const r=gQ();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await il(e,`${t}-code-verifier`,i);const o=await yQ(r);return[o,r===o?"plain":"s256"]}const bQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xQ(e){const t=e.headers.get(Nx);if(!t||!t.match(bQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wQ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _Q(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(e){if(!SQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jy(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EQ(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function $R(e){return JSON.parse(JSON.stringify(e))}const Na=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TQ=[502,503,504];async function zR(e){var t;if(!dQ(e))throw new Rx(Na(e),0);if(TQ.includes(e.status))throw new Rx(Na(e),e.status);let n;try{n=await e.json()}catch(o){throw new ka(Na(o),o)}let r;const i=xQ(e);if(i&&i.getTime()>=Oj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new DR(Na(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new DR(Na(n),e.status,n.weak_password.reasons);throw new eQ(Na(n),e.status||500,r)}const AQ=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ie(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Nx]||(o[Nx]=Oj["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await CQ(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function CQ(e,t,n,r,i,o){const s=AQ(t,r,i,o);let u;try{u=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new Rx(Na(c),0)}if(u.ok||await zR(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await zR(c)}}function Dr(e){var t;let n=null;RQ(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uQ(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function BR(e){const t=Dr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Go(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function PQ(e){return{data:e,error:null}}function NQ(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=am(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:u,user:c},error:null}}function VR(e){return e}function RQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xy=["global","local","others"];class IQ{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Lj(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Xy[0]){if(Xy.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xy.join(", ")}`);try{return await Ie(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Go})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=am(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:NQ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Go})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:VR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Te(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Fs(t);try{return await Ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Go})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fs(t);try{return await Ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Go})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Fs(t);try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Go})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Fs(t.userId);try{const{data:n,error:r}=await Ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fs(t.userId),Fs(t.id);try{return{data:await Ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,s,u,c;try{const f={nextPage:null,lastPage:0,total:0},h=await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:VR});if(h.error)throw h.error;const p=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,b=(c=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=E}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(Te(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ie(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ie(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ie(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ie(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function qR(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ks={debug:!!(globalThis&&Dj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GR extends jj{}async function MQ(e,t,n){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new GR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ks.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new GR(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function OQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Uj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function kQ(e){return parseInt(e,16)}function DQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function LQ(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:u,requestId:c,resources:f,scheme:h,uri:p,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=Uj(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${b}

${E}`;let C=`URI: ${p}
Version: ${g}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),c&&(C+=`
Request ID: ${c}`),f){let R=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);R+=`
- ${N}`}C+=R}return`${T}
${C}`}class jt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Zh extends jt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function jQ({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if($j(s)){if(o.rp.id!==s)return new jt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function UQ({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if($j(r)){if(n.rpId!==r)return new jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class $Q{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zQ=new $Q;function BQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=am(e,["challenge","user","excludeCredentials"]),o=xl(t).buffer,s=Object.assign(Object.assign({},n),{id:xl(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];u.excludeCredentials[c]=Object.assign(Object.assign({},f),{id:xl(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function VQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=am(e,["challenge","allowCredentials"]),i=xl(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];o.allowCredentials[s]=Object.assign(Object.assign({},u),{id:xl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function qQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ja(new Uint8Array(e.response.attestationObject)),clientDataJSON:ja(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function GQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ja(new Uint8Array(i.authenticatorData)),clientDataJSON:ja(new Uint8Array(i.clientDataJSON)),signature:ja(new Uint8Array(i.signature)),userHandle:i.userHandle?ja(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $j(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HR(){var e,t;return!!(hn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",t)}:{data:null,error:new Zh("Empty credential response",t)}}catch(t){return{data:null,error:jQ({error:t,options:e})}}}async function FQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Zh("Browser returned unexpected credential type",t)}:{data:null,error:new Zh("Empty credential response",t)}}catch(t){return{data:null,error:UQ({error:t,options:e})}}}const KQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},WQ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const s=i[o];if(s!==void 0)if(Array.isArray(s))r[o]=s;else if(n(s))r[o]=s;else if(t(s)){const u=r[o];t(u)?r[o]=Qh(u,s):r[o]=Qh(s)}else r[o]=s}return r}function YQ(e,t){return Qh(KQ,e,t||{})}function JQ(e,t){return Qh(WQ,e,t||{})}class XQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var s;try{const{data:u,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:c};const f=i??zQ.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const p=r;if(p)h.name=`${h.id}:${p}`;else{const b=(await this.client.getUser()).data.user,S=((s=b==null?void 0:b.user_metadata)===null||s===void 0?void 0:s.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";h.name=`${h.id}:${S}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=YQ(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:g}=await HQ({publicKey:h,signal:f});return p?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=JQ(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:g}=await FQ(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(u){return Te(u)?{data:null,error:u}:{data:null,error:new ka("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Cc("rpId is required for WebAuthn authentication")};try{if(!HR())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!s)return{data:null,error:u};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return Te(s)?{data:null,error:s}:{data:null,error:new ka("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Cc("rpId is required for WebAuthn registration")};try{if(!HR())return{data:null,error:new ka("Browser does not support WebAuthn",null)};const{data:s,error:u}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:c,error:f}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:f}}catch(s){return Te(s)?{data:null,error:s}:{data:null,error:new ka("Unexpected error in register",s)}}}}OQ();const ZQ={url:YZ,storageKey:JZ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XZ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function FR(e,t,n){return await n()}const Ws={};class Pc{get jwks(){var t,n;return(n=(t=Ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},ZQ),t);if(this.storageKey=o.storageKey,this.instanceID=(n=Pc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Pc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&hn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new IQ({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Lj(o.fetch),this.lock=o.lock||FR,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&hn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=MQ:this.lock=FR,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new XQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Dj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qR(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=qR(this.memoryStorage)),hn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}o.skipAutoInitialize||this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mj}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(hn()&&(n=fQ(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),hn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),nQ(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:s,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?this._returnResult({error:n}):this._returnResult({error:new ka("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Dr}),{data:s,error:u}=o;if(u||!s)return this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(o){if(Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:p,options:g}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Hs(this.storage,this.storageKey)),o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:S},xform:Dr})}else if("phone"in t){const{phone:h,password:p,options:g}=t;o=await Ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Dr})}else throw new Zd("You must provide either an email or phone number and a password");const{data:s,error:u}=o;if(u||!s)return await dn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const c=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(o){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:s,options:u}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:BR})}else if("phone"in t){const{phone:o,password:s,options:u}=t;n=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:BR})}else throw new Zd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new Gs;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,s,u,c,f,h,p,g;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:C,options:R}=t;let N;if(hn())if(typeof T=="object")N=T;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")N=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const I=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href),O=await N.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=Uj(O[0]);let U=(r=R==null?void 0:R.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!U){const V=await N.request({method:"eth_chainId"});U=kQ(V)}const q={domain:I.host,address:M,statement:C,uri:I.href,version:"1",chainId:U,nonce:(i=R==null?void 0:R.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=R==null?void 0:R.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=R==null?void 0:R.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(c=R==null?void 0:R.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(f=R==null?void 0:R.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=R==null?void 0:R.signInWithEthereum)===null||h===void 0?void 0:h.resources};b=LQ(q),S=await N.request({method:"personal_sign",params:[DQ(b),M]})}try{const{data:E,error:T}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dr});if(T)throw T;if(!E||!E.session||!E.user){const C=new Gs;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Te(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,o,s,u,c,f,h,p,g,b;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:C,statement:R,options:N}=t;let I;if(hn())if(typeof C=="object")I=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))I=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=C}const O=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const M=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),R?{statement:R}:null));let U;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")U=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)U=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)S=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),E=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${O.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N==null?void 0:N.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const M=await I.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:T,error:C}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ja(E)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Dr});if(C)throw C;if(!T||!T.session||!T.user){const R=new Gs;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(Te(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Ta(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new rQ;const{data:o,error:s}=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Dr});if(await dn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!o||!o.session||!o.user){const u=new Gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=t,u=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dr}),{data:c,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!c||!c.session||!c.user){const h=new Gs;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:f})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,s;try{if("email"in t){const{email:u,options:c}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Hs(this.storage,this.storageKey));const{error:p}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:u,options:c}=t,{data:f,error:h}=await Ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new Zd("You must provide either an email or phone number.")}catch(u){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:u}=await Ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Dr});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,f=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:f,session:c},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,s;try{let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Hs(this.storage,this.storageKey));const f=await Ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:c}),headers:this.headers,xform:PQ});return!((o=f.data)===null||o===void 0)&&o.url&&hn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nr;const{error:i}=await Ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:s}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:s,error:u}=await Ie(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u})}throw new Zd("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ky:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await Ta(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Jy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=EQ(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Go}):await this._useSession(async n=>{var r,i,o;const{data:s,error:u}=n;if(u)throw u;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nr}:await Ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Go})})}catch(n){if(Te(n))return Wy(n)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new nr;const s=i.session;let u=null,c=null;this.flowType==="pkce"&&t.email!=null&&([u,c]=await Hs(this.storage,this.storageKey));const{data:f,error:h}=await Ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:c}),jwt:s.access_token,xform:Go});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nr;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=eh(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:u,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:u}=n;if(u)throw u;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new nr;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!hn())throw new Qd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kR("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kR("No code detected.");const{data:R,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:u,expires_at:c,token_type:f}=t;if(!o||!u||!s||!f)throw new Qd("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(u);let g=h+p;c&&(g=parseInt(c));const b=g-h;b*1e3<=rl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const S=g-p;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,g,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,g,h);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:g,refresh_token:s,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ta(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!Wy(o))return this._returnResult({error:o});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:u}=await this.admin.signOut(s,t);if(u&&!(tQ(u)&&(u.status===404||u.status===401||u.status===403)||Wy(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=cQ(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Hs(this.storage,this.storageKey,!0));try{return await Ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,u,c,f,h;const{data:p,error:g}=o;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ie(this.fetch,"GET",b,{headers:this.headers,jwt:(h=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return hn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Te(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:s,provider:u,token:c,access_token:f,nonce:h}=t,p=await Ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:c,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Dr}),{data:g,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Gs}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:b}))}catch(i){if(await dn(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await Ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pQ(async i=>(i>0&&await hQ(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dr})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Yy(o)&&Date.now()+s-r<rl})}catch(r){if(this._debug(n,"error",r),Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),hn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ta(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await il(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Jy()}else if(i&&!i.user&&!i.user){const s=await Ta(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await dn(this.storage,this.storageKey+"-user"),await il(this.storage,this.storageKey,i)):i.user=Jy()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ky;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ky}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Yy(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(i.access_token);!u&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new um;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new nr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Te(o)){const s={data:null,error:o};return Yy(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(s),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await dn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await il(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=$R(i);await il(this.storage,this.storageKey,o)}else{const i=$R(n);await il(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&hn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/rl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rl}ms, refresh threshold is ${Px} ticks`),i<=Px&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await Hs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return this._returnResult({data:null,error:s});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:f}=await Ie(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?qQ(t.webauthn.credential_response):GQ(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:c}=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:c}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const s=await Ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:u}=s;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:BQ(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:VQ(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:b}=eh(t);let S=null;b.aal&&(S=b.aal);let E=S;const{data:{user:T},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((r=(n=T==null?void 0:T.factors)===null||n===void 0?void 0:n.filter(I=>I.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const N=b.amr||[];return{data:{currentLevel:S,nextLevel:E,currentAuthenticationMethods:N},error:null}}catch(b){if(Te(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:s},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=eh(s.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((o=(i=s.user.factors)===null||i===void 0?void 0:i.filter(b=>b.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ie(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new nr})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nr});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&hn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new nr});const s=await Ie(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return s.data&&s.data.redirect_url&&hn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ie(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new nr})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ie(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new nr})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+QZ>i)return r;const{data:o,error:s}=await Ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:S}=await this.getSession();if(S||!b.session)return this._returnResult({data:null,error:S});r=b.session.access_token}const{header:i,payload:o,signature:s,raw:{header:u,payload:c}}=eh(r);n!=null&&n.allowExpired||wQ(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:s},error:null}}const h=_Q(i.alg),p=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,s,lQ(`${u}.${c}`)))throw new Ix("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}}Pc.nextInstanceID={};const QQ=Pc,eee="2.97.0";let oc="";typeof Deno<"u"?oc="deno":typeof document<"u"?oc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oc="react-native":oc="node";const tee={"X-Client-Info":`supabase-js-${oc}/${eee}`},nee={headers:tee},ree={schema:"public"},iee={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oee={};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function aee(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function see(e){var t=aee(e,"string");return Nc(t)=="symbol"?t:t+""}function lee(e,t,n){return(t=see(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const uee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cee=()=>Headers,fee=(e,t,n)=>{const r=uee(n),i=cee();return async(o,s)=>{var u;const c=(u=await t())!==null&&u!==void 0?u:e;let f=new i(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${c}`),r(o,Tt(Tt({},s),{},{headers:f}))}};function dee(e){return e.endsWith("/")?e:e+"/"}function hee(e,t){var n,r;const{db:i,auth:o,realtime:s,global:u}=e,{db:c,auth:f,realtime:h,global:p}=t,g={db:Tt(Tt({},c),i),auth:Tt(Tt({},f),o),realtime:Tt(Tt({},h),s),storage:{},global:Tt(Tt(Tt({},p),u),{},{headers:Tt(Tt({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function pee(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dee(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mee=class extends QQ{constructor(e){super(e)}},gee=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=pee(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const s=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:ree,realtime:oee,auth:Tt(Tt({},iee),{},{storageKey:s}),global:nee},c=hee(n??{},u);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=c.auth)!==null&&f!==void 0?f:{},this.headers,c.global.fetch)}this.fetch=fee(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new tZ(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new WZ(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new KX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:s,lock:u,debug:c,throwOnError:f},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mee({url:this.authUrl.href,headers:Tt(Tt({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:u,debug:c,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yZ(this.realtimeUrl.href,Tt(Tt({},e),{},{params:Tt(Tt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vee=(e,t,n)=>new gee(e,t,n);function yee(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}yee()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bee="https://ojejyiftczrvzcyioiff.supabase.co",xee="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9qZWp5aWZ0Y3pydnpjeWlvaWZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNDkxODAsImV4cCI6MjA4NjkyNTE4MH0.Vp2fkvEXVNGAk8FvFabEKKAaI87qhIwhLfHS1UbfL5I",Gt=vee(bee,xee);function wee(e){return{id:String(e.id),name:e.name,role:e.role,room:e.room||"WORKING_AREA",status:e.status||"IDLE",mood:"FOCUSED",avatar:e.avatar||`https://api.dicebear.com/9.x/avataaars/svg?seed=${e.name}`,description:e.description,systemPrompt:e.system_prompt,homePosition:e.home_position||{x:50,y:50},currentPosition:e.home_position||{x:50,y:50},trustScore:e.trust_score||90,expertise:e.expertise||[],isFacingLeft:!1}}function _ee(e){const t={open:"TODO",in_progress:"IN_PROGRESS",done:"DONE",blocked:"STUCK"},n={high:"HIGH",medium:"MEDIUM",low:"LOW"};return{id:String(e.id),title:e.title,assigneeId:e.assignee||e.owner||"1",status:t[e.status]||"TODO",priority:n[e.priority||""]||"MEDIUM",dueDate:e.deadline||new Date().toISOString().split("T")[0],description:e.description,tags:e.tags}}function See(e){return{id:String(e.id),title:e.title,progress:0,category:e.status||"PRODUCT",description:e.description,status:e.status,created_at:e.created_at}}function Eee(e){return{id:String(e.id),agentId:"1",content:e.content||e.title,importance:3,timestamp:new Date(e.created_at).getTime()}}function Tee(e){return{id:String(e.id),timestamp:new Date(e.created_at).getTime(),agentId:e.source,message:e.message,type:e.level||"INFO"}}async function Aee(){try{const{data:e,error:t}=await Gt.from("agents").select("*");return t?(console.error("Error fetching agents:",t),[]):e.map(wee)}catch(e){return console.error("Exception fetching agents:",e),[]}}async function Cee(){try{const{data:e,error:t}=await Gt.from("tasks").select("*").order("created_at",{ascending:!1}).limit(50);return t?(console.error("Error fetching tasks:",t),[]):e.map(_ee)}catch(e){return console.error("Exception fetching tasks:",e),[]}}async function Pee(){try{const{data:e,error:t}=await Gt.from("goals").select("*").order("created_at",{ascending:!1});return t?(console.error("Error fetching goals:",t),[]):e.map(See)}catch(e){return console.error("Exception fetching goals:",e),[]}}async function Nee(){try{const{data:e,error:t}=await Gt.from("notes").select("*").order("created_at",{ascending:!1}).limit(50);return t?(console.error("Error fetching memories:",t),[]):e.map(Eee)}catch(e){return console.error("Exception fetching memories:",e),[]}}async function Ree(){try{const{data:e,error:t}=await Gt.from("activity_log").select("*").order("created_at",{ascending:!1}).limit(50);return t?(console.error("Error fetching logs:",t),[]):e.map(Tee)}catch(e){return console.error("Exception fetching logs:",e),[]}}function Iee(e){return Gt.channel("office-tasks").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},e).subscribe()}async function Mee(){try{const{data:e,error:t}=await Gt.from("decisions").select("*").order("created_at",{ascending:!1}).limit(20);return t?(console.error("Error fetching proposals:",t),[]):(e||[]).map(n=>({id:String(n.id),title:n.title,proposer:n.created_by||"OPI",date:n.created_at?new Date(n.created_at).toLocaleDateString("he-IL"):" recently",description:n.description||"",impact:"Medium",effort:"Medium",agents:[],status:n.status==="approved"?"approved":n.status==="rejected"?"rejected":"pending"}))}catch(e){return console.error("Exception fetching proposals:",e),[]}}async function Oee(){try{const{data:e,error:t}=await Gt.from("notes").select("*").order("created_at",{ascending:!1}).limit(20);return t?(console.error("Error fetching security issues:",t),[]):(e||[]).map(n=>{var o;const r=(n.content||"").toLowerCase(),i=r.includes("security")||r.includes("vulnerability")||r.includes("breach")||r.includes("alert")||((o=n.tags)==null?void 0:o.some(s=>s.toLowerCase().includes("security")));return{id:String(n.id),title:n.title||"Security Note",description:n.content||"",severity:i?"HIGH":"LOW",status:"CLOSED",createdAt:new Date(n.created_at).getTime(),affectedSystems:n.tags||[]}})}catch(e){return console.error("Exception fetching security issues:",e),[]}}async function kee(){try{const{data:e,error:t}=await Gt.from("notes").select("*").order("created_at",{ascending:!1}).limit(30);return t?(console.error("Error fetching artifacts:",t),[]):(e||[]).map(n=>({id:String(n.id),title:n.title||"Untitled",type:n.category==="planning"||n.category==="milestone"||n.category==="identity"?"DOCUMENT":"DATA",creatorId:"1",timestamp:new Date(n.created_at).getTime(),content:n.content||""}))}catch(e){return console.error("Exception fetching artifacts:",e),[]}}async function Dee(){try{const{data:e,error:t}=await Gt.from("agents").select("*");return t?(console.error("Error fetching capabilities:",t),[]):[{id:"web-search",name:"Web Search API",status:"Active",type:"External API",agents:["RESEARCH"],usage:"~100 calls/day",icon:"search"},{id:"code-exec",name:"Code Execution",status:"Active",type:"Compute",agents:["DEV"],usage:"~50/day",icon:"code"},{id:"github",name:"GitHub Integration",status:"Active",type:"Version Control",agents:["DEV"],usage:"Active",icon:"git"},{id:"db-access",name:"PostgreSQL Access",status:"Active",type:"Database",agents:["DATA"],usage:"Active",icon:"database"},{id:"gemini",name:"Gemini AI",status:"Active",type:"AI Model",agents:["CEO","THINKER","DEV","DATA"],usage:"Primary",icon:"brain"},{id:"minimax",name:"MiniMax AI",status:"Active",type:"AI Model",agents:["RESEARCH"],usage:"Secondary",icon:"brain"}]}catch(e){return console.error("Exception fetching capabilities:",e),[]}}async function Lee(){try{const{data:e,error:t}=await Gt.from("agents").select("id, name, role, config").not("config","is",null);return t?(console.error("Error fetching models:",t),[]):(e||[]).map(n=>{var r,i,o;return{id:String(n.id),name:n.name,role:n.role,model:((r=n.config)==null?void 0:r.preferred_model)||"Gemini",maxTokens:((i=n.config)==null?void 0:i.max_tokens)||4096,temperature:((o=n.config)==null?void 0:o.temperature)||.5,status:"Active",uptime:"99.9%",callsToday:Math.floor(Math.random()*500)+100}})}catch(e){return console.error("Exception fetching models:",e),[]}}async function jee(){try{const{data:e}=await Gt.from("activity_log").select("level, created_at").order("created_at",{ascending:!1}).limit(20),{data:t}=await Gt.from("tasks").select("status"),r=Date.now()-36e5,i=(e||[]).filter(f=>new Date(f.created_at).getTime()>r),o=i.filter(f=>f.level==="ERROR"||f.level==="error").length,s=i.filter(f=>f.level==="WARN"||f.level==="warn").length,u=(t||[]).filter(f=>f.status==="open").length,c=(t||[]).filter(f=>f.status==="done").length;return{status:o>0?"DEGRADED":"HEALTHY",uptime:"99.95%",responseTime:"120ms",errorRate:o>0?"2.3%":"0.1%",activeTasks:u,completedToday:c,errors:o,warnings:s}}catch(e){return console.error("Exception fetching system health:",e),{status:"UNKNOWN",uptime:"99.9%",responseTime:"N/A"}}}async function Uee(){try{const{data:e}=await Gt.from("activity_log").select("created_at, source").gte("created_at",new Date().toISOString().split("T")[0]),t=(e==null?void 0:e.length)||0;return{total:`$${(t*.02).toFixed(2)}`,breakdown:[{model:"API Operations",cost:`$${(t*.015).toFixed(2)}`},{model:"System Overhead",cost:`$${(t*.005).toFixed(2)}`}]}}catch{return{total:"$0.00",breakdown:[]}}}async function $ee(){try{const{data:e,error:t}=await Gt.from("notes").select("*").or("category.like.%research%").order("created_at",{ascending:!1}).limit(50);if(t)throw t;return(e||[]).map(n=>{var r;return{id:String(n.id),title:n.title,content:n.content,category:n.category||"research",tags:n.tags||[],created_at:n.created_at,summary:((r=n.content)==null?void 0:r.slice(0,200))+"..."}})}catch(e){return console.error("Error fetching research:",e),[]}}function zj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=zj(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=zj(e))&&(r&&(r+=" "),r+=t);return r}var zee=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function __(e){if(typeof e!="string")return!1;var t=zee;return t.includes(e)}var Bee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vee=new Set(Bee);function Bj(e){return typeof e!="string"?!1:Vee.has(e)}function Vj(e){return typeof e=="string"&&e.startsWith("data-")}function lr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Bj(n)||Vj(n))&&(t[n]=e[n]);return t}function Zc(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return lr(t)}return typeof e=="object"&&!Array.isArray(e)?lr(e):null}function En(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Bj(n)||Vj(n)||__(n))&&(t[n]=e[n]);return t}function qee(e){return e==null?null:A.isValidElement(e)?En(e.props):typeof e=="object"&&!Array.isArray(e)?En(e):null}var Gee=["children","width","height","viewBox","className","style","title","desc"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(null,arguments)}function Hee(e,t){if(e==null)return{};var n,r,i=Fee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qj=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:c,desc:f}=e,h=Hee(e,Gee),p=o||{width:r,height:i,x:0,y:0},g=et("recharts-surface",s);return A.createElement("svg",Mx({},En(h),{className:g,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),A.createElement("title",null,c),A.createElement("desc",null,f),n)}),Kee=["children","className"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(null,arguments)}function Wee(e,t){if(e==null)return{};var n,r,i=Yee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tn=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Wee(e,Kee),o=et("recharts-layer",r);return A.createElement("g",Ox({className:o},En(i),{ref:t}),n)}),Gj=BD(),Jee=A.createContext(null);function ft(e){return function(){return e}}const Hj=Math.cos,ep=Math.sin,Zr=Math.sqrt,tp=Math.PI,cm=2*tp,kx=Math.PI,Dx=2*kx,Ra=1e-6,Xee=Dx-Ra;function Fj(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zee(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Fj;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qee{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Fj:Zee(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=r-t,f=i-n,h=s-t,p=u-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Ra)if(!(Math.abs(p*c-f*h)>Ra)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-s,S=i-u,E=c*c+f*f,T=b*b+S*S,C=Math.sqrt(E),R=Math.sqrt(g),N=o*Math.tan((kx-Math.acos((E+g-T)/(2*C*R)))/2),I=N/R,O=N/C;Math.abs(I-1)>Ra&&this._append`L${t+I*h},${n+I*p}`,this._append`A${o},${o},0,0,${+(p*b>h*S)},${this._x1=t+O*c},${this._y1=n+O*f}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=t+u,h=n+c,p=1^s,g=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ra||Math.abs(this._y1-h)>Ra)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%Dx+Dx),g>Xee?this._append`A${r},${r},0,1,${p},${t-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>Ra&&this._append`A${r},${r},0,${+(g>=kx)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function S_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qee(t)}function E_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kj(e){this._context=e}Kj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fm(e){return new Kj(e)}function Wj(e){return e[0]}function Yj(e){return e[1]}function Jj(e,t){var n=ft(!0),r=null,i=fm,o=null,s=S_(u);e=typeof e=="function"?e:e===void 0?Wj:ft(e),t=typeof t=="function"?t:t===void 0?Yj:ft(t);function u(c){var f,h=(c=E_(c)).length,p,g=!1,b;for(r==null&&(o=i(b=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+e(p,f,c),+t(p,f,c));if(b)return o=null,b+""||null}return u.x=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),u):e},u.y=function(c){return arguments.length?(t=typeof c=="function"?c:ft(+c),u):t},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ft(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function th(e,t,n){var r=null,i=ft(!0),o=null,s=fm,u=null,c=S_(f);e=typeof e=="function"?e:e===void 0?Wj:ft(+e),t=typeof t=="function"?t:ft(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Yj:ft(+n);function f(p){var g,b,S,E=(p=E_(p)).length,T,C=!1,R,N=new Array(E),I=new Array(E);for(o==null&&(u=s(R=c())),g=0;g<=E;++g){if(!(g<E&&i(T=p[g],g,p))===C)if(C=!C)b=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=g-1;S>=b;--S)u.point(N[S],I[S]);u.lineEnd(),u.areaEnd()}C&&(N[g]=+e(T,g,p),I[g]=+t(T,g,p),u.point(r?+r(T,g,p):N[g],n?+n(T,g,p):I[g]))}if(R)return u=null,R+""||null}function h(){return Jj().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:ft(+p),r=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:ft(+p),f):e},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ft(+p),f):r},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:ft(+p),n=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:ft(+p),f):t},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ft(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ft(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(u=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=u=null:u=s(o=p),f):o},f}class Xj{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function ete(e){return new Xj(e,!0)}function tte(e){return new Xj(e,!1)}const T_={draw(e,t){const n=Zr(t/tp);e.moveTo(n,0),e.arc(0,0,n,0,cm)}},nte={draw(e,t){const n=Zr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Zj=Zr(1/3),rte=Zj*2,ite={draw(e,t){const n=Zr(t/rte),r=n*Zj;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},ote={draw(e,t){const n=Zr(t),r=-n/2;e.rect(r,r,n,n)}},ate=.8908130915292852,Qj=ep(tp/10)/ep(7*tp/10),ste=ep(cm/10)*Qj,lte=-Hj(cm/10)*Qj,ute={draw(e,t){const n=Zr(t*ate),r=ste*n,i=lte*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const s=cm*o/5,u=Hj(s),c=ep(s);e.lineTo(c*n,-u*n),e.lineTo(u*r-c*i,c*r+u*i)}e.closePath()}},Zy=Zr(3),cte={draw(e,t){const n=-Zr(t/(Zy*3));e.moveTo(0,n*2),e.lineTo(-Zy*n,-n),e.lineTo(Zy*n,-n),e.closePath()}},wr=-.5,_r=Zr(3)/2,Lx=1/Zr(12),fte=(Lx/2+1)*3,dte={draw(e,t){const n=Zr(t/fte),r=n/2,i=n*Lx,o=r,s=n*Lx+n,u=-o,c=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(u,c),e.lineTo(wr*r-_r*i,_r*r+wr*i),e.lineTo(wr*o-_r*s,_r*o+wr*s),e.lineTo(wr*u-_r*c,_r*u+wr*c),e.lineTo(wr*r+_r*i,wr*i-_r*r),e.lineTo(wr*o+_r*s,wr*s-_r*o),e.lineTo(wr*u+_r*c,wr*c-_r*u),e.closePath()}};function hte(e,t){let n=null,r=S_(i);e=typeof e=="function"?e:ft(e||T_),t=typeof t=="function"?t:ft(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ft(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ft(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function np(){}function rp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function e5(e){this._context=e}e5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pte(e){return new e5(e)}function t5(e){this._context=e}t5.prototype={areaStart:np,areaEnd:np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mte(e){return new t5(e)}function n5(e){this._context=e}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gte(e){return new n5(e)}function r5(e){this._context=e}r5.prototype={areaStart:np,areaEnd:np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vte(e){return new r5(e)}function WR(e){return e<0?-1:1}function YR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(WR(o)+WR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function JR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qy(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,s-u*n,o,s)}function ip(e){this._context=e}ip.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qy(this,this._t0,JR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qy(this,JR(this,n=YR(this,e,t)),n);break;default:Qy(this,this._t0,n=YR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function i5(e){this._context=new o5(e)}(i5.prototype=Object.create(ip.prototype)).point=function(e,t){ip.prototype.point.call(this,t,e)};function o5(e){this._context=e}o5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function yte(e){return new ip(e)}function bte(e){return new i5(e)}function a5(e){this._context=e}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=XR(e),i=XR(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function XR(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function xte(e){return new a5(e)}function dm(e,t){this._context=e,this._t=t}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function wte(e){return new dm(e,.5)}function _te(e){return new dm(e,0)}function Ste(e){return new dm(e,1)}function Ka(e,t){if((s=e.length)>1)for(var n=1,r,i,o=e[t[0]],s,u=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function jx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ete(e,t){return e[t]}function Tte(e){const t=[];return t.key=e,t}function Ate(){var e=ft([]),t=jx,n=Ka,r=Ete;function i(o){var s=Array.from(e.apply(this,arguments),Tte),u,c=s.length,f=-1,h;for(const p of o)for(u=0,++f;u<c;++u)(s[u][f]=[0,+r(p,s[u].key,f,o)]).data=p;for(u=0,h=E_(t(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ft(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ft(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?jx:typeof o=="function"?o:ft(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Ka,i):n},i}function Cte(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Ka(e,t)}}function Pte(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=e[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ka(e,t)}}function Nte(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,f=0;u<s;++u){for(var h=e[t[u]],p=h[r][1]||0,g=h[r-1][1]||0,b=(p-g)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,C=E[r-1][1]||0;b+=T-C}c+=p,f+=b*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Ka(e,t)}}var e0={},t0={},ZR;function Rte(){return ZR||(ZR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(t0)),t0}var n0={},QR;function s5(){return QR||(QR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(n0)),n0}var r0={},eI;function A_(){return eI||(eI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(r0)),r0}var i0={},o0={},tI;function Ite(){return tI||(tI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(o0)),o0}var nI;function C_(){return nI||(nI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ite(),n=A_();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],s=i.length;if(s===0)return o;let u=0,c="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<s;){const p=i[u];f?p==="\\"&&u+1<s?(u++,c+=i[u]):p===f?f="":c+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,o.push(c),c=""):c+=p:p==="["?(h=!0,c&&(o.push(c),c="")):p==="."?c&&(o.push(c),c=""):c+=p,u++}return c&&o.push(c),o}e.toPath=r})(i0)),i0}var rI;function P_(){return rI||(rI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rte(),n=s5(),r=A_(),i=C_();function o(u,c,f){if(u==null)return f;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),f):f:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?f:h}default:{if(Array.isArray(c))return s(u,c,f);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return f;const h=u[c];return h===void 0?f:h}}}function s(u,c,f){if(c.length===0)return f;let h=u;for(let p=0;p<c.length;p++){if(h==null||t.isUnsafeProperty(c[p]))return f;h=h[c[p]]}return h===void 0?f:h}e.get=o})(e0)),e0}var a0,iI;function Mte(){return iI||(iI=1,a0=P_().get),a0}var Ote=Mte();const El=Jr(Ote);var kte=4;function Wo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kte,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,s)=>{var u=n[s-1];return typeof u=="string"?i+u+o:u!==void 0?i+Wo(u)+o:i+o},"")}var Vn=e=>e===0?0:e>0?1:-1,Kr=e=>typeof e=="number"&&e!=+e,Wa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ve=e=>(typeof e=="number"||e instanceof Number)&&!Kr(e),mi=e=>ve(e)||typeof e=="string",Dte=0,Rc=e=>{var t=++Dte;return"".concat(e||"").concat(t)},Wr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(t)&&typeof t!="string")return r;var o;if(Wa(t)){if(n==null)return r;var s=t.indexOf("%");o=n*parseFloat(t.slice(0,s))/100}else o=+t;return Kr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},l5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function at(e,t,n){return ve(e)&&ve(t)?Wo(e+n*(t-e)):t}function u5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):El(r,t))===n)}var xt=e=>e===null||typeof e>"u",Qc=e=>xt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function qn(e){return e!=null}function ta(){}var Lte=["type","size","sizeType"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(r){jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jte(e,t,n){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ute(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t){if(e==null)return{};var n,r,i=Bte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c5={symbolCircle:T_,symbolCross:nte,symbolDiamond:ite,symbolSquare:ote,symbolStar:ute,symbolTriangle:cte,symbolWye:dte},Vte=Math.PI/180,qte=e=>{var t="symbol".concat(Qc(e));return c5[t]||T_},Gte=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Vte;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Hte=(e,t)=>{c5["symbol".concat(Qc(e))]=t},f5=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=zte(e,Lte),o=aI(aI({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var u=()=>{var g=qte(s),b=hte().type(g).size(Gte(n,r,s)),S=b();if(S!==null)return S},{className:c,cx:f,cy:h}=o,p=En(o);return ve(f)&&ve(h)&&ve(n)?A.createElement("path",Ux({},p,{className:et("recharts-symbols",c),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};f5.registerSymbol=Hte;var d5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,N_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{__(i)&&(r[i]=(o=>n[i](n,o)))}),r},Fte=(e,t,n)=>r=>(e(t,n,r),null),R_=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];__(i)&&typeof o=="function"&&(r||(r={}),r[i]=Fte(o,t,n))}),r};function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){Wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wte(e,t,n){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yte(e){var t=Jte(e,"string");return typeof t=="symbol"?t:t+""}function Jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var n=Kte({},e),r=t,i=Object.keys(t),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}var s0={},l0={},lI;function Xte(){return lI||(lI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s,o,n);i.has(u)||i.set(u,s)}return Array.from(i.values())}e.uniqBy=t})(l0)),l0}var u0={},uI;function Zte(){return uI||(uI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(u0)),u0}var c0={},cI;function h5(){return cI||(cI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(c0)),c0}var f0={},d0={},h0={},fI;function Qte(){return fI||(fI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(h0)),h0}var dI;function I_(){return dI||(dI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qte();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(d0)),d0}var p0={},hI;function ene(){return hI||(hI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(p0)),p0}var pI;function tne(){return pI||(pI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I_(),n=ene();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(f0)),f0}var m0={},g0={},mI;function nne(){return mI||(mI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_();function n(r){return function(i){return t.get(i,r)}}e.property=n})(g0)),g0}var v0={},y0={},b0={},x0={},gI;function p5(){return gI||(gI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(x0)),x0}var w0={},vI;function m5(){return vI||(vI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(w0)),w0}var _0={},yI;function g5(){return yI||(yI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(_0)),_0}var bI;function rne(){return bI||(bI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5(),n=m5(),r=g5();function i(h,p,g){return typeof g!="function"?i(h,p,()=>{}):o(h,p,function b(S,E,T,C,R,N){const I=g(S,E,T,C,R,N);return I!==void 0?!!I:o(S,E,b,N)},new Map)}function o(h,p,g,b){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,g,b);case"function":return Object.keys(p).length>0?o(h,{...p},g,b):r.isEqualsSameValueZero(h,p);default:return t.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function s(h,p,g,b){if(p==null)return!0;if(Array.isArray(p))return c(h,p,g,b);if(p instanceof Map)return u(h,p,g,b);if(p instanceof Set)return f(h,p,g,b);const S=Object.keys(p);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(b!=null&&b.has(p))return b.get(p)===h;b==null||b.set(p,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||p[T]===void 0&&h[T]!==void 0||p[T]===null&&h[T]!==null||!g(h[T],p[T],T,h,p,b))return!1}return!0}finally{b==null||b.delete(p)}}function u(h,p,g,b){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of p.entries()){const T=h.get(S);if(g(T,E,S,h,p,b)===!1)return!1}return!0}function c(h,p,g,b){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<p.length;E++){const T=p[E];let C=!1;for(let R=0;R<h.length;R++){if(S.has(R))continue;const N=h[R];let I=!1;if(g(N,T,E,h,p,b)&&(I=!0),I){S.add(R),C=!0;break}}if(!C)return!1}return!0}function f(h,p,g,b){return p.size===0?!0:h instanceof Set?c([...h],[...p],g,b):!1}e.isMatchWith=i,e.isSetMatch=f})(b0)),b0}var xI;function v5(){return xI||(xI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rne();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(y0)),y0}var S0={},E0={},T0={},wI;function ine(){return wI||(wI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(T0)),T0}var A0={},_I;function M_(){return _I||(_I=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(A0)),A0}var C0={},SI;function y5(){return SI||(SI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",b="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",R="[object Uint16Array]",N="[object Uint32Array]",I="[object BigUint64Array]",O="[object Int8Array]",M="[object Int16Array]",U="[object Int32Array]",q="[object BigInt64Array]",V="[object Float32Array]",ne="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=q,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=V,e.float64ArrayTag=ne,e.functionTag=p,e.int16ArrayTag=M,e.int32ArrayTag=U,e.int8ArrayTag=O,e.mapTag=c,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=R,e.uint32ArrayTag=N,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(C0)),C0}var P0={},EI;function one(){return EI||(EI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(P0)),P0}var TI;function b5(){return TI||(TI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ine(),n=M_(),r=y5(),i=m5(),o=one();function s(h,p){return u(h,void 0,h,new Map,p)}function u(h,p,g,b=new Map,S=void 0){const E=S==null?void 0:S(h,p,g,b);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(b.has(h))return b.get(h);if(Array.isArray(h)){const T=new Array(h.length);b.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,g,b,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;b.set(h,T);for(const[C,R]of h)T.set(C,u(R,C,g,b,S));return T}if(h instanceof Set){const T=new Set;b.set(h,T);for(const C of h)T.add(u(C,void 0,g,b,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);b.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,g,b,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return b.set(h,T),c(T,h,g,b,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return b.set(h,T),c(T,h,g,b,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return b.set(h,T),c(T,h,g,b,S),T}if(h instanceof Error){const T=new h.constructor;return b.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,c(T,h,g,b,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return b.set(h,T),c(T,h,g,b,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return b.set(h,T),c(T,h,g,b,S),T}if(h instanceof String){const T=new String(h.valueOf());return b.set(h,T),c(T,h,g,b,S),T}if(typeof h=="object"&&f(h)){const T=Object.create(Object.getPrototypeOf(h));return b.set(h,T),c(T,h,g,b,S),T}return h}function c(h,p,g=h,b,S){const E=[...Object.keys(p),...t.getSymbols(p)];for(let T=0;T<E.length;T++){const C=E[T],R=Object.getOwnPropertyDescriptor(h,C);(R==null||R.writable)&&(h[C]=u(p[C],C,g,b,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=u,e.copyProperties=c})(E0)),E0}var AI;function ane(){return AI||(AI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(S0)),S0}var CI;function sne(){return CI||(CI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v5(),n=ane();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(v0)),v0}var N0={},R0={},I0={},PI;function lne(){return PI||(PI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5(),n=M_(),r=y5();function i(o,s){return t.cloneDeepWith(o,(u,c,f,h)=>{const p=s==null?void 0:s(u,c,f,h);if(p!==void 0)return p;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const g={};return h.set(o,g),t.copyProperties(g,o,f,h),g}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(g,o),g}case r.argumentsTag:{const g={};return t.copyProperties(g,o),g.length=o.length,g[Symbol.iterator]=o[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=i})(I0)),I0}var NI;function une(){return NI||(NI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lne();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(R0)),R0}var M0={},O0={},RI;function x5(){return RI||(RI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(O0)),O0}var k0={},II;function cne(){return II||(II=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M_();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(k0)),k0}var MI;function fne(){return MI||(MI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s5(),n=x5(),r=cne(),i=C_();function o(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&t.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let f=s;for(let h=0;h<c.length;h++){const p=c[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=o})(M0)),M0}var OI;function dne(){return OI||(OI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v5(),n=A_(),r=une(),i=P_(),o=fne();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):c===void 0?h===void 0:t.isMatch(h,c)}}e.matchesProperty=s})(N0)),N0}var kI;function hne(){return kI||(kI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h5(),n=nne(),r=sne(),i=dne();function o(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=o})(m0)),m0}var DI;function pne(){return DI||(DI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xte(),n=Zte(),r=h5(),i=tne(),o=hne();function s(u,c=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(o.iteratee(c),1)):[]}e.uniqBy=s})(s0)),s0}var D0,LI;function mne(){return LI||(LI=1,D0=pne().uniqBy),D0}var gne=mne();const jI=Jr(gne);function vne(e,t,n){return t===!0?jI(e,n):typeof t=="function"?jI(e,t):e}var L0={exports:{}},j0={},U0={exports:{}},$0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI;function yne(){if(UI)return $0;UI=1;var e=Rl();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function u(p,g){var b=g(),S=r({inst:{value:b,getSnapshot:g}}),E=S[0].inst,T=S[1];return o(function(){E.value=b,E.getSnapshot=g,c(E)&&T({inst:E})},[p,b,g]),i(function(){return c(E)&&T({inst:E}),p(function(){c(E)&&T({inst:E})})},[p]),s(b),b}function c(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!n(p,b)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return $0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,$0}var $I;function bne(){return $I||($I=1,U0.exports=yne()),U0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI;function xne(){if(zI)return j0;zI=1;var e=Rl(),t=bne();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,u=e.useMemo,c=e.useDebugValue;return j0.useSyncExternalStoreWithSelector=function(f,h,p,g,b){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(M){if(!R){if(R=!0,N=M,M=g(M),b!==void 0&&E.hasValue){var U=E.value;if(b(U,M))return I=U}return I=M}if(U=I,r(N,M))return U;var q=g(M);return b!==void 0&&b(U,q)?(N=M,U):(N=M,I=q)}var R=!1,N,I,O=p===void 0?null:p;return[function(){return C(h())},O===null?void 0:function(){return C(O())}]},[h,p,g,b]);var T=i(f,S[0],S[1]);return s(function(){E.hasValue=!0,E.value=T},[T]),c(T),T},j0}var BI;function wne(){return BI||(BI=1,L0.exports=xne()),L0.exports}var _ne=wne(),O_=A.createContext(null),Sne=e=>e,Mt=()=>{var e=A.useContext(O_);return e?e.store.dispatch:Sne},Ch=()=>{},Ene=()=>Ch,Tne=(e,t)=>e===t;function Ce(e){var t=A.useContext(O_),n=A.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Ch,[t,e]);return _ne.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Ene,t?t.store.getState:Ch,t?t.store.getState:Ch,n,Tne)}function Ane(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Cne(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Pne(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var VI=e=>Array.isArray(e)?e:[e];function Nne(e){const t=Array.isArray(e[0])?e[0]:e;return Pne(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Rne(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Ine=class{constructor(e){this.value=e}deref(){return this.value}},Mne=typeof WeakRef<"u"?WeakRef:Ine,One=0,qI=1;function nh(){return{s:One,v:void 0,o:null,p:null}}function w5(e,t={}){let n=nh();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var p;let u=n;const{length:c}=arguments;for(let g=0,b=c;g<b;g++){const S=arguments[g];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=nh(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=nh(),E.set(S,u)):u=T}}const f=u;let h;if(u.s===qI)h=u.v;else if(h=e.apply(null,arguments),o++,r){const g=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;g!=null&&r(g,h)&&(h=g,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Mne(h):h}return f.s=qI,f.v=h,h}return s.clearCache=()=>{n=nh(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function kne(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,u,c={},f=i.pop();typeof f=="object"&&(c=f,f=i.pop()),Ane(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:b=w5,argsMemoizeOptions:S=[]}=h,E=VI(g),T=VI(S),C=Nne(i),R=p(function(){return o++,f.apply(null,arguments)},...E),N=b(function(){s++;const O=Rne(C,arguments);return u=R.apply(null,O),u},...T);return Object.assign(N,{resultFunc:f,memoizedResultFunc:R,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var te=kne(w5),Dne=Object.assign((e,t=te)=>{Cne(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>Dne}),z0={},B0={},V0={},GI;function Lne(){return GI||(GI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=t(r),u=t(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};e.compareValues=n})(V0)),V0}var q0={},G0={},HI;function _5(){return HI||(HI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(G0)),G0}var FI;function jne(){return FI||(FI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_5(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}e.isKey=i})(q0)),q0}var KI;function Une(){return KI||(KI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lne(),n=jne(),r=C_();function i(o,s,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const f=(b,S)=>{let E=b;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:f(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?f(S,b):typeof S=="object"?S[b]:S,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:p.map(S=>h(S,b))})).slice().sort((b,S)=>{for(let E=0;E<p.length;E++){const T=t.compareValues(b.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(b=>b.original)}e.orderBy=i})(B0)),B0}var H0={},WI;function $ne(){return WI||(WI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),s=(u,c)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&c<o?s(h,c+1):i.push(h)}};return s(n,0),i}e.flatten=t})(H0)),H0}var F0={},YI;function S5(){return YI||(YI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5(),n=I_(),r=p5(),i=g5();function o(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&t.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.isEqualsSameValueZero(c[u],s):!1}e.isIterateeCall=o})(F0)),F0}var JI;function zne(){return JI||(JI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Une(),n=$ne(),r=S5();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(o,n.flatten(s),["asc"])}e.sortBy=i})(z0)),z0}var K0,XI;function Bne(){return XI||(XI=1,K0=zne().sortBy),K0}var Vne=Bne();const hm=Jr(Vne);var E5=e=>e.legend.settings,qne=e=>e.legend.size,Gne=e=>e.legend.payload;te([Gne,E5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?hm(r,n):r});var rh=1;function Hne(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-t.height)>rh||Math.abs(s.left-t.left)>rh||Math.abs(s.top-t.top)>rh||Math.abs(s.width-t.width)>rh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function mn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Fne=typeof Symbol=="function"&&Symbol.observable||"@@observable",ZI=Fne,W0=()=>Math.random().toString(36).substring(7).split("").join("."),Kne={INIT:`@@redux/INIT${W0()}`,REPLACE:`@@redux/REPLACE${W0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${W0()}`},op=Kne;function k_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function T5(e,t,n){if(typeof e!="function")throw new Error(mn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(mn(1));return n(T5)(e,t)}let r=e,i=t,o=new Map,s=o,u=0,c=!1;function f(){s===o&&(s=new Map,o.forEach((T,C)=>{s.set(C,T)}))}function h(){if(c)throw new Error(mn(3));return i}function p(T){if(typeof T!="function")throw new Error(mn(4));if(c)throw new Error(mn(5));let C=!0;f();const R=u++;return s.set(R,T),function(){if(C){if(c)throw new Error(mn(6));C=!1,f(),s.delete(R),o=null}}}function g(T){if(!k_(T))throw new Error(mn(7));if(typeof T.type>"u")throw new Error(mn(8));if(typeof T.type!="string")throw new Error(mn(17));if(c)throw new Error(mn(9));try{c=!0,i=r(i,T)}finally{c=!1}return(o=s).forEach(R=>{R()}),T}function b(T){if(typeof T!="function")throw new Error(mn(10));r=T,g({type:op.REPLACE})}function S(){const T=p;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(mn(11));function R(){const I=C;I.next&&I.next(h())}return R(),{unsubscribe:T(R)}},[ZI](){return this}}}return g({type:op.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:b,[ZI]:S}}function Wne(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:op.INIT})>"u")throw new Error(mn(12));if(typeof n(void 0,{type:op.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mn(13))})}function A5(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{Wne(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let c=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],g=n[p],b=s[p],S=g(b,u);if(typeof S>"u")throw u&&u.type,new Error(mn(14));f[p]=S,c=c||S!==b}return c=c||r.length!==Object.keys(s).length,c?f:s}}function ap(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Yne(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(mn(15))};const s={getState:i.getState,dispatch:(c,...f)=>o(c,...f)},u=e.map(c=>c(s));return o=ap(...u)(i.dispatch),{...i,dispatch:o}}}function C5(e){return k_(e)&&"type"in e&&typeof e.type=="string"}var P5=Symbol.for("immer-nothing"),QI=Symbol.for("immer-draftable"),On=Symbol.for("immer-state");function $r(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ar=Object,Tl=ar.getPrototypeOf,sp="constructor",pm="prototype",$x="configurable",lp="enumerable",Ph="writable",Ic="value",Ji=e=>!!e&&!!e[On];function Yr(e){var t;return e?N5(e)||gm(e)||!!e[QI]||!!((t=e[sp])!=null&&t[QI])||vm(e)||ym(e):!1}var Jne=ar[pm][sp].toString(),eM=new WeakMap;function N5(e){if(!e||!D_(e))return!1;const t=Tl(e);if(t===null||t===ar[pm])return!0;const n=ar.hasOwnProperty.call(t,sp)&&t[sp];if(n===Object)return!0;if(!ol(n))return!1;let r=eM.get(n);return r===void 0&&(r=Function.toString.call(n),eM.set(n,r)),r===Jne}function mm(e,t,n=!0){ef(e)===0?(n?Reflect.ownKeys(e):ar.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ef(e){const t=e[On];return t?t.type_:gm(e)?1:vm(e)?2:ym(e)?3:0}var tM=(e,t,n=ef(e))=>n===2?e.has(t):ar[pm].hasOwnProperty.call(e,t),zx=(e,t,n=ef(e))=>n===2?e.get(t):e[t],up=(e,t,n,r=ef(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function Xne(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gm=Array.isArray,vm=e=>e instanceof Map,ym=e=>e instanceof Set,D_=e=>typeof e=="object",ol=e=>typeof e=="function",Y0=e=>typeof e=="boolean";function Zne(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Vi=e=>e.copy_||e.base_,L_=e=>e.modified_?e.copy_:e.base_;function Bx(e,t){if(vm(e))return new Map(e);if(ym(e))return new Set(e);if(gm(e))return Array[pm].slice.call(e);const n=N5(e);if(t===!0||t==="class_only"&&!n){const r=ar.getOwnPropertyDescriptors(e);delete r[On];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u[Ph]===!1&&(u[Ph]=!0,u[$x]=!0),(u.get||u.set)&&(r[s]={[$x]:!0,[Ph]:!0,[lp]:u[lp],[Ic]:e[s]})}return ar.create(Tl(e),r)}else{const r=Tl(e);if(r!==null&&n)return{...e};const i=ar.create(r);return ar.assign(i,e)}}function j_(e,t=!1){return bm(e)||Ji(e)||!Yr(e)||(ef(e)>1&&ar.defineProperties(e,{set:ih,add:ih,clear:ih,delete:ih}),ar.freeze(e),t&&mm(e,(n,r)=>{j_(r,!0)},!1)),e}function Qne(){$r(2)}var ih={[Ic]:Qne};function bm(e){return e===null||!D_(e)?!0:ar.isFrozen(e)}var cp="MapSet",Vx="Patches",nM="ArrayMethods",R5={};function Ya(e){const t=R5[e];return t||$r(0,e),t}var rM=e=>!!R5[e],Mc,I5=()=>Mc,ere=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:rM(cp)?Ya(cp):void 0,arrayMethodsPlugin_:rM(nM)?Ya(nM):void 0});function iM(e,t){t&&(e.patchPlugin_=Ya(Vx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qx(e){Gx(e),e.drafts_.forEach(tre),e.drafts_=null}function Gx(e){e===Mc&&(Mc=e.parent_)}var oM=e=>Mc=ere(Mc,e);function tre(e){const t=e[On];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[On].modified_&&(qx(t),$r(4)),Yr(e)&&(e=sM(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[On].base_,e,t)}else e=sM(t,n);return nre(t,e,!0),qx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==P5?e:void 0}function sM(e,t){if(bm(t))return t;const n=t[On];if(!n)return fp(t,e.handledSet_,e);if(!xm(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);k5(n,e)}return n.copy_}function nre(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&j_(t,n)}function M5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var xm=(e,t)=>e.scope_===t,rre=[];function O5(e,t,n,r){const i=Vi(e),o=e.type_;if(r!==void 0&&zx(i,r,o)===t){up(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;mm(i,(c,f)=>{if(Ji(f)){const h=u.get(f)||[];h.push(c),u.set(f,h)}})}const s=e.draftLocations_.get(t)??rre;for(const u of s)up(i,u,n,o)}function ire(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!xm(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const s=L_(o);O5(e,o.draft_??o,s,n),k5(o,i)})}function k5(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}M5(e)}}function ore(e,t,n){const{scope_:r}=e;if(Ji(n)){const i=n[On];xm(i,r)&&i.callbacks_.push(function(){Nh(e);const s=L_(i);O5(e,n,s,t)})}else Yr(n)&&e.callbacks_.push(function(){const o=Vi(e);e.type_===3?o.has(n)&&fp(n,r.handledSet_,r):zx(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&fp(zx(e.copy_,t,e.type_),r.handledSet_,r)})}function fp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ji(e)||t.has(e)||!Yr(e)||bm(e)||(t.add(e),mm(e,(r,i)=>{if(Ji(i)){const o=i[On];if(xm(o,n)){const s=L_(o);up(e,r,s,e.type_),M5(o)}}else Yr(i)&&fp(i,t,n)})),e}function are(e,t){const n=gm(e),r={type_:n?1:0,scope_:t?t.scope_:I5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=dp;n&&(i=[r],o=Oc);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,[u,r]}var dp={get(e,t){if(t===On)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Vi(e);if(!tM(i,t,e.type_))return sre(e,i,t);const o=i[t];if(e.finalized_||!Yr(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&Zne(t))return o;if(o===J0(e.base_,t)){Nh(e);const s=e.type_===1?+t:t,u=Fx(e.scope_,o,e,s);return e.copy_[s]=u}return o},has(e,t){return t in Vi(e)},ownKeys(e){return Reflect.ownKeys(Vi(e))},set(e,t,n){const r=D5(Vi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=J0(Vi(e),t),o=i==null?void 0:i[On];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(Xne(n,i)&&(n!==void 0||tM(e.base_,t,e.type_)))return!0;Nh(e),Hx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),ore(e,t,n)),!0},deleteProperty(e,t){return Nh(e),J0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Hx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Vi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Ph]:!0,[$x]:e.type_!==1||t!=="length",[lp]:r[lp],[Ic]:n[t]}},defineProperty(){$r(11)},getPrototypeOf(e){return Tl(e.base_)},setPrototypeOf(){$r(12)}},Oc={};for(let e in dp){let t=dp[e];Oc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Oc.deleteProperty=function(e,t){return Oc.set.call(this,e,t,void 0)};Oc.set=function(e,t,n){return dp.set.call(this,e[0],t,n,e[0])};function J0(e,t){const n=e[On];return(n?Vi(n):e)[t]}function sre(e,t,n){var i;const r=D5(t,n);return r?Ic in r?r[Ic]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function D5(e,t){if(!(t in e))return;let n=Tl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Tl(n)}}function Hx(e){e.modified_||(e.modified_=!0,e.parent_&&Hx(e.parent_))}function Nh(e){e.copy_||(e.assigned_=new Map,e.copy_=Bx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ol(n)&&!ol(r)){const s=r;r=n;const u=this;return function(f=s,...h){return u.produce(f,p=>r.call(this,p,...h))}}ol(r)||$r(6),i!==void 0&&!ol(i)&&$r(7);let o;if(Yr(n)){const s=oM(this),u=Fx(s,n,void 0);let c=!0;try{o=r(u),c=!1}finally{c?qx(s):Gx(s)}return iM(s,i),aM(o,s)}else if(!n||!D_(n)){if(o=r(n),o===void 0&&(o=n),o===P5&&(o=void 0),this.autoFreeze_&&j_(o,!0),i){const s=[],u=[];Ya(Vx).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:u}),i(s,u)}return o}else $r(1,n)},this.produceWithPatches=(n,r)=>{if(ol(n))return(u,...c)=>this.produceWithPatches(u,f=>n(f,...c));let i,o;return[this.produce(n,r,(u,c)=>{i=u,o=c}),i,o]},Y0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Y0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Y0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Yr(t)||$r(8),Ji(t)&&(t=Fr(t));const n=oM(this),r=Fx(n,t,void 0);return r[On].isManual_=!0,Gx(n),r}finishDraft(t,n){const r=t&&t[On];(!r||!r.isManual_)&&$r(9);const{scope_:i}=r;return iM(i,n),aM(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ya(Vx).applyPatches_;return Ji(t)?i(t,n):this.produce(t,o=>i(o,n))}};function Fx(e,t,n,r){const[i,o]=vm(t)?Ya(cp).proxyMap_(t,n):ym(t)?Ya(cp).proxySet_(t,n):are(t,n);return((n==null?void 0:n.scope_)??I5()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?ire(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=c;o.modified_&&f&&f.generatePatches_(o,[],c)}),i}function Fr(e){return Ji(e)||$r(10,e),L5(e)}function L5(e){if(!Yr(e)||bm(e))return e;const t=e[On];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Bx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Bx(e,!0);return mm(n,(i,o)=>{up(n,i,L5(o))},r),t&&(t.finalized_=!1),n}var ure=new lre,j5=ure.produce;function U5(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var cre=U5(),fre=U5,dre=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ap:ap.apply(null,arguments)};function Pr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(sr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>C5(r)&&r.type===e,n}var $5=class ac extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ac.prototype)}static get[Symbol.species](){return ac}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ac(...t[0].concat(this)):new ac(...t.concat(this))}};function lM(e){return Yr(e)?j5(e,()=>{}):e}function oh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function hre(e){return typeof e=="boolean"}var pre=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new $5;return n&&(hre(n)?s.push(cre):s.push(fre(n.extraArgument))),s},z5="RTK_autoBatch",yt=()=>e=>({payload:e,meta:{[z5]:!0}}),uM=e=>t=>{setTimeout(t,e)},B5=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const u=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uM(10):e.type==="callback"?e.queueNotification:uM(e.timeout),f=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),g=r.subscribe(p);return u.add(h),()=>{g(),u.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[z5]),o=!i,o&&(s||(s=!0,c(f))),r.dispatch(h)}finally{i=!0}}})},mre=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new $5(e);return r&&i.push(B5(typeof r=="object"?r:void 0)),i};function gre(e){const t=pre(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(k_(n))u=A5(n);else throw new Error(sr(1));let c;typeof r=="function"?c=r(t):c=t();let f=ap;i&&(f=dre({trace:!1,...typeof i=="object"&&i}));const h=Yne(...c),p=mre(h);let g=typeof s=="function"?s(p):p();const b=f(...g);return T5(u,o,b)}function V5(e){const t={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(sr(28));if(u in t)throw new Error(sr(29));return t[u]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function vre(e){return typeof e=="function"}function yre(e,t){let[n,r,i]=V5(t),o;if(vre(e))o=()=>lM(e());else{const u=lM(e);o=()=>u}function s(u=o(),c){let f=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Ji(h)){const b=p(h,c);return b===void 0?h:b}else{if(Yr(h))return j5(h,g=>p(g,c));{const g=p(h,c);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},u)}return s.getInitialState=o,s}var bre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xre=(e=21)=>{let t="",n=e;for(;n--;)t+=bre[Math.random()*64|0];return t},wre=Symbol.for("rtk-slice-createasyncthunk");function _re(e,t){return`${e}/${t}`}function Sre({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[wre];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(sr(11));const u=(typeof i.reducers=="function"?i.reducers(Tre()):i.reducers)||{},c=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(I,O){const M=typeof I=="string"?I:I.type;if(!M)throw new Error(sr(12));if(M in f.sliceCaseReducersByType)throw new Error(sr(13));return f.sliceCaseReducersByType[M]=O,h},addMatcher(I,O){return f.sliceMatchers.push({matcher:I,reducer:O}),h},exposeAction(I,O){return f.actionCreators[I]=O,h},exposeCaseReducer(I,O){return f.sliceCaseReducersByName[I]=O,h}};c.forEach(I=>{const O=u[I],M={reducerName:I,type:_re(o,I),createNotation:typeof i.reducers=="function"};Cre(O)?Nre(M,O,h,t):Are(M,O,h)});function p(){const[I={},O=[],M=void 0]=typeof i.extraReducers=="function"?V5(i.extraReducers):[i.extraReducers],U={...I,...f.sliceCaseReducersByType};return yre(i.initialState,q=>{for(let V in U)q.addCase(V,U[V]);for(let V of f.sliceMatchers)q.addMatcher(V.matcher,V.reducer);for(let V of O)q.addMatcher(V.matcher,V.reducer);M&&q.addDefaultCase(M)})}const g=I=>I,b=new Map,S=new WeakMap;let E;function T(I,O){return E||(E=p()),E(I,O)}function C(){return E||(E=p()),E.getInitialState()}function R(I,O=!1){function M(q){let V=q[I];return typeof V>"u"&&O&&(V=oh(S,M,C)),V}function U(q=g){const V=oh(b,O,()=>new WeakMap);return oh(V,q,()=>{const ne={};for(const[ie,Y]of Object.entries(i.selectors??{}))ne[ie]=Ere(Y,q,()=>oh(S,q,C),O);return ne})}return{reducerPath:I,getSelectors:U,get selectors(){return U(M)},selectSlice:M}}const N={name:o,reducer:T,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:C,...R(s),injectInto(I,{reducerPath:O,...M}={}){const U=O??s;return I.inject({reducerPath:U,reducer:T},M),{...N,...R(U,!0)}}};return N}}function Ere(e,t,n,r){function i(o,...s){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...s)}return i.unwrapped=e,i}var Hn=Sre();function Tre(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Are({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!Pre(r))throw new Error(sr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Pr(e,s):Pr(e))}function Cre(e){return e._reducerDefinitionType==="asyncThunk"}function Pre(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Nre({type:e,reducerName:t},n,r,i){if(!i)throw new Error(sr(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:c,settled:f,options:h}=n,p=i(e,o,h);r.exposeAction(t,p),s&&r.addCase(p.fulfilled,s),u&&r.addCase(p.pending,u),c&&r.addCase(p.rejected,c),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:s||ah,pending:u||ah,rejected:c||ah,settled:f||ah})}function ah(){}var Rre="task",q5="listener",G5="completed",U_="cancelled",Ire=`task-${U_}`,Mre=`task-${G5}`,Kx=`${q5}-${U_}`,Ore=`${q5}-${G5}`,wm=class{constructor(e){dy(this,"name","TaskAbortError");dy(this,"message");this.code=e,this.message=`${Rre} ${U_} (reason: ${e})`}},$_=(e,t)=>{if(typeof e!="function")throw new TypeError(sr(32))},hp=()=>{},H5=(e,t=hp)=>(e.catch(t),e),F5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),qa=e=>{if(e.aborted)throw new wm(e.reason)};function K5(e,t){let n=hp;return new Promise((r,i)=>{const o=()=>i(new wm(e.reason));if(e.aborted){o();return}n=F5(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=hp})}var kre=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof wm?"cancelled":"rejected",error:n}}finally{t==null||t()}},pp=e=>t=>H5(K5(e,t).then(n=>(qa(e),n))),W5=e=>{const t=pp(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:wl}=Object,cM={},_m="listenerMiddleware",Dre=(e,t)=>{const n=r=>F5(e,()=>r.abort(e.reason));return(r,i)=>{$_(r);const o=new AbortController;n(o);const s=kre(async()=>{qa(e),qa(o.signal);const u=await r({pause:pp(o.signal),delay:W5(o.signal),signal:o.signal});return qa(o.signal),u},()=>o.abort(Mre));return i!=null&&i.autoJoin&&t.push(s.catch(hp)),{result:pp(e)(s),cancel(){o.abort(Ire)}}}},Lre=(e,t)=>{const n=async(r,i)=>{qa(t);let o=()=>{};const u=[new Promise((c,f)=>{let h=e({predicate:r,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await K5(t,Promise.race(u));return qa(t),c}finally{o()}};return(r,i)=>H5(n(r,i))},Y5=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Pr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(sr(21));return $_(o),{predicate:i,type:t,effect:o}},J5=wl(e=>{const{type:t,predicate:n,effect:r}=Y5(e);return{id:xre(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(sr(22))}}},{withTypes:()=>J5}),fM=(e,t)=>{const{type:n,effect:r,predicate:i}=Y5(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Wx=e=>{e.pending.forEach(t=>{t.abort(Kx)})},jre=(e,t)=>()=>{for(const n of t.keys())Wx(n);e.clear()},dM=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},X5=wl(Pr(`${_m}/add`),{withTypes:()=>X5}),Ure=Pr(`${_m}/removeAll`),Z5=wl(Pr(`${_m}/remove`),{withTypes:()=>Z5}),$re=(...e)=>{console.error(`${_m}/error`,...e)},tf=(e={})=>{const t=new Map,n=new Map,r=b=>{const S=n.get(b)??0;n.set(b,S+1)},i=b=>{const S=n.get(b)??1;S===1?n.delete(b):n.set(b,S-1)},{extra:o,onError:s=$re}=e;$_(s);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S!=null&&S.cancelActive&&Wx(b)}),c=b=>{const S=fM(t,b)??J5(b);return u(S)};wl(c,{withTypes:()=>c});const f=b=>{const S=fM(t,b);return S&&(S.unsubscribe(),b.cancelActive&&Wx(S)),!!S};wl(f,{withTypes:()=>f});const h=async(b,S,E,T)=>{const C=new AbortController,R=Lre(c,C.signal),N=[];try{b.pending.add(C),r(b),await Promise.resolve(b.effect(S,wl({},E,{getOriginalState:T,condition:(I,O)=>R(I,O).then(Boolean),take:R,delay:W5(C.signal),pause:pp(C.signal),extra:o,signal:C.signal,fork:Dre(C.signal,N),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((I,O,M)=>{I!==C&&(I.abort(Kx),M.delete(I))})},cancel:()=>{C.abort(Kx),b.pending.delete(C)},throwIfCancelled:()=>{qa(C.signal)}})))}catch(I){I instanceof wm||dM(s,I,{raisedBy:"effect"})}finally{await Promise.all(N),C.abort(Ore),i(b),b.pending.delete(C)}},p=jre(t,n);return{middleware:b=>S=>E=>{if(!C5(E))return S(E);if(X5.match(E))return c(E.payload);if(Ure.match(E)){p();return}if(Z5.match(E))return f(E.payload);let T=b.getState();const C=()=>{if(T===cM)throw new Error(sr(23));return T};let R;try{if(R=S(E),t.size>0){const N=b.getState(),I=Array.from(t.values());for(const O of I){let M=!1;try{M=O.predicate(E,N,T)}catch(U){M=!1,dM(s,U,{raisedBy:"predicate"})}M&&h(O,E,b,C)}}}finally{T=cM}return R},startListening:c,stopListening:f,clearListeners:p}};function sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Q5=Hn({name:"chartLayout",initialState:zre,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Bre,setLayout:Vre,setChartSize:qre,setScale:Gre}=Q5.actions,Hre=Q5.reducer;function eU(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function je(e){return Number.isFinite(e)}function gi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){Fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fre(e,t,n){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t,n){return xt(e)||xt(t)?n:mi(t)?El(e,t,n):typeof t=="function"?t(e):n}var Yre=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=t;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&ve(e[o]))return pl(pl({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&ve(e[s]))return pl(pl({},e),{},{[s]:e[s]+(i||0)})}return e},Qr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",tU=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,s=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||s.push(t),o||s.push(n),s},nU=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:u,isCategorical:c,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:b}=e;if(!s)return null;var S=u==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,E=i==="category"&&s.bandwidth?s.bandwidth()/S:0;if(E=b==="angleAxis"&&o&&o.length>=2?Vn(o[0]-o[1])*2*E:E,p||g){var T=(p||g||[]).map((C,R)=>{var N=r?r.indexOf(C):C,I=s.map(N);return je(I)?{coordinate:I+E,value:C,offset:E,index:R}:null}).filter(qn);return T}return c&&f?f.map((C,R)=>{var N=s.map(C);return je(N)?{coordinate:N+E,value:C,index:R,offset:E}:null}).filter(qn):s.ticks&&h!=null?s.ticks(h).map((C,R)=>{var N=s.map(C);return je(N)?{coordinate:N+E,value:C,index:R,offset:E}:null}).filter(qn):s.domain().map((C,R)=>{var N=s.map(C);return je(N)?{coordinate:N+E,value:r?r[C]:C,index:R,offset:E}:null}).filter(qn)},Jre=(e,t)=>{if(!t||t.length!==2||!ve(t[0])||!ve(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(i[0]=n),(!ve(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Xre=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0,u=0;u<n;++u){var c=e[u],f=c==null?void 0:c[i];if(f!=null){var h=f[1],p=f[0],g=Kr(h)?p:h;g>=0?(f[0]=o,o+=g,f[1]=o):(f[0]=s,s+=g,f[1]=s)}}}},Zre=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,s=0;s<n;++s){var u=e[s],c=u==null?void 0:u[i];if(c!=null){var f=Kr(c[1])?c[0]:c[1];f>=0?(c[0]=o,o+=f,c[1]=o):(c[0]=0,c[1]=0)}}}},Qre={sign:Xre,expand:Cte,none:Ka,silhouette:Pte,wiggle:Nte,positive:Zre},eie=(e,t,n)=>{var r,i=(r=Qre[n])!==null&&r!==void 0?r:Ka,o=Ate().keys(t).value((u,c)=>Number(Nt(u,c,0))).order(jx).offset(i),s=o(e);return s.forEach((u,c)=>{u.forEach((f,h)=>{var p=Nt(e[h],t[c],0);Array.isArray(p)&&p.length===2&&ve(p[0])&&ve(p[1])&&(f[0]=p[0],f[1]=p[1])})}),s};function rU(e){return e==null?void 0:String(e)}function mp(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xt(i[t.dataKey])){var u=u5(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var c=Nt(i,xt(s)?t.dataKey:s),f=t.scale.map(c);return ve(f)?f:null}var pM=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var u=Nt(o,t.dataKey,t.scale.domain()[s]);if(xt(u))return null;var c=t.scale.map(u);return ve(c)?c-i/2+r:null},tie=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},nie=e=>{var t=e.flat(2).filter(ve);return[Math.min(...t),Math.max(...t)]},rie=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],iie=(e,t,n)=>{if(e!=null)return rie(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:s}=o,u=s.reduce((c,f)=>{var h=eU(f,t,n),p=nie(h);return!je(p[0])||!je(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},mM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zo=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=hm(t,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var c=i[s],f=i[s-1];o=Math.min(((c==null?void 0:c.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function vM(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return pl(pl({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Ul(e,t){if(e)return String(e);if(typeof t=="string")return t}var oie=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},aie=(e,t)=>t==="centric"?e.angle:e.radius,ao=e=>e.layout.width,so=e=>e.layout.height,sie=e=>e.layout.scale,iU=e=>e.layout.margin,Sm=te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Em=te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lie="data-recharts-item-index",uie="data-recharts-item-id",nf=60;function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){cie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cie(e,t,n){return(t=fie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hie=e=>e.brush.height;function pie(e){var t=Em(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:nf;return n+i}return n},0)}function mie(e){var t=Em(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:nf;return n+i}return n},0)}function gie(e){var t=Sm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function vie(e){var t=Sm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var tn=te([ao,so,iU,hie,pie,mie,gie,vie,E5,qne],(e,t,n,r,i,o,s,u,c,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+s,bottom:(n.bottom||0)+u},g=sh(sh({},p),h),b=g.bottom;g.bottom+=r,g=Yre(g,c,f);var S=e-g.left-g.right,E=t-g.top-g.bottom;return sh(sh({brushBottom:b},g),{},{width:Math.max(S,0),height:Math.max(E,0)})}),yie=te(tn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),z_=te(ao,so,(e,t)=>({x:0,y:0,width:e,height:t})),bie=A.createContext(null),nn=()=>A.useContext(bie)!=null,Tm=e=>e.brush,Am=te([Tm,tn,iU],(e,t,n)=>({height:e.height,x:ve(e.x)?e.x:t.left,y:ve(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ve(e.width)?e.width:t.width})),X0={},Z0={},Q0={},bM;function xie(){return bM||(bM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let s,u=null;const c=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},p=()=>{f&&h(),E()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},r)},S=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{S(),s=void 0,u=null},T=()=>{h()},C=function(...R){if(i!=null&&i.aborted)return;s=this,u=R;const N=g==null;b(),c&&N&&h()};return C.schedule=b,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(Q0)),Q0}var xM;function wie(){return xM||(xM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xie();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:c}=o,f=Array(2);s&&(f[0]="leading"),u&&(f[1]="trailing");let h,p=null;const g=t.debounce(function(...E){h=r.apply(this,E),p=null},i,{edges:f}),b=function(...E){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(h=r.apply(this,E),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,E),h)},S=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=S,b}e.debounce=n})(Z0)),Z0}var wM;function _ie(){return wM||(wM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wie();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:s,maxWait:i,trailing:u})}e.throttle=n})(X0)),X0}var eb,_M;function Sie(){return _M||(_M=1,eb=_ie().throttle),eb}var Eie=Sie();const Tie=Jr(Eie);var gp=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},ci={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},oU=(e,t,n)=>{var{width:r=ci.width,height:i=ci.height,aspect:o,maxHeight:s}=n,u=Wa(r)?e:Number(r),c=Wa(i)?t:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},Aie={width:0,height:0,overflow:"visible"},Cie={width:0,overflowX:"visible"},Pie={height:0,overflowY:"visible"},Nie={},Rie=e=>{var{width:t,height:n}=e,r=Wa(t),i=Wa(n);return r&&i?Aie:r?Cie:i?Pie:Nie};function Iie(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=ci.width,o=ci.height):i===void 0?i=r&&r>0?void 0:ci.width:o===void 0&&(o=r&&r>0?void 0:ci.height),{width:i,height:o}}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){Mie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mie(e,t,n){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aU=A.createContext(ci.initialDimension);function Die(e){return gi(e.width)&&gi(e.height)}function sU(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Die(i)?A.createElement(aU.Provider,{value:i},t):null}var B_=()=>A.useContext(aU),Lie=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=ci.initialDimension,width:i,height:o,minWidth:s=ci.minWidth,minHeight:u,maxHeight:c,children:f,debounce:h=ci.debounce,id:p,className:g,onResize:b,style:S={}}=e,E=A.useRef(null),T=A.useRef();T.current=b,A.useImperativeHandle(t,()=>E.current);var[C,R]=A.useState({containerWidth:r.width,containerHeight:r.height}),N=A.useCallback((q,V)=>{R(ne=>{var ie=Math.round(q),Y=Math.round(V);return ne.containerWidth===ie&&ne.containerHeight===Y?ne:{containerWidth:ie,containerHeight:Y}})},[]);A.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return ta;var q=Y=>{var L,H=Y[0];if(H!=null){var{width:j,height:D}=H.contentRect;N(j,D),(L=T.current)===null||L===void 0||L.call(T,j,D)}};h>0&&(q=Tie(q,h,{trailing:!0,leading:!1}));var V=new ResizeObserver(q),{width:ne,height:ie}=E.current.getBoundingClientRect();return N(ne,ie),V.observe(E.current),()=>{V.disconnect()}},[N,h]);var{containerWidth:I,containerHeight:O}=C;gp(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:U}=oU(I,O,{width:i,height:o,aspect:n,maxHeight:c});return gp(M!=null&&M>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,U,i,o,s,u,n),A.createElement("div",{id:p?"".concat(p):void 0,className:et("recharts-responsive-container",g),style:EM(EM({},S),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:c}),ref:E},A.createElement("div",{style:Rie({width:i,height:o})},A.createElement(sU,{width:M,height:U},f)))}),tb=A.forwardRef((e,t)=>{var n=B_();if(gi(n.width)&&gi(n.height))return e.children;var{width:r,height:i}=Iie({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:s}=oU(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ve(o)&&ve(s)?A.createElement(sU,{width:o,height:s},e.children):A.createElement(Lie,Yx({},e,{width:r,height:i,ref:t}))});function V_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cm=()=>{var e,t=nn(),n=Ce(yie),r=Ce(Am),i=(e=Ce(Tm))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},jie={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lU=()=>{var e;return(e=Ce(tn))!==null&&e!==void 0?e:jie},uU=()=>Ce(ao),cU=()=>Ce(so),We=e=>e.layout.layoutType,na=()=>Ce(We),q_=()=>{var e=na();if(e==="horizontal"||e==="vertical")return e},fU=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Uie=()=>{var e=na();return e!==void 0},rf=e=>{var t=Mt(),n=nn(),{width:r,height:i}=e,o=B_(),s=r,u=i;return o&&(s=o.width>0?o.width:r,u=o.height>0?o.height:i),A.useEffect(()=>{!n&&gi(s)&&gi(u)&&t(qre({width:s,height:u}))},[t,n,s,u]),null},dU=Symbol.for("immer-nothing"),TM=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function zr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kc=Object.getPrototypeOf;function Al(e){return!!e&&!!e[ur]}function Ja(e){var t;return e?hU(e)||Array.isArray(e)||!!e[TM]||!!((t=e.constructor)!=null&&t[TM])||of(e)||Nm(e):!1}var $ie=Object.prototype.constructor.toString(),AM=new WeakMap;function hU(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=AM.get(n);return r===void 0&&(r=Function.toString.call(n),AM.set(n,r)),r===$ie}function vp(e,t,n=!0){Pm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Pm(e){const t=e[ur];return t?t.type_:Array.isArray(e)?1:of(e)?2:Nm(e)?3:0}function Jx(e,t){return Pm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pU(e,t,n){const r=Pm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zie(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function of(e){return e instanceof Map}function Nm(e){return e instanceof Set}function Ia(e){return e.copy_||e.base_}function Xx(e,t){if(of(e))return new Map(e);if(Nm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=hU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ur];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[s]})}return Object.create(kc(e),r)}else{const r=kc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function G_(e,t=!1){return Rm(e)||Al(e)||!Ja(e)||(Pm(e)>1&&Object.defineProperties(e,{set:lh,add:lh,clear:lh,delete:lh}),Object.freeze(e),t&&Object.values(e).forEach(n=>G_(n,!0))),e}function Bie(){zr(2)}var lh={value:Bie};function Rm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Vie={};function Xa(e){const t=Vie[e];return t||zr(0,e),t}var Dc;function mU(){return Dc}function qie(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CM(e,t){t&&(Xa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zx(e){Qx(e),e.drafts_.forEach(Gie),e.drafts_=null}function Qx(e){e===Dc&&(Dc=e.parent_)}function PM(e){return Dc=qie(Dc,e)}function Gie(e){const t=e[ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ur].modified_&&(Zx(t),zr(4)),Ja(e)&&(e=yp(t,e),t.parent_||bp(t,e)),t.patches_&&Xa("Patches").generateReplacementPatches_(n[ur].base_,e,t.patches_,t.inversePatches_)):e=yp(t,n,[]),Zx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dU?e:void 0}function yp(e,t,n){if(Rm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ur];if(!i)return vp(t,(o,s)=>RM(e,i,t,o,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return bp(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,u=!1;i.type_===3&&(s=new Set(o),o.clear(),u=!0),vp(s,(c,f)=>RM(e,i,o,c,f,n,u),r),bp(e,o,!1),n&&e.patches_&&Xa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function RM(e,t,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const u=Rm(i);if(!(u&&!s)){if(Al(i)){const c=o&&t&&t.type_!==3&&!Jx(t.assigned_,r)?o.concat(r):void 0,f=yp(e,i,c);if(pU(n,r,f),Al(f))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Ja(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;yp(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(of(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&bp(e,i)}}}function bp(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&G_(t,n)}function Hie(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:mU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=H_;n&&(i=[r],o=Lc);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var H_={get(e,t){if(t===ur)return e;const n=Ia(e);if(!Jx(n,t))return Fie(e,n,t);const r=n[t];return e.finalized_||!Ja(r)?r:r===nb(e.base_,t)?(rb(e),e.copy_[t]=tw(r,e)):r},has(e,t){return t in Ia(e)},ownKeys(e){return Reflect.ownKeys(Ia(e))},set(e,t,n){const r=gU(Ia(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=nb(Ia(e),t),o=i==null?void 0:i[ur];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zie(n,i)&&(n!==void 0||Jx(e.base_,t)))return!0;rb(e),ew(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rb(e),ew(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ia(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){zr(11)},getPrototypeOf(e){return kc(e.base_)},setPrototypeOf(){zr(12)}},Lc={};vp(H_,(e,t)=>{Lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lc.deleteProperty=function(e,t){return Lc.set.call(this,e,t,void 0)};Lc.set=function(e,t,n){return H_.set.call(this,e[0],t,n,e[0])};function nb(e,t){const n=e[ur];return(n?Ia(n):e)[t]}function Fie(e,t,n){var i;const r=gU(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function gU(e,t){if(!(t in e))return;let n=kc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=kc(n)}}function ew(e){e.modified_||(e.modified_=!0,e.parent_&&ew(e.parent_))}function rb(e){e.copy_||(e.copy_=Xx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Kie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(c=o,...f){return s.produce(c,h=>n.call(this,h,...f))}}typeof n!="function"&&zr(6),r!==void 0&&typeof r!="function"&&zr(7);let i;if(Ja(t)){const o=PM(this),s=tw(t,void 0);let u=!0;try{i=n(s),u=!1}finally{u?Zx(o):Qx(o)}return CM(o,r),NM(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===dU&&(i=void 0),this.autoFreeze_&&G_(i,!0),r){const o=[],s=[];Xa("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else zr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...u)=>this.produceWithPatches(s,c=>t(c,...u));let r,i;return[this.produce(t,n,(s,u)=>{r=s,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ja(e)||zr(8),Al(e)&&(e=Wie(e));const t=PM(this),n=tw(e,void 0);return n[ur].isManual_=!0,Qx(t),n}finishDraft(e,t){const n=e&&e[ur];(!n||!n.isManual_)&&zr(9);const{scope_:r}=n;return CM(r,t),NM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Xa("Patches").applyPatches_;return Al(e)?r(e,t):this.produce(e,i=>r(i,t))}};function tw(e,t){const n=of(e)?Xa("MapSet").proxyMap_(e,t):Nm(e)?Xa("MapSet").proxySet_(e,t):Hie(e,t);return(t?t.scope_:mU()).drafts_.push(n),n}function Wie(e){return Al(e)||zr(10,e),vU(e)}function vU(e){if(!Ja(e)||Rm(e))return e;const t=e[ur];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Xx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Xx(e,!0);return vp(n,(i,o)=>{pU(n,i,vU(o))},r),t&&(t.finalized_=!1),n}var Yie=new Kie;Yie.produce;var Jie={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yU=Hn({name:"legend",initialState:Jie,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:yt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Fr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:yt()},removeLegendPayload:{reducer(e,t){var n=Fr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:yt()}}}),{setLegendSize:I0e,setLegendSettings:M0e,addLegendPayload:Xie,replaceLegendPayload:Zie,removeLegendPayload:Qie}=yU.actions,eoe=yU.reducer;function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){toe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function toe(e,t,n){return(t=noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function noe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ioe(e){return Array.isArray(e)&&mi(e[0])&&mi(e[1])?e.join(" ~ "):e}var Ys={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},ooe=e=>{var{separator:t=Ys.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ys.labelStyle,payload:o,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=Ys.accessibilityLayer}=e,b=()=>{if(o&&o.length){var O={padding:0,margin:0},M=(u?hm(o,u):o).map((U,q)=>{if(U.type==="none")return null;var V=U.formatter||s||ioe,{value:ne,name:ie}=U,Y=ne,L=ie;if(V){var H=V(ne,ie,U,q,o);if(Array.isArray(H))[Y,L]=H;else if(H!=null)Y=H;else return null}var j=Wu(Wu({},Ys.itemStyle),{},{color:U.color||Ys.itemStyle.color},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:j},mi(L)?A.createElement("span",{className:"recharts-tooltip-item-name"},L):null,mi(L)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},Y),A.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:O},M)}return null},S=Wu(Wu({},Ys.contentStyle),n),E=Wu({margin:0},i),T=!xt(h),C=T?h:"",R=et("recharts-default-tooltip",c),N=et("recharts-tooltip-label",f);T&&p&&o!==void 0&&o!==null&&(C=p(h,o));var I=g?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",nw({className:R,style:S},I),A.createElement("p",{className:N,style:E},A.isValidElement(C)?C:"".concat(C)),b())},Yu="recharts-tooltip-wrapper",aoe={visibility:"hidden"};function soe(e){var{coordinate:t,translateX:n,translateY:r}=e;return et(Yu,{["".concat(Yu,"-right")]:ve(n)&&t&&ve(t.x)&&n>=t.x,["".concat(Yu,"-left")]:ve(n)&&t&&ve(t.x)&&n<t.x,["".concat(Yu,"-bottom")]:ve(r)&&t&&ve(t.y)&&r>=t.y,["".concat(Yu,"-top")]:ve(r)&&t&&ve(t.y)&&r<t.y})}function MM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:f}=e;if(o&&ve(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),p=n[r]+i;if(t[r])return s[r]?h:p;var g=c[r];if(g==null)return 0;if(s[r]){var b=h,S=g;return b<S?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var E=p+u,T=g+f;return E>T?Math.max(h,g):Math.max(p,g)}function loe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function uoe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:s,tooltipBox:u,useTranslate3d:c,viewBox:f}=e,h,p,g;return u.height>0&&u.width>0&&n?(p=MM({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:s,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),g=MM({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:s,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),h=loe({translateX:p,translateY:g,useTranslate3d:c})):h=aoe,{cssProperties:h,cssClasses:soe({translateX:p,translateY:g,coordinate:n})}}function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){rw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rw(e,t,n){return(t=coe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function coe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class doe extends A.PureComponent{constructor(){super(...arguments),rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:c,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:b,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,R=typeof f=="number"?f:f.x,N=typeof f=="number"?f:f.y,{cssClasses:I,cssProperties:O}=uoe({allowEscapeViewBox:n,coordinate:s,offsetLeft:R,offsetTop:N,position:h,reverseDirection:p,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:b}),M=C?{}:uh(uh({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),U=uh(uh({},M),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:U,ref:T},o)}}var bU=()=>{var e;return(e=Ce(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iw.apply(null,arguments)}function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){hoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hoe(e,t,n){return(t=poe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function poe(e){var t=moe(e,"string");return typeof t=="symbol"?t:t+""}function moe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LM={curveBasisClosed:mte,curveBasisOpen:gte,curveBasis:pte,curveBumpX:ete,curveBumpY:tte,curveLinearClosed:vte,curveLinear:fm,curveMonotoneX:yte,curveMonotoneY:bte,curveNatural:xte,curveStep:wte,curveStepAfter:Ste,curveStepBefore:_te},xp=e=>je(e.x)&&je(e.y),jM=e=>e.base!=null&&xp(e.base)&&xp(e),Ju=e=>e.x,Xu=e=>e.y,goe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qc(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=LM["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return LM[n]||fm},UM={connectNulls:!1,type:"linear"},voe=e=>{var{type:t=UM.type,points:n=[],baseLine:r,layout:i,connectNulls:o=UM.connectNulls}=e,s=goe(t,i),u=o?n.filter(xp):n;if(Array.isArray(r)){var c,f=n.map((S,E)=>DM(DM({},S),{},{base:r[E]}));i==="vertical"?c=th().y(Xu).x1(Ju).x0(S=>S.base.x):c=th().x(Ju).y1(Xu).y0(S=>S.base.y);var h=c.defined(jM).curve(s),p=o?f.filter(jM):f;return h(p)}var g;i==="vertical"&&ve(r)?g=th().y(Xu).x1(Ju).x0(r):ve(r)?g=th().x(Ju).y1(Xu).y0(r):g=Jj().x(Ju).y(Xu);var b=g.defined(xp).curve(s);return b(u)},mc=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=na();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?voe(s):r;return A.createElement("path",iw({},lr(e),N_(e),{className:et("recharts-curve",t),d:u===null?void 0:u,ref:i}))},yoe=["x","y","top","left","width","height","className"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ow.apply(null,arguments)}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function boe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){xoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xoe(e,t,n){return(t=woe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function woe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Soe(e,t){if(e==null)return{};var n,r,i=Eoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Toe=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),Aoe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=e,c=Soe(e,yoe),f=boe({x:t,y:n,top:r,left:i,width:o,height:s},c);return!ve(t)||!ve(n)||!ve(o)||!ve(s)||!ve(r)||!ve(i)?null:A.createElement("path",ow({},En(f),{className:et("recharts-cross",u),d:Toe(t,n,o,s,r,i)}))};function Coe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){Poe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Poe(e,t,n){return(t=Noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=Roe(e,"string");return typeof t=="symbol"?t:t+""}function Roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ioe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xU=(e,t,n)=>e.map(r=>"".concat(Ioe(r)," ").concat(t,"ms ").concat(n)).join(","),Moe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),jc=(e,t)=>Object.keys(t).reduce((n,r)=>BM(BM({},n),{},{[r]:e(r,t[r])}),{});function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){Ooe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ooe(e,t,n){return(t=koe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function koe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wp=(e,t,n)=>e+(t-e)*n,aw=e=>{var{from:t,to:n}=e;return t!==n},wU=(e,t,n)=>{var r=jc((i,o)=>{if(aw(o)){var[s,u]=e(o.from,o.to,o.velocity);return qt(qt({},o),{},{from:s,velocity:u})}return o},t);return n<1?jc((i,o)=>aw(o)&&r[i]!=null?qt(qt({},o),{},{velocity:wp(o.velocity,r[i].velocity,n),from:wp(o.from,r[i].from,n)}):o,t):wU(e,r,n-1)};function Loe(e,t,n,r,i,o){var s,u=r.reduce((g,b)=>qt(qt({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),c=()=>jc((g,b)=>b.from,u),f=()=>!Object.values(u).filter(aw).length,h=null,p=g=>{s||(s=g);var b=g-s,S=b/n.dt;u=wU(n,u,S),i(qt(qt(qt({},e),t),c())),s=g,f()||(h=o.setTimeout(p))};return()=>(h=o.setTimeout(p),()=>{var g;(g=h)===null||g===void 0||g()})}function joe(e,t,n,r,i,o,s){var u=null,c=i.reduce((p,g)=>{var b=e[g],S=t[g];return b==null||S==null?p:qt(qt({},p),{},{[g]:[b,S]})},{}),f,h=p=>{f||(f=p);var g=(p-f)/r,b=jc((E,T)=>wp(...T,n(g)),c);if(o(qt(qt(qt({},e),t),b)),g<1)u=s.setTimeout(h);else{var S=jc((E,T)=>wp(...T,n(1)),c);o(qt(qt(qt({},e),t),S))}};return()=>(u=s.setTimeout(h),()=>{var p;(p=u)===null||p===void 0||p()})}const Uoe=(e,t,n,r,i,o)=>{var s=Moe(e,t);return n==null?()=>(i(qt(qt({},e),t)),()=>{}):n.isStepper===!0?Loe(e,t,n,s,i,o):joe(e,t,n,r,s,i,o)};var _p=1e-4,_U=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],SU=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),qM=(e,t)=>n=>{var r=_U(e,t);return SU(r,n)},$oe=(e,t)=>n=>{var r=_U(e,t),i=[...r.map((o,s)=>o*s).slice(1),0];return SU(i,n)},zoe=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},Boe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=zoe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Voe=(e,t,n,r)=>{var i=qM(e,n),o=qM(t,r),s=$oe(e,n),u=f=>f>1?1:f<0?0:f,c=f=>{for(var h=f>1?1:f,p=h,g=0;g<8;++g){var b=i(p)-h,S=s(p);if(Math.abs(b-h)<_p||S<_p)return o(p);p=u(p-b/S)}return o(p)};return c.isStepper=!1,c},GM=function(){return Voe(...Boe(...arguments))},qoe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(s,u,c)=>{var f=-(s-u)*n,h=c*r,p=c+(f-h)*i/1e3,g=c*i/1e3+s;return Math.abs(g-u)<_p&&Math.abs(p)<_p?[u,0]:[g,p]};return o.isStepper=!0,o.dt=i,o},Goe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GM(e);case"spring":return qoe();default:if(e.split("(")[0]==="cubic-bezier")return GM(e)}return typeof e=="function"?e:null};function Hoe(e){var t,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...f]=u;if(typeof c=="number"){i=e.setTimeout(o.bind(null,f),c);return}o(c),i=e.setTimeout(o.bind(null,f));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class Foe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function Koe(){return Hoe(new Foe)}var Woe=A.createContext(Koe);function Yoe(e,t){var n=A.useContext(Woe);return A.useMemo(()=>t??n(e),[e,t,n])}var Joe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),af={isSsr:Joe()},Xoe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HM={t:0},ib={t:1};function sf(e){var t=bn(e,Xoe),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:c,children:f}=t,h=n==="auto"?!af.isSsr:n,p=Yoe(t.animationId,t.animationManager),[g,b]=A.useState(h?HM:ib),S=A.useRef(null);return A.useEffect(()=>{h||b(ib)},[h]),A.useEffect(()=>{if(!h||!r)return ta;var E=Uoe(HM,ib,Goe(o),i,b,p.getTimeoutController()),T=()=>{S.current=E()};return p.start([c,s,T,i,u]),()=>{p.stop(),S.current&&S.current(),u()}},[h,r,i,o,s,c,u,p]),f(g.t)}function lf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Rc(t)),r=A.useRef(e);return r.current!==e&&(n.current=Rc(t),r.current=e),n.current}var Zoe=["radius"],Qoe=["radius"],FM,KM,WM,YM,JM,XM,ZM,QM,eO,tO;function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(r){eae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eae(e,t,n){return(t=tae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sp.apply(null,arguments)}function iO(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var oO=(e,t,n,r,i)=>{var o=Wo(n),s=Wo(r),u=Math.min(Math.abs(o)/2,Math.abs(s)/2),c=s>=0?1:-1,f=o>=0?1:-1,h=s>=0&&o>=0||s<0&&o<0?1:0,p;if(u>0&&Array.isArray(i)){for(var g=[0,0,0,0],b=0,S=4;b<S;b++){var E,T=(E=i[b])!==null&&E!==void 0?E:0;g[b]=T>u?u:T}p=Pt(FM||(FM=oi(["M",",",""])),e,t+c*g[0]),g[0]>0&&(p+=Pt(KM||(KM=oi(["A ",",",",0,0,",",",",",""])),g[0],g[0],h,e+f*g[0],t)),p+=Pt(WM||(WM=oi(["L ",",",""])),e+n-f*g[1],t),g[1]>0&&(p+=Pt(YM||(YM=oi(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],h,e+n,t+c*g[1])),p+=Pt(JM||(JM=oi(["L ",",",""])),e+n,t+r-c*g[2]),g[2]>0&&(p+=Pt(XM||(XM=oi(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],h,e+n-f*g[2],t+r)),p+=Pt(ZM||(ZM=oi(["L ",",",""])),e+f*g[3],t+r),g[3]>0&&(p+=Pt(QM||(QM=oi(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],h,e,t+r-c*g[3])),p+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);p=Pt(eO||(eO=oi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*C,C,C,h,e+f*C,t,e+n-f*C,t,C,C,h,e+n,t+c*C,e+n,t+r-c*C,C,C,h,e+n-f*C,t+r,e+f*C,t+r,C,C,h,e,t+r-c*C)}else p=Pt(tO||(tO=oi(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return p},aO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EU=e=>{var t=bn(e,aO),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var z=n.current.getTotalLength();z&&i(z)}catch{}},[]);var{x:o,y:s,width:u,height:c,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=A.useRef(u),C=A.useRef(c),R=A.useRef(o),N=A.useRef(s),I=A.useMemo(()=>({x:o,y:s,width:u,height:c,radius:f}),[o,s,u,c,f]),O=lf(I,"rectangle-");if(o!==+o||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var M=et("recharts-rectangle",h);if(!E){var U=En(t),{radius:q}=U,V=iO(U,Zoe);return A.createElement("path",Sp({},V,{x:Wo(o),y:Wo(s),width:Wo(u),height:Wo(c),radius:typeof f=="number"?f:void 0,className:M,d:oO(o,s,u,c,f)}))}var ne=T.current,ie=C.current,Y=R.current,L=N.current,H="0px ".concat(r===-1?1:r,"px"),j="".concat(r,"px 0px"),D=xU(["strokeDasharray"],g,typeof p=="string"?p:aO.animationEasing);return A.createElement(sf,{animationId:O,key:O,canBegin:r>0,duration:g,easing:p,isActive:E,begin:b},z=>{var F=at(ne,u,z),J=at(ie,c,z),se=at(Y,o,z),$=at(L,s,z);n.current&&(T.current=F,C.current=J,R.current=se,N.current=$);var W;S?z>0?W={transition:D,strokeDasharray:j}:W={strokeDasharray:H}:W={strokeDasharray:j};var ce=En(t),{radius:ue}=ce,de=iO(ce,Qoe);return A.createElement("path",Sp({},de,{radius:typeof f=="number"?f:void 0,className:M,d:oO(se,$,F,J,f),ref:n,style:rO(rO({},W),t.style)}))})};function sO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(n),!0).forEach(function(r){iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iae(e,t,n){return(t=oae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oae(e){var t=aae(e,"string");return typeof t=="symbol"?t:t+""}function aae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ep=Math.PI/180,sae=e=>e*180/Math.PI,yn=(e,t,n,r)=>({x:e+Math.cos(-Ep*r)*n,y:t+Math.sin(-Ep*r)*n}),lae=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},uae=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},cae=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,s=uae({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:s,angle:sae(c),angleInRadian:c}},fae=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},dae=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return e+s*360},hae=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=cae({x:n,y:r},t),{innerRadius:s,outerRadius:u}=t;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:f}=fae(t),h=o,p;if(c<=f){for(;h>f;)h-=360;for(;h<c;)h+=360;p=h>=c&&h<=f}else{for(;h>c;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=c}return p?lO(lO({},t),{},{radius:i,angle:dae(h,t)}):null};function TU(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,s=yn(t,n,r,i),u=yn(t,n,r,o);return{points:[s,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var uO,cO,fO,dO,hO,pO,mO;function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sw.apply(null,arguments)}function Ua(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pae=(e,t)=>{var n=Vn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ch=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:c}=e,f=u*(s?1:-1)+r,h=Math.asin(u/f)/Ep,p=c?i:i+o*h,g=yn(t,n,f,p),b=yn(t,n,r,p),S=c?i-o*h:i,E=yn(t,n,f*Math.cos(h*Ep),S);return{center:g,circleTangency:b,lineTangency:E,theta:h}},AU=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=e,u=pae(o,s),c=o+u,f=yn(t,n,i,o),h=yn(t,n,i,c),p=Pt(uO||(uO=Ua(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>c),h.x,h.y);if(r>0){var g=yn(t,n,r,o),b=yn(t,n,r,c);p+=Pt(cO||(cO=Ua(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,r,r,+(Math.abs(u)>180),+(o<=c),g.x,g.y)}else p+=Pt(fO||(fO=Ua(["L ",","," Z"])),t,n);return p},mae=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:f}=e,h=Vn(f-c),{circleTangency:p,lineTangency:g,theta:b}=ch({cx:t,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=ch({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),C=u?Math.abs(c-f):Math.abs(c-f)-b-T;if(C<0)return s?Pt(dO||(dO=Ua(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,o,o,o*2,o,o,-o*2):AU({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:f});var R=Pt(hO||(hO=Ua(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,o,o,+(h<0),p.x,p.y,i,i,+(C>180),+(h<0),S.x,S.y,o,o,+(h<0),E.x,E.y);if(r>0){var{circleTangency:N,lineTangency:I,theta:O}=ch({cx:t,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:M,lineTangency:U,theta:q}=ch({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),V=u?Math.abs(c-f):Math.abs(c-f)-O-q;if(V<0&&o===0)return"".concat(R,"L").concat(t,",").concat(n,"Z");R+=Pt(pO||(pO=Ua(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),U.x,U.y,o,o,+(h<0),M.x,M.y,r,r,+(V>180),+(h>0),N.x,N.y,o,o,+(h<0),I.x,I.y)}else R+=Pt(mO||(mO=Ua(["L",",","Z"])),t,n);return R},gae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CU=e=>{var t=bn(e,gae),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h,className:p}=t;if(o<i||f===h)return null;var g=et("recharts-sector",p),b=o-i,S=Wr(s,b,0,!0),E;return S>0&&Math.abs(f-h)<360?E=mae({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:f,endAngle:h}):E=AU({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),A.createElement("path",sw({},En(t),{className:g,d:E}))};function vae(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(d5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:u}=t,c=yn(r,i,o,u),f=yn(r,i,s,u);return[{x:c.x,y:c.y},{x:f.x,y:f.y}]}return TU(t)}}var ob={},ab={},sb={},gO;function yae(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_5();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(sb)),sb}var vO;function bae(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yae();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(ab)),ab}var yO;function xae(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5(),n=bae();function r(i,o,s){s&&typeof s!="number"&&t.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),c=new Array(u);for(let f=0;f<u;f++)c[f]=i,i+=s;return c}e.range=r})(ob)),ob}var lb,bO;function wae(){return bO||(bO=1,lb=xae().range),lb}var _ae=wae();const PU=Jr(_ae);function Yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function F_(e){let t,n,r;e.length!==2?(t=Yo,n=(u,c)=>Yo(e(u),c),r=(u,c)=>e(u)-c):(t=e===Yo||e===Sae?e:Eae,n=e,r=e);function i(u,c,f=0,h=u.length){if(f<h){if(t(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(u,c,f=0,h=u.length){if(f<h){if(t(c,c)!==0)return h;do{const p=f+h>>>1;n(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:s,right:o}}function Eae(){return 0}function NU(e){return e===null?NaN:+e}function*Tae(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Aae=F_(Yo),uf=Aae.right;F_(NU).center;class xO extends Map{constructor(t,n=Nae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wO(this,t))}has(t){return super.has(wO(this,t))}set(t,n){return super.set(Cae(this,t),n)}delete(t){return super.delete(Pae(this,t))}}function wO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Cae({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Pae({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Nae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rae(e=Yo){if(e===Yo)return RU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function RU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Iae=Math.sqrt(50),Mae=Math.sqrt(10),Oae=Math.sqrt(2);function Tp(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Iae?10:o>=Mae?5:o>=Oae?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(e*f),c=Math.round(t*f),u/f<e&&++u,c/f>t&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(e/f),c=Math.round(t/f),u*f<e&&++u,c*f>t&&--c),c<u&&.5<=n&&n<2?Tp(e,t,n*2):[u,c,f]}function lw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Tp(t,e,n):Tp(e,t,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(s<0)for(let f=0;f<u;++f)c[f]=(o-f)/-s;else for(let f=0;f<u;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function uw(e,t,n){return t=+t,e=+e,n=+n,Tp(e,t,n)[2]}function cw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?uw(t,e,n):uw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function _O(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function SO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function IU(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?RU:Rae(i);r>n;){if(r-n>600){const c=r-n+1,f=t-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),b=Math.max(n,Math.floor(t-f*p/c+g)),S=Math.min(r,Math.floor(t+(c-f)*p/c+g));IU(e,t,b,S,i)}const o=e[t];let s=n,u=r;for(Zu(e,n,t),i(e[r],o)>0&&Zu(e,n,r);s<u;){for(Zu(e,s,u),++s,--u;i(e[s],o)<0;)++s;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?Zu(e,n,u):(++u,Zu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Zu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function kae(e,t,n){if(e=Float64Array.from(Tae(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return SO(e);if(t>=1)return _O(e);var r,i=(r-1)*t,o=Math.floor(i),s=_O(IU(e,o).subarray(0,o+1)),u=SO(e.subarray(o+1));return s+(u-s)*(i-o)}}function Dae(e,t,n=NU){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return s+(u-s)*(i-o)}}function Lae(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Rr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fw=Symbol("implicit");function K_(){var e=new xO,t=[],n=[],r=fw;function i(o){let s=e.get(o);if(s===void 0){if(r!==fw)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new xO;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return K_(t,n).unknown(r)},Rr.apply(i,arguments),i}function W_(){var e=K_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,u=!1,c=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,b=i<r,S=b?i:r,E=b?r:i;o=(E-S)/Math.max(1,g-c+f*2),u&&(o=Math.floor(o)),S+=(E-S-o*(g-c))*h,s=o*(1-c),u&&(S=Math.round(S),s=Math.round(s));var T=Lae(g).map(function(C){return S+o*C});return n(b?T.reverse():T)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,u=!0,p()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(g){return arguments.length?(u=!!g,p()):u},e.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return W_(t(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Rr.apply(p(),arguments)}function MU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MU(t())},e}function jae(){return MU(W_.apply(null,arguments).paddingInner(1))}function Y_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function OU(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cf(){}var Uc=.7,Ap=1/Uc,_l="\\s*([+-]?\\d+)\\s*",$c="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uae=/^#([0-9a-f]{3,8})$/,$ae=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),zae=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),Bae=new RegExp(`^rgba\\(${_l},${_l},${_l},${$c}\\)$`),Vae=new RegExp(`^rgba\\(${hi},${hi},${hi},${$c}\\)$`),qae=new RegExp(`^hsl\\(${$c},${hi},${hi}\\)$`),Gae=new RegExp(`^hsla\\(${$c},${hi},${hi},${$c}\\)$`),EO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Y_(cf,zc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TO,formatHex:TO,formatHex8:Hae,formatHsl:Fae,formatRgb:AO,toString:AO});function TO(){return this.rgb().formatHex()}function Hae(){return this.rgb().formatHex8()}function Fae(){return kU(this).formatHsl()}function AO(){return this.rgb().formatRgb()}function zc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Uae.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?CO(t):n===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$ae.exec(e))?new Gn(t[1],t[2],t[3],1):(t=zae.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Bae.exec(e))?fh(t[1],t[2],t[3],t[4]):(t=Vae.exec(e))?fh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qae.exec(e))?RO(t[1],t[2]/100,t[3]/100,1):(t=Gae.exec(e))?RO(t[1],t[2]/100,t[3]/100,t[4]):EO.hasOwnProperty(e)?CO(EO[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function CO(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function fh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Gn(e,t,n,r)}function Kae(e){return e instanceof cf||(e=zc(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function dw(e,t,n,r){return arguments.length===1?Kae(e):new Gn(e,t,n,r??1)}function Gn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Y_(Gn,dw,OU(cf,{brighter(e){return e=e==null?Ap:Math.pow(Ap,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uc:Math.pow(Uc,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(Ga(this.r),Ga(this.g),Ga(this.b),Cp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PO,formatHex:PO,formatHex8:Wae,formatRgb:NO,toString:NO}));function PO(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}`}function Wae(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}${$a((isNaN(this.opacity)?1:this.opacity)*255)}`}function NO(){const e=Cp(this.opacity);return`${e===1?"rgb(":"rgba("}${Ga(this.r)}, ${Ga(this.g)}, ${Ga(this.b)}${e===1?")":`, ${e})`}`}function Cp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $a(e){return e=Ga(e),(e<16?"0":"")+e.toString(16)}function RO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,n,r)}function kU(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof cf||(e=zc(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(t===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-t)/u+2:s=(t-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new Br(s,u,c,e.opacity)}function Yae(e,t,n,r){return arguments.length===1?kU(e):new Br(e,t,n,r??1)}function Br(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Y_(Br,Yae,OU(cf,{brighter(e){return e=e==null?Ap:Math.pow(Ap,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uc:Math.pow(Uc,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Gn(ub(e>=240?e-240:e+120,i,r),ub(e,i,r),ub(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Br(IO(this.h),dh(this.s),dh(this.l),Cp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Cp(this.opacity);return`${e===1?"hsl(":"hsla("}${IO(this.h)}, ${dh(this.s)*100}%, ${dh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function IO(e){return e=(e||0)%360,e<0?e+360:e}function dh(e){return Math.max(0,Math.min(1,e||0))}function ub(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const J_=e=>()=>e;function Jae(e,t){return function(n){return e+n*t}}function Xae(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zae(e){return(e=+e)==1?DU:function(t,n){return n-t?Xae(t,n,e):J_(isNaN(t)?n:t)}}function DU(e,t){var n=t-e;return n?Jae(e,n):J_(isNaN(e)?t:e)}const MO=(function e(t){var n=Zae(t);function r(i,o){var s=n((i=dw(i)).r,(o=dw(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),f=DU(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function Qae(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function ese(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tse(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=$l(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function nse(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function rse(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=$l(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var hw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cb=new RegExp(hw.source,"g");function ise(e){return function(){return e}}function ose(e){return function(t){return e(t)+""}}function ase(e,t){var n=hw.lastIndex=cb.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(e=e+"",t=t+"";(r=hw.exec(e))&&(i=cb.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Pp(r,i)})),n=cb.lastIndex;return n<t.length&&(o=t.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?ose(c[0].x):ise(t):(t=c.length,function(f){for(var h=0,p;h<t;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function $l(e,t){var n=typeof t,r;return t==null||n==="boolean"?J_(t):(n==="number"?Pp:n==="string"?(r=zc(t))?(t=r,MO):ase:t instanceof zc?MO:t instanceof Date?nse:ese(t)?Qae:Array.isArray(t)?tse:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rse:Pp)(e,t)}function X_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sse(e,t){t===void 0&&(t=e,e=$l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function lse(e){return function(){return e}}function Np(e){return+e}var OO=[0,1];function In(e){return e}function pw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:lse(isNaN(t)?NaN:.5)}function use(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function cse(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=pw(i,r),o=n(s,o)):(r=pw(r,i),o=n(o,s)),function(u){return o(r(u))}}function fse(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=pw(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(u){var c=uf(e,u,1,r)-1;return o[c](i[c](u))}}function ff(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Im(){var e=OO,t=OO,n=$l,r,i,o,s=In,u,c,f;function h(){var g=Math.min(e.length,t.length);return s!==In&&(s=use(e[0],e[g-1])),u=g>2?fse:cse,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=u(e.map(r),t,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=u(t,e.map(r),Pp)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Np),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=X_,h()},p.clamp=function(g){return arguments.length?(s=g?!0:In,h()):s!==In},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,b){return r=g,i=b,h()}}function Z_(){return Im()(In,In)}function dse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rp(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Cl(e){return e=Rp(Math.abs(e)),e?e[1]:NaN}function hse(e,t){return function(n,r){for(var i=n.length,o=[],s=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=e[s=(s+1)%e.length];return o.reverse().join(t)}}function pse(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bc(e){if(!(t=mse.exec(e)))throw new Error("invalid format: "+e);var t;return new Q_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bc.prototype=Q_.prototype;function Q_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Q_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gse(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ip;function vse(e,t){var n=Rp(e,t);if(!n)return Ip=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(Ip=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Rp(e,Math.max(0,t+o-1))[0]}function kO(e,t){var n=Rp(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kO(e*100,t),r:kO,s:vse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LO(e){return e}var jO=Array.prototype.map,UO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yse(e){var t=e.grouping===void 0||e.thousands===void 0?LO:hse(jO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?LO:pse(jO.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function f(p,g){p=Bc(p);var b=p.fill,S=p.align,E=p.sign,T=p.symbol,C=p.zero,R=p.width,N=p.comma,I=p.precision,O=p.trim,M=p.type;M==="n"?(N=!0,M="g"):DO[M]||(I===void 0&&(I=12),O=!0,M="g"),(C||b==="0"&&S==="=")&&(C=!0,b="0",S="=");var U=(g&&g.prefix!==void 0?g.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():""),q=(T==="$"?r:/[%p]/.test(M)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),V=DO[M],ne=/[defgprs%]/.test(M);I=I===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function ie(Y){var L=U,H=q,j,D,z;if(M==="c")H=V(Y)+H,Y="";else{Y=+Y;var F=Y<0||1/Y<0;if(Y=isNaN(Y)?c:V(Math.abs(Y),I),O&&(Y=gse(Y)),F&&+Y==0&&E!=="+"&&(F=!1),L=(F?E==="("?E:u:E==="-"||E==="("?"":E)+L,H=(M==="s"&&!isNaN(Y)&&Ip!==void 0?UO[8+Ip/3]:"")+H+(F&&E==="("?")":""),ne){for(j=-1,D=Y.length;++j<D;)if(z=Y.charCodeAt(j),48>z||z>57){H=(z===46?i+Y.slice(j+1):Y.slice(j))+H,Y=Y.slice(0,j);break}}}N&&!C&&(Y=t(Y,1/0));var J=L.length+Y.length+H.length,se=J<R?new Array(R-J+1).join(b):"";switch(N&&C&&(Y=t(se+Y,se.length?R-H.length:1/0),se=""),S){case"<":Y=L+Y+H+se;break;case"=":Y=L+se+Y+H;break;case"^":Y=se.slice(0,J=se.length>>1)+L+Y+H+se.slice(J);break;default:Y=se+L+Y+H;break}return o(Y)}return ie.toString=function(){return p+""},ie}function h(p,g){var b=Math.max(-8,Math.min(8,Math.floor(Cl(g)/3)))*3,S=Math.pow(10,-b),E=f((p=Bc(p),p.type="f",p),{suffix:UO[8+b/3]});return function(T){return E(S*T)}}return{format:f,formatPrefix:h}}var hh,eS,LU;bse({thousands:",",grouping:[3],currency:["$",""]});function bse(e){return hh=yse(e),eS=hh.format,LU=hh.formatPrefix,hh}function xse(e){return Math.max(0,-Cl(Math.abs(e)))}function wse(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cl(t)/3)))*3-Cl(Math.abs(e)))}function _se(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cl(t)-Cl(e))+1}function jU(e,t,n,r){var i=cw(e,t,n),o;switch(r=Bc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=wse(i,s))&&(r.precision=o),LU(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=_se(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=xse(i))&&(r.precision=o-(r.type==="%")*2);break}}return eS(r)}function ra(e){var t=e.domain;return e.ticks=function(n){var r=t();return lw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jU(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],u=r[o],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=uw(s,u,n),f===c)return r[i]=s,r[o]=u,t(r);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return e},e}function UU(){var e=Z_();return e.copy=function(){return ff(e,UU())},Rr.apply(e,arguments),ra(e)}function $U(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Np),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $U(e).unknown(t)},e=arguments.length?Array.from(e,Np):[0,1],ra(n)}function zU(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function $O(e){return Math.log(e)}function zO(e){return Math.exp(e)}function Sse(e){return-Math.log(-e)}function Ese(e){return-Math.exp(-e)}function Tse(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ase(e){return e===10?Tse:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BO(e){return(t,n)=>-e(-t,n)}function tS(e){const t=e($O,zO),n=t.domain;let r=10,i,o;function s(){return i=Cse(r),o=Ase(r),n()[0]<0?(i=BO(i),o=BO(o),e(Sse,Ese)):e($O,zO),t}return t.base=function(u){return arguments.length?(r=+u,s()):r},t.domain=function(u){return arguments.length?(n(u),s()):n()},t.ticks=u=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),b=i(h),S,E;const T=u==null?10:+u;let C=[];if(!(r%1)&&b-g<T){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(S=1;S<r;++S)if(E=g<0?S/o(-g):S*o(g),!(E<f)){if(E>h)break;C.push(E)}}else for(;g<=b;++g)for(S=r-1;S>=1;--S)if(E=g>0?S/o(-g):S*o(g),!(E<f)){if(E>h)break;C.push(E)}C.length*2<T&&(C=lw(f,h,T))}else C=lw(g,b,Math.min(b-g,T)).map(o);return p?C.reverse():C},t.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Bc(c)).precision==null&&(c.trim=!0),c=eS(c)),u===1/0)return c;const f=Math.max(1,r*u/t.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},t.nice=()=>n(zU(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function BU(){const e=tS(Im()).domain([1,10]);return e.copy=()=>ff(e,BU()).base(e.base()),Rr.apply(e,arguments),e}function VO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function nS(e){var t=1,n=e(VO(t),qO(t));return n.constant=function(r){return arguments.length?e(VO(t=+r),qO(t)):t},ra(n)}function VU(){var e=nS(Im());return e.copy=function(){return ff(e,VU()).constant(e.constant())},Rr.apply(e,arguments)}function GO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nse(e){return e<0?-e*e:e*e}function rS(e){var t=e(In,In),n=1;function r(){return n===1?e(In,In):n===.5?e(Pse,Nse):e(GO(n),GO(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ra(t)}function iS(){var e=rS(Im());return e.copy=function(){return ff(e,iS()).exponent(e.exponent())},Rr.apply(e,arguments),e}function Rse(){return iS.apply(null,arguments).exponent(.5)}function HO(e){return Math.sign(e)*e*e}function Ise(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qU(){var e=Z_(),t=[0,1],n=!1,r;function i(o){var s=Ise(e(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return e.invert(HO(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Np)).map(HO)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return qU(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Rr.apply(i,arguments),ra(i)}function GU(){var e=[],t=[],n=[],r;function i(){var s=0,u=Math.max(1,t.length);for(n=new Array(u-1);++s<u;)n[s-1]=Dae(e,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:t[uf(n,s)]}return o.invertExtent=function(s){var u=t.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let u of s)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Yo),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return GU().domain(e).range(t).unknown(r)},Rr.apply(o,arguments)}function HU(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[uf(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,u()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return HU().domain([e,t]).range(i).unknown(o)},Rr.apply(ra(s),arguments)}function FU(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[uf(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return FU().domain(e).range(t).unknown(n)},Rr.apply(i,arguments)}const fb=new Date,db=new Date;function Ft(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let f;do c.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<s);return c},i.filter=o=>Ft(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!o(s););else for(;--u>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(fb.setTime(+o),db.setTime(+s),e(fb),e(db),Math.floor(n(fb,db))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Mp=Ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Mp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Mp);Mp.range;const Gi=1e3,Tr=Gi*60,Hi=Tr*60,Xi=Hi*24,oS=Xi*7,FO=Xi*30,hb=Xi*365,za=Ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gi)},(e,t)=>(t-e)/Gi,e=>e.getUTCSeconds());za.range;const aS=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());aS.range;const sS=Ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());sS.range;const lS=Ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gi-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getHours());lS.range;const uS=Ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hi)},(e,t)=>(t-e)/Hi,e=>e.getUTCHours());uS.range;const df=Ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Xi,e=>e.getDate()-1);df.range;const Mm=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>e.getUTCDate()-1);Mm.range;const KU=Ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>Math.floor(e/Xi));KU.range;function ns(e){return Ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/oS)}const Om=ns(0),Op=ns(1),Mse=ns(2),Ose=ns(3),Pl=ns(4),kse=ns(5),Dse=ns(6);Om.range;Op.range;Mse.range;Ose.range;Pl.range;kse.range;Dse.range;function rs(e){return Ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/oS)}const km=rs(0),kp=rs(1),Lse=rs(2),jse=rs(3),Nl=rs(4),Use=rs(5),$se=rs(6);km.range;kp.range;Lse.range;jse.range;Nl.range;Use.range;$se.range;const cS=Ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cS.range;const fS=Ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fS.range;const Zi=Ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Zi.range;const Qi=Ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Qi.range;function WU(e,t,n,r,i,o){const s=[[za,1,Gi],[za,5,5*Gi],[za,15,15*Gi],[za,30,30*Gi],[o,1,Tr],[o,5,5*Tr],[o,15,15*Tr],[o,30,30*Tr],[i,1,Hi],[i,3,3*Hi],[i,6,6*Hi],[i,12,12*Hi],[r,1,Xi],[r,2,2*Xi],[n,1,oS],[t,1,FO],[t,3,3*FO],[e,1,hb]];function u(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const b=p&&typeof p.range=="function"?p:c(f,h,p),S=b?b.range(f,+h+1):[];return g?S.reverse():S}function c(f,h,p){const g=Math.abs(h-f)/p,b=F_(([,,T])=>T).right(s,g);if(b===s.length)return e.every(cw(f/hb,h/hb,p));if(b===0)return Mp.every(Math.max(cw(f,h,p),1));const[S,E]=s[g/s[b-1][2]<s[b][2]/g?b-1:b];return S.every(E)}return[u,c]}const[zse,Bse]=WU(Qi,fS,km,KU,uS,sS),[Vse,qse]=WU(Zi,cS,Om,df,lS,aS);function pb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Gse(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,u=e.months,c=e.shortMonths,f=ec(i),h=tc(i),p=ec(o),g=tc(o),b=ec(s),S=tc(s),E=ec(u),T=tc(u),C=ec(c),R=tc(c),N={a:z,A:F,b:J,B:se,c:null,d:ZO,e:ZO,f:hle,g:Sle,G:Tle,H:cle,I:fle,j:dle,L:YU,m:ple,M:mle,p:$,q:W,Q:tk,s:nk,S:gle,u:vle,U:yle,V:ble,w:xle,W:wle,x:null,X:null,y:_le,Y:Ele,Z:Ale,"%":ek},I={a:ce,A:ue,b:de,B:pe,c:null,d:QO,e:QO,f:Rle,g:zle,G:Vle,H:Cle,I:Ple,j:Nle,L:XU,m:Ile,M:Mle,p:he,q:ye,Q:tk,s:nk,S:Ole,u:kle,U:Dle,V:Lle,w:jle,W:Ule,x:null,X:null,y:$le,Y:Ble,Z:qle,"%":ek},O={a:ne,A:ie,b:Y,B:L,c:H,d:JO,e:JO,f:ale,g:YO,G:WO,H:XO,I:XO,j:nle,L:ole,m:tle,M:rle,p:V,q:ele,Q:lle,s:ule,S:ile,u:Yse,U:Jse,V:Xse,w:Wse,W:Zse,x:j,X:D,y:YO,Y:WO,Z:Qse,"%":sle};N.x=M(n,N),N.X=M(r,N),N.c=M(t,N),I.x=M(n,I),I.X=M(r,I),I.c=M(t,I);function M(ee,Ae){return function(Ee){var fe=[],st=-1,_e=0,Je=ee.length,tt,_t,_i;for(Ee instanceof Date||(Ee=new Date(+Ee));++st<Je;)ee.charCodeAt(st)===37&&(fe.push(ee.slice(_e,st)),(_t=KO[tt=ee.charAt(++st)])!=null?tt=ee.charAt(++st):_t=tt==="e"?" ":"0",(_i=Ae[tt])&&(tt=_i(Ee,_t)),fe.push(tt),_e=st+1);return fe.push(ee.slice(_e,st)),fe.join("")}}function U(ee,Ae){return function(Ee){var fe=Qu(1900,void 0,1),st=q(fe,ee,Ee+="",0),_e,Je;if(st!=Ee.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ae&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(_e=mb(Qu(fe.y,0,1)),Je=_e.getUTCDay(),_e=Je>4||Je===0?kp.ceil(_e):kp(_e),_e=Mm.offset(_e,(fe.V-1)*7),fe.y=_e.getUTCFullYear(),fe.m=_e.getUTCMonth(),fe.d=_e.getUTCDate()+(fe.w+6)%7):(_e=pb(Qu(fe.y,0,1)),Je=_e.getDay(),_e=Je>4||Je===0?Op.ceil(_e):Op(_e),_e=df.offset(_e,(fe.V-1)*7),fe.y=_e.getFullYear(),fe.m=_e.getMonth(),fe.d=_e.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Je="Z"in fe?mb(Qu(fe.y,0,1)).getUTCDay():pb(Qu(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Je+5)%7:fe.w+fe.U*7-(Je+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,mb(fe)):pb(fe)}}function q(ee,Ae,Ee,fe){for(var st=0,_e=Ae.length,Je=Ee.length,tt,_t;st<_e;){if(fe>=Je)return-1;if(tt=Ae.charCodeAt(st++),tt===37){if(tt=Ae.charAt(st++),_t=O[tt in KO?Ae.charAt(st++):tt],!_t||(fe=_t(ee,Ee,fe))<0)return-1}else if(tt!=Ee.charCodeAt(fe++))return-1}return fe}function V(ee,Ae,Ee){var fe=f.exec(Ae.slice(Ee));return fe?(ee.p=h.get(fe[0].toLowerCase()),Ee+fe[0].length):-1}function ne(ee,Ae,Ee){var fe=b.exec(Ae.slice(Ee));return fe?(ee.w=S.get(fe[0].toLowerCase()),Ee+fe[0].length):-1}function ie(ee,Ae,Ee){var fe=p.exec(Ae.slice(Ee));return fe?(ee.w=g.get(fe[0].toLowerCase()),Ee+fe[0].length):-1}function Y(ee,Ae,Ee){var fe=C.exec(Ae.slice(Ee));return fe?(ee.m=R.get(fe[0].toLowerCase()),Ee+fe[0].length):-1}function L(ee,Ae,Ee){var fe=E.exec(Ae.slice(Ee));return fe?(ee.m=T.get(fe[0].toLowerCase()),Ee+fe[0].length):-1}function H(ee,Ae,Ee){return q(ee,t,Ae,Ee)}function j(ee,Ae,Ee){return q(ee,n,Ae,Ee)}function D(ee,Ae,Ee){return q(ee,r,Ae,Ee)}function z(ee){return s[ee.getDay()]}function F(ee){return o[ee.getDay()]}function J(ee){return c[ee.getMonth()]}function se(ee){return u[ee.getMonth()]}function $(ee){return i[+(ee.getHours()>=12)]}function W(ee){return 1+~~(ee.getMonth()/3)}function ce(ee){return s[ee.getUTCDay()]}function ue(ee){return o[ee.getUTCDay()]}function de(ee){return c[ee.getUTCMonth()]}function pe(ee){return u[ee.getUTCMonth()]}function he(ee){return i[+(ee.getUTCHours()>=12)]}function ye(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var Ae=M(ee+="",N);return Ae.toString=function(){return ee},Ae},parse:function(ee){var Ae=U(ee+="",!1);return Ae.toString=function(){return ee},Ae},utcFormat:function(ee){var Ae=M(ee+="",I);return Ae.toString=function(){return ee},Ae},utcParse:function(ee){var Ae=U(ee+="",!0);return Ae.toString=function(){return ee},Ae}}}var KO={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,Hse=/^%/,Fse=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Kse(e){return e.replace(Fse,"\\$&")}function ec(e){return new RegExp("^(?:"+e.map(Kse).join("|")+")","i")}function tc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Wse(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Yse(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Jse(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Xse(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Zse(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function WO(e,t,n){var r=rn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function YO(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qse(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ele(e,t,n){var r=rn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function tle(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function JO(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function nle(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function XO(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function rle(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ile(e,t,n){var r=rn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ole(e,t,n){var r=rn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ale(e,t,n){var r=rn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sle(e,t,n){var r=Hse.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function lle(e,t,n){var r=rn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ule(e,t,n){var r=rn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ZO(e,t){return Ke(e.getDate(),t,2)}function cle(e,t){return Ke(e.getHours(),t,2)}function fle(e,t){return Ke(e.getHours()%12||12,t,2)}function dle(e,t){return Ke(1+df.count(Zi(e),e),t,3)}function YU(e,t){return Ke(e.getMilliseconds(),t,3)}function hle(e,t){return YU(e,t)+"000"}function ple(e,t){return Ke(e.getMonth()+1,t,2)}function mle(e,t){return Ke(e.getMinutes(),t,2)}function gle(e,t){return Ke(e.getSeconds(),t,2)}function vle(e){var t=e.getDay();return t===0?7:t}function yle(e,t){return Ke(Om.count(Zi(e)-1,e),t,2)}function JU(e){var t=e.getDay();return t>=4||t===0?Pl(e):Pl.ceil(e)}function ble(e,t){return e=JU(e),Ke(Pl.count(Zi(e),e)+(Zi(e).getDay()===4),t,2)}function xle(e){return e.getDay()}function wle(e,t){return Ke(Op.count(Zi(e)-1,e),t,2)}function _le(e,t){return Ke(e.getFullYear()%100,t,2)}function Sle(e,t){return e=JU(e),Ke(e.getFullYear()%100,t,2)}function Ele(e,t){return Ke(e.getFullYear()%1e4,t,4)}function Tle(e,t){var n=e.getDay();return e=n>=4||n===0?Pl(e):Pl.ceil(e),Ke(e.getFullYear()%1e4,t,4)}function Ale(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function QO(e,t){return Ke(e.getUTCDate(),t,2)}function Cle(e,t){return Ke(e.getUTCHours(),t,2)}function Ple(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function Nle(e,t){return Ke(1+Mm.count(Qi(e),e),t,3)}function XU(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function Rle(e,t){return XU(e,t)+"000"}function Ile(e,t){return Ke(e.getUTCMonth()+1,t,2)}function Mle(e,t){return Ke(e.getUTCMinutes(),t,2)}function Ole(e,t){return Ke(e.getUTCSeconds(),t,2)}function kle(e){var t=e.getUTCDay();return t===0?7:t}function Dle(e,t){return Ke(km.count(Qi(e)-1,e),t,2)}function ZU(e){var t=e.getUTCDay();return t>=4||t===0?Nl(e):Nl.ceil(e)}function Lle(e,t){return e=ZU(e),Ke(Nl.count(Qi(e),e)+(Qi(e).getUTCDay()===4),t,2)}function jle(e){return e.getUTCDay()}function Ule(e,t){return Ke(kp.count(Qi(e)-1,e),t,2)}function $le(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function zle(e,t){return e=ZU(e),Ke(e.getUTCFullYear()%100,t,2)}function Ble(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function Vle(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Nl(e):Nl.ceil(e),Ke(e.getUTCFullYear()%1e4,t,4)}function qle(){return"+0000"}function ek(){return"%"}function tk(e){return+e}function nk(e){return Math.floor(+e/1e3)}var Js,QU,e3;Gle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gle(e){return Js=Gse(e),QU=Js.format,Js.parse,e3=Js.utcFormat,Js.utcParse,Js}function Hle(e){return new Date(e)}function Fle(e){return e instanceof Date?+e:+new Date(+e)}function dS(e,t,n,r,i,o,s,u,c,f){var h=Z_(),p=h.invert,g=h.domain,b=f(".%L"),S=f(":%S"),E=f("%I:%M"),T=f("%I %p"),C=f("%a %d"),R=f("%b %d"),N=f("%B"),I=f("%Y");function O(M){return(c(M)<M?b:u(M)<M?S:s(M)<M?E:o(M)<M?T:r(M)<M?i(M)<M?C:R:n(M)<M?N:I)(M)}return h.invert=function(M){return new Date(p(M))},h.domain=function(M){return arguments.length?g(Array.from(M,Fle)):g().map(Hle)},h.ticks=function(M){var U=g();return e(U[0],U[U.length-1],M??10)},h.tickFormat=function(M,U){return U==null?O:f(U)},h.nice=function(M){var U=g();return(!M||typeof M.range!="function")&&(M=t(U[0],U[U.length-1],M??10)),M?g(zU(U,M)):h},h.copy=function(){return ff(h,dS(e,t,n,r,i,o,s,u,c,f))},h}function Kle(){return Rr.apply(dS(Vse,qse,Zi,cS,Om,df,lS,aS,za,QU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wle(){return Rr.apply(dS(zse,Bse,Qi,fS,km,Mm,uS,sS,za,e3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dm(){var e=0,t=1,n,r,i,o,s=In,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var b,S;return arguments.length?([b,S]=g,s=p(b,S),f):[s(0),s(1)]}}return f.range=h($l),f.rangeRound=h(X_),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),f}}function ia(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function t3(){var e=ra(Dm()(In));return e.copy=function(){return ia(e,t3())},lo.apply(e,arguments)}function n3(){var e=tS(Dm()).domain([1,10]);return e.copy=function(){return ia(e,n3()).base(e.base())},lo.apply(e,arguments)}function r3(){var e=nS(Dm());return e.copy=function(){return ia(e,r3()).constant(e.constant())},lo.apply(e,arguments)}function hS(){var e=rS(Dm());return e.copy=function(){return ia(e,hS()).exponent(e.exponent())},lo.apply(e,arguments)}function Yle(){return hS.apply(null,arguments).exponent(.5)}function i3(){var e=[],t=In;function n(r){if(r!=null&&!isNaN(r=+r))return t((uf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Yo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>kae(e,o/r))},n.copy=function(){return i3(t).domain(e)},lo.apply(n,arguments)}function Lm(){var e=0,t=.5,n=1,r=1,i,o,s,u,c,f=In,h,p=!1,g;function b(E){return isNaN(E=+E)?g:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:c),f(p?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),s=h(n=+n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(E){return arguments.length?(p=!!E,b):p},b.interpolator=function(E){return arguments.length?(f=E,b):f};function S(E){return function(T){var C,R,N;return arguments.length?([C,R,N]=T,f=sse(E,[C,R,N]),b):[f(0),f(.5),f(1)]}}return b.range=S($l),b.rangeRound=S(X_),b.unknown=function(E){return arguments.length?(g=E,b):g},function(E){return h=E,i=E(e),o=E(t),s=E(n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,b}}function o3(){var e=ra(Lm()(In));return e.copy=function(){return ia(e,o3())},lo.apply(e,arguments)}function a3(){var e=tS(Lm()).domain([.1,1,10]);return e.copy=function(){return ia(e,a3()).base(e.base())},lo.apply(e,arguments)}function s3(){var e=nS(Lm());return e.copy=function(){return ia(e,s3()).constant(e.constant())},lo.apply(e,arguments)}function pS(){var e=rS(Lm());return e.copy=function(){return ia(e,pS()).exponent(e.exponent())},lo.apply(e,arguments)}function Jle(){return pS.apply(null,arguments).exponent(.5)}const sc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W_,scaleDiverging:o3,scaleDivergingLog:a3,scaleDivergingPow:pS,scaleDivergingSqrt:Jle,scaleDivergingSymlog:s3,scaleIdentity:$U,scaleImplicit:fw,scaleLinear:UU,scaleLog:BU,scaleOrdinal:K_,scalePoint:jae,scalePow:iS,scaleQuantile:GU,scaleQuantize:HU,scaleRadial:qU,scaleSequential:t3,scaleSequentialLog:n3,scaleSequentialPow:hS,scaleSequentialQuantile:i3,scaleSequentialSqrt:Yle,scaleSequentialSymlog:r3,scaleSqrt:Rse,scaleSymlog:VU,scaleThreshold:FU,scaleTime:Kle,scaleUtc:Wle,tickFormat:jU},Symbol.toStringTag,{value:"Module"}));var uo=e=>e.chartData,l3=te([uo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),mS=(e,t,n,r)=>r?l3(e):uo(e),u3=(e,t,n)=>n?l3(e):uo(e);function eo(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(je(t)&&je(n))return!0}return!1}function rk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function c3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(je(n))i=n;else if(typeof n=="function")return;if(je(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(eo(s))return s}}function Xle(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(eo(r))return rk(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,s,u;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ve(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&mM.test(i)){var c=mM.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var f=+c[1];s=t[0]-f}}else s=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(ve(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&gM.test(o)){var h=gM.exec(o);if(h==null||h[1]==null||t==null)u=void 0;else{var p=+h[1];u=t[1]+p}}else u=t==null?void 0:t[1];var g=[s,u];if(eo(g))return t==null?g:rk(g,t,n)}}}var zl=1e9,Zle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vS,bt=!0,Nr="[DecimalError] ",Ha=Nr+"Invalid argument: ",gS=Nr+"Exponent out of range: ",Bl=Math.floor,Ma=Math.pow,Qle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,Zt=1e7,gt=7,f3=9007199254740991,Dp=Bl(f3/gt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*gt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(e){return Fi(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,n=t.constructor;return ut(Fi(t,new n(e),0,1),n.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return $t(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ir))throw Error(Nr+"NaN");if(n.s<1)throw Error(Nr+(n.s?"NaN":"-Infinity"));return n.eq(ir)?new r(0):(bt=!1,t=Fi(Vc(n,o),Vc(e,o),o),bt=!0,ut(t,i))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p3(t,e):d3(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Nr+"NaN");return n.s?(bt=!1,t=Fi(n,e,0,1).times(e),bt=!0,n.minus(t)):ut(new r(n),i)};be.naturalExponential=be.exp=function(){return h3(this)};be.naturalLogarithm=be.ln=function(){return Vc(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?d3(t,e):p3(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ha+e);if(t=$t(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};be.squareRoot=be.sqrt=function(){var e,t,n,r,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Nr+"NaN")}for(e=$t(u),bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=fi(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(Fi(u,o,s+2)).times(.5),fi(o.d).slice(0,s)===(t=fi(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(ut(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;s+=4}return bt=!0,ut(r,n)};be.times=be.mul=function(e){var t,n,r,i,o,s,u,c,f,h=this,p=h.constructor,g=h.d,b=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,c=g.length,f=b.length,c<f&&(o=g,g=b,b=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=c+r;i>r;)u=o[i]+b[r]*g[i-r-1]+t,o[i--]=u%Zt|0,t=u/Zt|0;o[i]=(o[i]+t)%Zt|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,bt?ut(e,p.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(vi(e,0,zl),t===void 0?t=r.rounding:vi(t,0,8),ut(n,e+$t(n)+1,t))};be.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Za(r,!0):(vi(e,0,zl),t===void 0?t=i.rounding:vi(t,0,8),r=ut(new i(r),e+1,t),n=Za(r,!0,e+1)),n};be.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Za(i):(vi(e,0,zl),t===void 0?t=o.rounding:vi(t,0,8),r=ut(new o(i),e+$t(i)+1,t),n=Za(r.abs(),!1,e+$t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return ut(new t(e),$t(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,n,r,i,o,s,u=this,c=u.constructor,f=12,h=+(e=new c(e));if(!e.s)return new c(ir);if(u=new c(u),!u.s){if(e.s<1)throw Error(Nr+"Infinity");return u}if(u.eq(ir))return u;if(r=c.precision,e.eq(ir))return ut(u,r);if(t=e.e,n=e.d.length-1,s=t>=n,o=u.s,s){if((n=h<0?-h:h)<=f3){for(i=new c(ir),t=Math.ceil(r/gt+4),bt=!1;n%2&&(i=i.times(u),ok(i.d,t)),n=Bl(n/2),n!==0;)u=u.times(u),ok(u.d,t);return bt=!0,e.s<0?new c(ir).div(i):ut(i,r)}}else if(o<0)throw Error(Nr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,bt=!1,i=e.times(Vc(u,r+f)),bt=!0,i=h3(i),i.s=o,i};be.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=$t(i),r=Za(i,n<=o.toExpNeg||n>=o.toExpPos)):(vi(e,1,zl),t===void 0?t=o.rounding:vi(t,0,8),i=ut(new o(i),e,t),n=$t(i),r=Za(i,e<=n||n<=o.toExpNeg,e)),r};be.toSignificantDigits=be.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(vi(e,1,zl),t===void 0?t=r.rounding:vi(t,0,8)),ut(new r(n),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),n=e.constructor;return Za(e,t<=n.toExpNeg||t>=n.toExpPos)};function d3(e,t){var n,r,i,o,s,u,c,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),bt?ut(t,p):t;if(c=e.d,f=t.d,s=e.e,i=t.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,u=f.length):(r=f,i=s,u=c.length),s=Math.ceil(p/gt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=f.length,u-o<0&&(o=u,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/Zt|0,c[o]%=Zt;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return t.d=c,t.e=i,bt?ut(t,p):t}function vi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ha+e)}function fi(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=gt-r.length,n&&(o+=Vo(n)),o+=r;s=e[t],r=s+"",n=gt-r.length,n&&(o+=Vo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Fi=(function(){function e(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%Zt|0,s=o/Zt|0;return s&&r.unshift(s),r}function t(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Zt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,c,f,h,p,g,b,S,E,T,C,R,N,I,O,M,U,q,V=r.constructor,ne=r.s==i.s?1:-1,ie=r.d,Y=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Nr+"Division by zero");for(c=r.e-i.e,U=Y.length,O=ie.length,b=new V(ne),S=b.d=[],f=0;Y[f]==(ie[f]||0);)++f;if(Y[f]>(ie[f]||0)&&--c,o==null?R=o=V.precision:s?R=o+($t(r)-$t(i))+1:R=o,R<0)return new V(0);if(R=R/gt+2|0,f=0,U==1)for(h=0,Y=Y[0],R++;(f<O||h)&&R--;f++)N=h*Zt+(ie[f]||0),S[f]=N/Y|0,h=N%Y|0;else{for(h=Zt/(Y[0]+1)|0,h>1&&(Y=e(Y,h),ie=e(ie,h),U=Y.length,O=ie.length),I=U,E=ie.slice(0,U),T=E.length;T<U;)E[T++]=0;q=Y.slice(),q.unshift(0),M=Y[0],Y[1]>=Zt/2&&++M;do h=0,u=t(Y,E,U,T),u<0?(C=E[0],U!=T&&(C=C*Zt+(E[1]||0)),h=C/M|0,h>1?(h>=Zt&&(h=Zt-1),p=e(Y,h),g=p.length,T=E.length,u=t(p,E,g,T),u==1&&(h--,n(p,U<g?q:Y,g))):(h==0&&(u=h=1),p=Y.slice()),g=p.length,g<T&&p.unshift(0),n(E,p,T),u==-1&&(T=E.length,u=t(Y,E,U,T),u<1&&(h++,n(E,U<T?q:Y,T))),T=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[T++]=ie[I]||0:(E=[ie[I]],T=1);while((I++<O||E[0]!==void 0)&&R--)}return S[0]||S.shift(),b.e=c,ut(b,s?o+$t(b)+1:o)}})();function h3(e,t){var n,r,i,o,s,u,c=0,f=0,h=e.constructor,p=h.precision;if($t(e)>16)throw Error(gS+$t(e));if(!e.s)return new h(ir);for(bt=!1,u=p,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(r=Math.log(Ma(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(ir),h.precision=u;;){if(i=ut(i.times(e),u),n=n.times(++c),s=o.plus(Fi(i,n,u)),fi(s.d).slice(0,u)===fi(o.d).slice(0,u)){for(;f--;)o=ut(o.times(o),u);return h.precision=p,t==null?(bt=!0,ut(o,p)):o}o=s}}function $t(e){for(var t=e.e*gt,n=e.d[0];n>=10;n/=10)t++;return t}function gb(e,t,n){if(t>e.LN10.sd())throw bt=!0,n&&(e.precision=n),Error(Nr+"LN10 precision limit exceeded");return ut(new e(e.LN10),t)}function Vo(e){for(var t="";e--;)t+="0";return t}function Vc(e,t){var n,r,i,o,s,u,c,f,h,p=1,g=10,b=e,S=b.d,E=b.constructor,T=E.precision;if(b.s<1)throw Error(Nr+(b.s?"NaN":"-Infinity"));if(b.eq(ir))return new E(0);if(t==null?(bt=!1,f=T):f=t,b.eq(10))return t==null&&(bt=!0),gb(E,f);if(f+=g,E.precision=f,n=fi(S),r=n.charAt(0),o=$t(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=fi(b.d),r=n.charAt(0),p++;o=$t(b),r>1?(b=new E("0."+n),o++):b=new E(r+"."+n.slice(1))}else return c=gb(E,f+2,T).times(o+""),b=Vc(new E(r+"."+n.slice(1)),f-g).plus(c),E.precision=T,t==null?(bt=!0,ut(b,T)):b;for(u=s=b=Fi(b.minus(ir),b.plus(ir),f),h=ut(b.times(b),f),i=3;;){if(s=ut(s.times(h),f),c=u.plus(Fi(s,new E(i),f)),fi(c.d).slice(0,f)===fi(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(gb(E,f+2,T).times(o+""))),u=Fi(u,new E(p),f),E.precision=T,t==null?(bt=!0,ut(u,T)):u;u=c,i+=2}}function ik(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Bl(n/gt),e.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=gt;r<i;)e.d.push(+t.slice(r,r+=gt));t=t.slice(r),r=gt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),bt&&(e.e>Dp||e.e<-Dp))throw Error(gS+n)}else e.s=0,e.e=0,e.d=[0];return e}function ut(e,t,n){var r,i,o,s,u,c,f,h,p=e.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=t-s,r<0)r+=gt,i=t,f=p[h=0];else{if(h=Math.ceil((r+1)/gt),o=p.length,h>=o)return e;for(f=o=p[h],s=1;o>=10;o/=10)s++;r%=gt,i=r-gt+s}if(n!==void 0&&(o=Ma(10,s-i-1),u=f/o%10|0,c=t<0||p[h+1]!==void 0||f%o,c=n<4?(u||c)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/Ma(10,s-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(o=$t(e),p.length=1,t=t-o-1,p[0]=Ma(10,(gt-t%gt)%gt),e.e=Bl(-t/gt)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=Ma(10,gt-r),p[h]=i>0?(f/Ma(10,s-i)%Ma(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==Zt&&(p[0]=1,++e.e);break}else{if(p[h]+=o,p[h]!=Zt)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(bt&&(e.e>Dp||e.e<-Dp))throw Error(gS+$t(e));return e}function p3(e,t){var n,r,i,o,s,u,c,f,h,p,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),bt?ut(t,b):t;if(c=e.d,p=t.d,r=t.e,f=e.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(b/gt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,t.s=-t.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=Zt-1;--c[o],c[i]+=Zt}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,bt?ut(t,b):t):new g(0)}function Za(e,t,n){var r,i=$t(e),o=fi(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Vo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Vo(-i-1)+o,n&&(r=n-s)>0&&(o+=Vo(r))):i>=s?(o+=Vo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Vo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Vo(r))),e.s<0?"-"+o:o}function ok(e,t){if(e.length>t)return e.length=t,!0}function m3(e){var t,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ha+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return ik(s,o.toString())}else if(typeof o!="string")throw Error(Ha+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Qle.test(o))ik(s,o);else throw Error(Ha+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=m3,i.config=i.set=eue,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function eue(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,n,r,i=["precision",1,zl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Bl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ha+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ha+n+": "+r);return this}var vS=m3(Zle);ir=new vS(1);const Qe=vS;function g3(e){var t;return e===0?t=1:t=Math.floor(new Qe(e).abs().log(10).toNumber())+1,t}function v3(e,t,n){for(var r=new Qe(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var y3=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},b3=(e,t,n)=>{if(e.lte(0))return new Qe(0);var r=g3(e.toNumber()),i=new Qe(10).pow(r),o=e.div(i),s=r!==1?.05:.1,u=new Qe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return t?new Qe(c.toNumber()):new Qe(Math.ceil(c.toNumber()))},tue=(e,t,n)=>{var r=new Qe(1),i=new Qe(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Qe(10).pow(g3(e)-1),i=new Qe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Qe(Math.floor(e)))}else e===0?i=new Qe(Math.floor((t-1)/2)):n||(i=new Qe(Math.floor(e)));for(var s=Math.floor((t-1)/2),u=[],c=0;c<t;c++)u.push(i.add(new Qe(c-s).mul(r)).toNumber());return u},x3=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var s=b3(new Qe(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Qe(0):(u=new Qe(t).add(n).div(2),u=u.sub(new Qe(u).mod(s)));var c=Math.ceil(u.sub(t).div(s).toNumber()),f=Math.ceil(new Qe(n).sub(u).div(s).toNumber()),h=c+f+1;return h>r?x3(t,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new Qe(c).mul(s)),tickMax:u.add(new Qe(f).mul(s))})},nue=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=y3([n,r]);if(u===-1/0||c===1/0){var f=c===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?f.reverse():f}if(u===c)return tue(u,i,o);var{step:h,tickMin:p,tickMax:g}=x3(u,c,s,o,0),b=v3(p,g.add(new Qe(.1).mul(h)),h);return n>r?b.reverse():b},rue=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=y3([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),f=b3(new Qe(u).sub(s).div(c-1),o,0),h=[...v3(new Qe(s),new Qe(u),f),u];return o===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},w3=e=>e.rootProps.maxBarSize,iue=e=>e.rootProps.barGap,_3=e=>e.rootProps.barCategoryGap,oue=e=>e.rootProps.barSize,jm=e=>e.rootProps.stackOffset,S3=e=>e.rootProps.reverseStackOrder,yS=e=>e.options.chartName,bS=e=>e.rootProps.syncId,E3=e=>e.rootProps.syncMethod,xS=e=>e.options.eventEmitter,aue=e=>e.rootProps.baseValue,Ht={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Aa={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ai={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Um=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function $m(e,t,n){if(n!=="auto")return n;if(e!=null)return Qr(e,t)?"category":"number"}function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(n),!0).forEach(function(r){sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sue(e,t,n){return(t=lue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e){var t=uue(e,"string");return typeof t=="symbol"?t:t+""}function uue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sk={allowDataOverflow:Aa.allowDataOverflow,allowDecimals:Aa.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Aa.angleAxisId,includeHidden:!1,name:void 0,reversed:Aa.reversed,scale:Aa.scale,tick:Aa.tick,tickCount:void 0,ticks:void 0,type:Aa.type,unit:void 0},lk={allowDataOverflow:ai.allowDataOverflow,allowDecimals:ai.allowDecimals,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:ai.includeHidden,name:void 0,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:ai.type,unit:void 0},cue=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},wS=te([cue,fU],(e,t)=>{var n;if(e!=null)return e;var r=(n=$m(t,"angleAxis",sk.type))!==null&&n!==void 0?n:"category";return Lp(Lp({},sk),{},{type:r})}),fue=(e,t)=>e.polarAxis.radiusAxis[t],_S=te([fue,fU],(e,t)=>{var n;if(e!=null)return e;var r=(n=$m(t,"radiusAxis",lk.type))!==null&&n!==void 0?n:"category";return Lp(Lp({},lk),{},{type:r})}),zm=e=>e.polarOptions,SS=te([ao,so,tn],lae),T3=te([zm,SS],(e,t)=>{if(e!=null)return Wr(e.innerRadius,t,0)}),A3=te([zm,SS],(e,t)=>{if(e!=null)return Wr(e.outerRadius,t,t*.8)}),due=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},C3=te([zm],due);te([wS,C3],Um);var P3=te([SS,T3,A3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});te([_S,P3],Um);var N3=te([We,zm,T3,A3,ao,so],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:f}=t;return{cx:Wr(s,i,i/2),cy:Wr(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:f,clockWise:!1}}}),on=(e,t)=>t,Bm=(e,t,n)=>n;function Vm(e){return e==null?void 0:e.id}function R3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return e.forEach(u=>{var c,f=(c=u.data)!==null&&c!==void 0?c:r;if(!(f==null||f.length===0)){var h=Vm(u);f.forEach((p,g)=>{var b=o==null||i?g:String(Nt(p,o,null)),S=Nt(p,u.dataKey,0),E;s.has(b)?E=s.get(b):E={},Object.assign(E,{[h]:S}),s.set(b,E)})}}),Array.from(s.values())}function qm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Gm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Hm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function hue(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var an=e=>{var t=We(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vl=e=>e.tooltip.settings.axisId;function pue(e){if(e in sc)return sc[e]();var t="scale".concat(Qc(e));if(t in sc)return sc[t]()}function uk(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(o){function s(){return o.apply(this,arguments)}return s.toString=function(){return o.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var s=i[0],u=i[1];return s<=u?o>=s&&o<=u:o>=u&&o<=s},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,s)=>{var u=e(o);if(u!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var c=e.bandwidth();switch(s.position){case"middle":u+=c/2;break;case"end":u+=c;break}}return u}}}}function ck(e,t,n){if(typeof e=="function")return uk(e.copy().domain(t).range(n));if(e!=null){var r=pue(e);if(r!=null)return r.domain(t).range(n),uk(r)}}var mue=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!eo(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];je(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(n),!0).forEach(function(r){gue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gue(e,t,n){return(t=vue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vue(e){var t=yue(e,"string");return typeof t=="symbol"?t:t+""}function yue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mw=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},I3=(e,t)=>e.cartesianAxis.xAxis[t],co=(e,t)=>{var n=I3(e,t);return n??Jt},Xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nf},M3=(e,t)=>e.cartesianAxis.yAxis[t],fo=(e,t)=>{var n=M3(e,t);return n??Xt},bue={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ES=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??bue},kn=(e,t,n)=>{switch(t){case"xAxis":return co(e,n);case"yAxis":return fo(e,n);case"zAxis":return ES(e,n);case"angleAxis":return wS(e,n);case"radiusAxis":return _S(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xue=(e,t,n)=>{switch(t){case"xAxis":return co(e,n);case"yAxis":return fo(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hf=(e,t,n)=>{switch(t){case"xAxis":return co(e,n);case"yAxis":return fo(e,n);case"angleAxis":return wS(e,n);case"radiusAxis":return _S(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},O3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function k3(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var pf=e=>e.graphicalItems.cartesianItems,wue=te([on,Bm],k3),D3=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),mf=te([pf,kn,wue],D3,{memoizeOptions:{resultEqualityCheck:Hm}}),L3=te([mf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qm)),j3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_ue=te([mf],j3),U3=e=>e.map(t=>t.data).filter(Boolean).flat(1),Sue=te([mf],U3,{memoizeOptions:{resultEqualityCheck:Hm}}),$3=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},TS=te([Sue,mS],$3),z3=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Nt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Nt(i,r)}))):e.map(r=>({value:r})),Fm=te([TS,kn,mf],z3);function B3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Rh(e){if(mi(e)||e instanceof Date){var t=Number(e);if(je(t))return t}}function dk(e){if(Array.isArray(e)){var t=[Rh(e[0]),Rh(e[1])];return eo(t)?t:void 0}var n=Rh(e);if(n!=null)return[n,n]}function to(e){return e.map(Rh).filter(qn)}function Eue(e,t,n){return!n||typeof t!="number"||Kr(t)?[]:n.length?to(n.flatMap(r=>{var i=Nt(e,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!je(o)||!je(s)))return[t-o,t+s]})):[]}var Kt=e=>{var t=an(e),n=Vl(e);return hf(e,t,n)},gf=te([Kt],e=>e==null?void 0:e.dataKey),Tue=te([L3,mS,Kt],R3),V3=(e,t,n,r)=>{var i={},o=t.reduce((s,u)=>{if(u.stackId==null)return s;var c=s[u.stackId];return c==null&&(c=[]),c.push(u),s[u.stackId]=c,s},i);return Object.fromEntries(Object.entries(o).map(s=>{var[u,c]=s,f=r?[...c].reverse():c,h=f.map(Vm);return[u,{stackedData:eie(e,h,n),graphicalItems:f}]}))},Up=te([Tue,L3,jm,S3],V3),q3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var s=iie(e,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Aue=te([kn],e=>e.allowDataOverflow),AS=e=>{var t;if(e==null||!("domain"in e))return mw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=to(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:mw},G3=te([kn],AS),H3=te([G3,Aue],c3),Cue=te([Up,uo,on,H3],q3,{memoizeOptions:{resultEqualityCheck:Gm}}),CS=e=>e.errorBars,Pue=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>B3(n,r)),$p=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},F3=(e,t,n,r,i)=>{var o,s;if(n.length>0&&e.forEach(u=>{n.forEach(c=>{var f,h,p=(f=r[c.id])===null||f===void 0?void 0:f.filter(C=>B3(i,C)),g=Nt(u,(h=t.dataKey)!==null&&h!==void 0?h:c.dataKey),b=Eue(u,g,p);if(b.length>=2){var S=Math.min(...b),E=Math.max(...b);(o==null||S<o)&&(o=S),(s==null||E>s)&&(s=E)}var T=dk(g);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),s=s==null?T[1]:Math.max(s,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var c=dk(Nt(u,t.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),je(o)&&je(s))return[o,s]},Nue=te([TS,kn,_ue,CS,on],F3,{memoizeOptions:{resultEqualityCheck:Gm}});function Rue(e){var{value:t}=e;if(mi(t)||t instanceof Date)return t}var Iue=(e,t,n)=>{var r=e.map(Rue).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&l5(r))?PU(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},K3=e=>e.referenceElements.dots,ql=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Mue=te([K3,on,Bm],ql),W3=e=>e.referenceElements.areas,Oue=te([W3,on,Bm],ql),Y3=e=>e.referenceElements.lines,kue=te([Y3,on,Bm],ql),J3=(e,t)=>{if(e!=null){var n=to(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Due=te(Mue,on,J3),X3=(e,t)=>{if(e!=null){var n=to(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Lue=te([Oue,on],X3);function jue(e){var t;if(e.x!=null)return to([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:to(n)}function Uue(e){var t;if(e.y!=null)return to([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:to(n)}var Z3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?jue(r):Uue(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},$ue=te([kue,on],Z3),zue=te(Due,$ue,Lue,(e,t,n)=>$p(e,n,t)),Q3=(e,t,n,r,i,o,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",f=c?$p(r,o,i):$p(o,i);return Xle(t,f,e.allowDataOverflow)},Bue=te([kn,G3,H3,Cue,Nue,zue,We,on],Q3,{memoizeOptions:{resultEqualityCheck:Gm}}),Vue=[0,1],e$=(e,t,n,r,i,o,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=e,f=Qr(t,o);if(f&&u==null){var h;return PU(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?Iue(r,e,f):i==="expand"?Vue:s}},PS=te([kn,We,TS,Fm,jm,on,Bue],e$);function que(e){return e in sc}var t$=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Qc(r));return que(o)?o:"point"}}},Gl=te([kn,O3,yS],t$);function NS(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?ck(e.scale,n,r):ck(t,n,r)}var n$=(e,t,n)=>{var r=AS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&eo(e))return nue(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&eo(e))return rue(e,t.tickCount,t.allowDecimals)}},RS=te([PS,hf,Gl],n$),r$=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&eo(t)&&Array.isArray(n)&&n.length>0){var i,o,s=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,c=t[1],f=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(s,u),Math.max(c,f)]}return t},Gue=te([kn,PS,RS,on],r$),Hue=te(Fm,kn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(to(e.map(p=>p.value))).sort((p,g)=>p-g),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var s=o-i;if(s===0)return 1/0;for(var u=0;u<r.length-1;u++){var c=r[u],f=r[u+1];if(!(c==null||f==null)){var h=f-c;n=Math.min(n,h)}}return n/s}}),i$=te(Hue,We,_3,tn,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!je(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var s=Wr(n,e*o),u=e*o/2;return u-s-(u-s)/o*s}return 0}),Fue=(e,t,n)=>{var r=co(e,t);return r==null||typeof r.padding!="string"?0:i$(e,"xAxis",t,n,r.padding)},Kue=(e,t,n)=>{var r=fo(e,t);return r==null||typeof r.padding!="string"?0:i$(e,"yAxis",t,n,r.padding)},Wue=te(co,Fue,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Yue=te(fo,Kue,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Jue=te([tn,Wue,Am,Tm,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Xue=te([tn,We,Yue,Am,Tm,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),vf=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Jue(e,n,r);case"yAxis":return Xue(e,n,r);case"zAxis":return(i=ES(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return C3(e);case"radiusAxis":return P3(e,n);default:return}},o$=te([kn,vf],Um),Zue=te([Gl,Gue],mue),Km=te([kn,Gl,Zue,o$],NS);te([mf,CS,on],Pue);function a$(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wm=(e,t)=>t,Ym=(e,t,n)=>n,Que=te(Sm,Wm,Ym,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(a$)),ece=te(Em,Wm,Ym,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(a$)),s$=(e,t)=>({width:e.width,height:t.height}),tce=(e,t)=>{var n=typeof t.width=="number"?t.width:nf;return{width:n,height:e.height}},l$=te(tn,co,s$),nce=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},rce=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ice=te(so,tn,Que,Wm,Ym,(e,t,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=s$(t,u);s==null&&(s=nce(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(f)*c.height,s+=(f?-1:1)*c.height}),o}),oce=te(ao,tn,ece,Wm,Ym,(e,t,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=tce(t,u);s==null&&(s=rce(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(f)*c.width,s+=(f?-1:1)*c.width}),o}),ace=(e,t)=>{var n=co(e,t);if(n!=null)return ice(e,n.orientation,n.mirror)},sce=te([tn,co,ace,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),lce=(e,t)=>{var n=fo(e,t);if(n!=null)return oce(e,n.orientation,n.mirror)},uce=te([tn,fo,lce,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),u$=te(tn,fo,(e,t)=>{var n=typeof t.width=="number"?t.width:nf;return{width:n,height:e.height}}),hk=(e,t,n)=>{switch(t){case"xAxis":return l$(e,n).width;case"yAxis":return u$(e,n).height;default:return}},c$=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=Qr(e,r),c=t.map(f=>f.value);if(s&&u&&o==="category"&&i&&l5(c))return c}},IS=te([We,Fm,kn,on],c$),f$=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Qr(e,r);if(s&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},MS=te([We,Fm,hf,on],f$),pk=te([We,xue,Gl,Km,IS,MS,vf,RS,on],(e,t,n,r,i,o,s,u,c)=>{if(t!=null){var f=Qr(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:s,realScaleType:n,scale:r}}}),cce=(e,t,n,r,i,o,s,u,c)=>{if(!(t==null||r==null)){var f=Qr(e,c),{type:h,ticks:p,tickCount:g}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/b:0;S=c==="angleAxis"&&o!=null&&o.length>=2?Vn(o[0]-o[1])*2*S:S;var E=p||i;return E?E.map((T,C)=>{var R=s?s.indexOf(T):T,N=r.map(R);return je(N)?{index:C,coordinate:N+S,value:T,offset:S}:null}).filter(qn):f&&u?u.map((T,C)=>{var R=r.map(T);return je(R)?{coordinate:R+S,value:T,index:C,offset:S}:null}).filter(qn):r.ticks?r.ticks(g).map((T,C)=>{var R=r.map(T);return je(R)?{coordinate:R+S,value:T,index:C,offset:S}:null}).filter(qn):r.domain().map((T,C)=>{var R=r.map(T);return je(R)?{coordinate:R+S,value:s?s[T]:T,index:C,offset:S}:null}).filter(qn)}},d$=te([We,hf,Gl,Km,RS,vf,IS,MS,on],cce),fce=(e,t,n,r,i,o,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Qr(e,s),{tickCount:c}=t,f=0;return f=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Vn(r[0]-r[1])*2*f:f,u&&o?o.map((h,p)=>{var g=n.map(h);return je(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(qn):n.ticks?n.ticks(c).map((h,p)=>{var g=n.map(h);return je(g)?{coordinate:g+f,value:h,index:p,offset:f}:null}).filter(qn):n.domain().map((h,p)=>{var g=n.map(h);return je(g)?{coordinate:g+f,value:i?i[h]:h,index:p,offset:f}:null}).filter(qn)}},yi=te([We,hf,Km,vf,IS,MS,on],fce),bi=te(kn,Km,(e,t)=>{if(!(e==null||t==null))return jp(jp({},e),{},{scale:t})}),dce=te([kn,Gl,PS,o$],NS);te((e,t,n)=>ES(e,n),dce,(e,t)=>{if(!(e==null||t==null))return jp(jp({},e),{},{scale:t})});var hce=te([We,Sm,Em],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),h$=e=>e.options.defaultTooltipEventType,p$=e=>e.options.validateTooltipEventTypes;function m$(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function OS(e,t){var n=h$(e),r=p$(e);return m$(t,n,r)}function pce(e){return Ce(t=>OS(t,e))}var g$=(e,t)=>{var n,r=Number(t);if(!(Kr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},mce=e=>e.tooltip.settings,Ho={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gce={itemInteraction:{click:Ho,hover:Ho},axisInteraction:{click:Ho,hover:Ho},keyboardInteraction:Ho,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v$=Hn({name:"tooltip",initialState:gce,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:yt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Fr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:yt()},removeTooltipEntrySettings:{reducer(e,t){var n=Fr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:yt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:vce,replaceTooltipEntrySettings:yce,removeTooltipEntrySettings:bce,setTooltipSettingsState:xce,setActiveMouseOverItemIndex:y$,mouseLeaveItem:wce,mouseLeaveChart:b$,setActiveClickItemIndex:_ce,setMouseOverAxisIndex:x$,setMouseClickAxisIndex:Sce,setSyncInteraction:gw,setKeyboardInteraction:vw}=v$.actions,Ece=v$.reducer;function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){Tce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tce(e,t,n){return(t=Ace(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ace(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pce(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Nce(e){return e.index!=null}var w$=(e,t,n,r)=>{if(t==null)return Ho;var i=Pce(e,t,n);if(i==null)return Ho;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Nce(i)){if(o)return ph(ph({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return ph(ph({},Ho),{},{coordinate:i.coordinate})};function Rce(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Ice(e,t){var n=Rce(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Mce(e,t,n){if(n==null||t==null)return!0;var r=Nt(e,t);return r==null||!eo(n)?!0:Ice(r,n)}var kS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!je(o))return i;var s=0,u=1/0;t.length>0&&(u=t.length-1);var c=Math.max(s,Math.min(o,u)),f=t[c];return f==null||Mce(f,n,r)?String(c):null},_$=(e,t,n,r,i,o,s)=>{if(o!=null){var u=s[0],c=u==null?void 0:u.getPosition(o);if(c!=null)return c;var f=i==null?void 0:i[Number(o)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},S$=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},E$=e=>e.options.tooltipPayloadSearcher,Hl=e=>e.tooltip;function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){Oce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oce(e,t,n){return(t=kce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kce(e){var t=Dce(e,"string");return typeof t=="symbol"?t:t+""}function Dce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lce(e,t){return e??t}var T$=(e,t,n,r,i,o,s)=>{if(!(t==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:f,dataEndIndex:h}=n,p=[];return e.reduce((g,b)=>{var S,{dataDefinedOnItem:E,settings:T}=b,C=Lce(E,u),R=Array.isArray(C)?eU(C,f,h):C,N=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,I=T==null?void 0:T.nameKey,O;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&s==="axis"?O=u5(R,r,i):O=o(R,t,c,I),Array.isArray(O))O.forEach(U=>{var q=vk(vk({},T),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});g.push(vM({tooltipEntrySettings:q,dataKey:U.dataKey,payload:U.payload,value:Nt(U.payload,U.dataKey),name:U.name}))});else{var M;g.push(vM({tooltipEntrySettings:T,dataKey:N,payload:O,value:Nt(O,N),name:(M=Nt(O,I))!==null&&M!==void 0?M:T==null?void 0:T.name}))}return g},p)}},DS=te([Kt,O3,yS],t$),jce=te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Uce=te([an,Vl],k3),Fl=te([jce,Kt,Uce],D3,{memoizeOptions:{resultEqualityCheck:Hm}}),$ce=te([Fl],e=>e.filter(qm)),zce=te([Fl],U3,{memoizeOptions:{resultEqualityCheck:Hm}}),Kl=te([zce,uo],$3),Bce=te([$ce,uo,Kt],R3),LS=te([Kl,Kt,Fl],z3),A$=te([Kt],AS),Vce=te([Kt],e=>e.allowDataOverflow),C$=te([A$,Vce],c3),qce=te([Fl],e=>e.filter(qm)),Gce=te([Bce,qce,jm,S3],V3),Hce=te([Gce,uo,an,C$],q3),Fce=te([Fl],j3),Kce=te([Kl,Kt,Fce,CS,an],F3,{memoizeOptions:{resultEqualityCheck:Gm}}),Wce=te([K3,an,Vl],ql),Yce=te([Wce,an],J3),Jce=te([W3,an,Vl],ql),Xce=te([Jce,an],X3),Zce=te([Y3,an,Vl],ql),Qce=te([Zce,an],Z3),efe=te([Yce,Qce,Xce],$p),tfe=te([Kt,A$,C$,Hce,Kce,efe,We,an],Q3),yf=te([Kt,We,Kl,LS,jm,an,tfe],e$),nfe=te([yf,Kt,DS],n$),rfe=te([Kt,yf,nfe,an],r$),P$=e=>{var t=an(e),n=Vl(e),r=!1;return vf(e,t,n,r)},N$=te([Kt,P$],Um),R$=te([Kt,DS,rfe,N$],NS),ife=te([We,LS,Kt,an],c$),ofe=te([We,LS,Kt,an],f$),afe=(e,t,n,r,i,o,s,u)=>{if(t){var{type:c}=t,f=Qr(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vn(i[0]-i[1])*2*p:p,f&&s?s.map((g,b)=>{var S=r.map(g);return je(S)?{coordinate:S+p,value:g,index:b,offset:p}:null}).filter(qn):r.domain().map((g,b)=>{var S=r.map(g);return je(S)?{coordinate:S+p,value:o?o[g]:g,index:b,offset:p}:null}).filter(qn)}}},ho=te([We,Kt,DS,R$,P$,ife,ofe,an],afe),jS=te([h$,p$,mce],(e,t,n)=>m$(n.shared,e,t)),I$=e=>e.tooltip.settings.trigger,US=e=>e.tooltip.settings.defaultIndex,bf=te([Hl,jS,I$,US],w$),Qa=te([bf,Kl,gf,yf],kS),M$=te([ho,Qa],g$),O$=te([bf],e=>{if(e)return e.dataKey});te([bf],e=>{if(e)return e.graphicalItemId});var k$=te([Hl,jS,I$,US],S$),sfe=te([ao,so,We,tn,ho,US,k$],_$),lfe=te([bf,sfe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),ufe=te([bf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),cfe=te([k$,Qa,uo,gf,M$,E$,jS],T$),ffe=te([cfe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(r){dfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dfe(e,t,n){return(t=hfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hfe(e){var t=pfe(e,"string");return typeof t=="symbol"?t:t+""}function pfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mfe=()=>Ce(Kt),gfe=()=>{var e=mfe(),t=Ce(ho),n=Ce(R$);return Zo(!e||!n?void 0:bk(bk({},e),{},{scale:n}),t)};function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){vfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vfe(e,t,n){return(t=yfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yfe(e){var t=bfe(e,"string");return typeof t=="symbol"?t:t+""}function bfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xfe=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},wfe=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:s}=r;return Xs(Xs(Xs({},r),yn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:c}=r;return Xs(Xs(Xs({},r),yn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function _fe(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var D$=(e,t,n,r,i)=>{var o,s=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<s;u++){var c,f,h,p,g,b=u>0?(c=n[u-1])===null||c===void 0?void 0:c.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(g=n[u+1])===null||g===void 0?void 0:g.coordinate,T=void 0;if(!(b==null||S==null||E==null))if(Vn(S-b)!==Vn(E-S)){var C=[];if(Vn(E-S)===Vn(i[1]-i[0])){T=E;var R=S+i[1]-i[0];C[0]=Math.min(R,(R+b)/2),C[1]=Math.max(R,(R+b)/2)}else{T=b;var N=E+i[1]-i[0];C[0]=Math.min(S,(N+S)/2),C[1]=Math.max(S,(N+S)/2)}var I=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>I[0]&&e<=I[1]||e>=C[0]&&e<=C[1]){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}else{var M=Math.min(b,E),U=Math.max(b,E);if(e>(M+S)/2&&e<=(U+S)/2){var q;return(q=n[u])===null||q===void 0?void 0:q.index}}}else if(t)for(var V=0;V<s;V++){var ne=t[V];if(ne!=null){var ie=t[V+1],Y=t[V-1];if(V===0&&ie!=null&&e<=(ne.coordinate+ie.coordinate)/2||V===s-1&&Y!=null&&e>(ne.coordinate+Y.coordinate)/2||V>0&&V<s-1&&Y!=null&&ie!=null&&e>(ne.coordinate+Y.coordinate)/2&&e<=(ne.coordinate+ie.coordinate)/2)return ne.index}}return-1},L$=()=>Ce(yS),$S=(e,t)=>t,j$=(e,t,n)=>n,zS=(e,t,n,r)=>r,Sfe=te(ho,e=>hm(e,t=>t.coordinate)),BS=te([Hl,$S,j$,zS],w$),VS=te([BS,Kl,gf,yf],kS),Efe=(e,t,n)=>{if(t!=null){var r=Hl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},U$=te([Hl,$S,j$,zS],S$),zp=te([ao,so,We,tn,ho,zS,U$],_$),Tfe=te([BS,zp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),$$=te([ho,VS],g$),Afe=te([U$,VS,uo,gf,$$,E$,$S],T$),Cfe=te([BS,VS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Pfe=(e,t,n,r,i,o,s)=>{if(!(!e||!n||!r||!i)&&_fe(e,s)){var u=oie(e,t),c=D$(u,o,i,n,r),f=xfe(t,i,c,e);return{activeIndex:String(c),activeCoordinate:f}}},Nfe=(e,t,n,r,i,o,s)=>{if(!(!e||!r||!i||!o||!n)){var u=hae(e,n);if(u){var c=aie(u,t),f=D$(c,s,o,r,i),h=wfe(t,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},Rfe=(e,t,n,r,i,o,s,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Pfe(e,t,r,i,o,s,u):Nfe(e,t,n,r,i,o,s)},Ife=te(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Mfe=te(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Ht)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hue}});function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){Ofe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ofe(e,t,n){return(t=kfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kfe(e){var t=Dfe(e,"string");return typeof t=="symbol"?t:t+""}function Dfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lfe={},jfe={zIndexMap:Object.values(Ht).reduce((e,t)=>_k(_k({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Lfe)},Ufe=new Set(Object.values(Ht));function $fe(e){return Ufe.has(e)}var z$=Hn({name:"zIndex",initialState:jfe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:yt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!$fe(n)&&delete e.zIndexMap[n])},prepare:yt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:yt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:yt()}}}),{registerZIndexPortal:zfe,unregisterZIndexPortal:Bfe,registerZIndexPortalElement:Vfe,unregisterZIndexPortalElement:qfe}=z$.actions,Gfe=z$.reducer;function cr(e){var{zIndex:t,children:n}=e,r=Uie(),i=r&&t!==void 0&&t!==0,o=nn(),s=Mt();A.useLayoutEffect(()=>i?(s(zfe({zIndex:t})),()=>{s(Bfe({zIndex:t}))}):ta,[s,t,i]);var u=Ce(c=>Ife(c,t,o));return i?u?Gj.createPortal(n,u):null:n}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){Hfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hfe(e,t,n){return(t=Ffe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ffe(e){var t=Kfe(e,"string");return typeof t=="symbol"?t:t+""}function Kfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wfe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function Yfe(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:f,chartName:h}=e,p=n,g=r,b=i;if(!c||!p||h!=="ScatterChart"&&f!=="axis")return null;var S,E,T;if(h==="ScatterChart")S=p,E=Aoe,T=Ht.cursorLine;else if(h==="BarChart")S=Coe(u,p,o,s),E=EU,T=Ht.cursorRectangle;else if(u==="radial"&&d5(p)){var{cx:C,cy:R,radius:N,startAngle:I,endAngle:O}=TU(p);S={cx:C,cy:R,startAngle:I,endAngle:O,innerRadius:N,outerRadius:N},E=CU,T=Ht.cursorLine}else S={points:vae(u,p,o)},E=mc,T=Ht.cursorLine;var M=typeof c=="object"&&"className"in c?c.className:void 0,U=mh(mh(mh(mh({stroke:"#ccc",pointerEvents:"none"},o),S),Zc(c)),{},{payload:g,payloadIndex:b,className:et("recharts-tooltip-cursor",M)});return A.createElement(cr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},A.createElement(Wfe,{cursor:c,cursorComp:E,cursorProps:U}))}function Jfe(e){var t=gfe(),n=lU(),r=na(),i=L$();return t==null||n==null||r==null||i==null?null:A.createElement(Yfe,yw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var B$=A.createContext(null),Xfe=()=>A.useContext(B$),vb={exports:{}},Ek;function Zfe(){return Ek||(Ek=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,g),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],b]:c._events[S].push(b):(c._events[S]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,S=new Array(b);g<b;g++)S[g]=p[g].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,g,b,S){var E=n?n+f:f;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,R,N;if(T.fn){switch(T.once&&this.removeListener(f,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,p),!0;case 4:return T.fn.call(T.context,h,p,g),!0;case 5:return T.fn.call(T.context,h,p,g,b),!0;case 6:return T.fn.call(T.context,h,p,g,b,S),!0}for(N=1,R=new Array(C-1);N<C;N++)R[N-1]=arguments[N];T.fn.apply(T.context,R)}else{var I=T.length,O;for(N=0;N<I;N++)switch(T[N].once&&this.removeListener(f,T[N].fn,void 0,!0),C){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,h);break;case 3:T[N].fn.call(T[N].context,h,p);break;case 4:T[N].fn.call(T[N].context,h,p,g);break;default:if(!R)for(O=1,R=new Array(C-1);O<C;O++)R[O-1]=arguments[O];T[N].fn.apply(T[N].context,R)}}return!0},u.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,g){var b=n?n+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var S=this._events[b];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&s(this,b);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==h||g&&!S[E].once||p&&S[E].context!==p)&&T.push(S[E]);T.length?this._events[b]=T.length===1?T[0]:T:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(vb)),vb.exports}var Qfe=Zfe();const ede=Jr(Qfe);var qc=new ede,bw="recharts.syncEvent.tooltip",Tk="recharts.syncEvent.brush",qS=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Kr(n))return e[n]}},tde={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},V$=Hn({name:"options",initialState:tde,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nde=V$.reducer,{createEventEmitter:rde}=V$.actions;function ide(e){return e.tooltip.syncInteraction}var ode={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},q$=Hn({name:"chartData",initialState:ode,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Ak,setDataStartEndIndexes:ade,setComputedData:O0e}=q$.actions,sde=q$.reducer,lde=["x","y"];function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ude(e,t,n){return(t=cde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dde(e,t){if(e==null)return{};var n,r,i=hde(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pde(){var e=Ce(bS),t=Ce(xS),n=Mt(),r=Ce(E3),i=Ce(ho),o=na(),s=Cm(),u=Ce(c=>c.rootProps.className);A.useEffect(()=>{if(e==null)return ta;var c=(f,h,p)=>{if(t!==p&&e===f){if(r==="index"){var g;if(s&&h!==null&&h!==void 0&&(g=h.payload)!==null&&g!==void 0&&g.coordinate&&h.payload.sourceViewBox){var b=h.payload.coordinate,{x:S,y:E}=b,T=dde(b,lde),{x:C,y:R,width:N,height:I}=h.payload.sourceViewBox,O=Zs(Zs({},T),{},{x:s.x+(N?(S-C)/N:0)*s.width,y:s.y+(I?(E-R)/I:0)*s.height});n(Zs(Zs({},h),{},{payload:Zs(Zs({},h.payload),{},{coordinate:O})}))}else n(h);return}if(i!=null){var M;if(typeof r=="function"){var U={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},q=r(i,U);M=i[q]}else r==="value"&&(M=i.find(D=>String(D.value)===h.payload.label));var{coordinate:V}=h.payload;if(M==null||h.payload.active===!1||V==null||s==null){n(gw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:ne,y:ie}=V,Y=Math.min(ne,s.x+s.width),L=Math.min(ie,s.y+s.height),H={x:o==="horizontal"?M.coordinate:Y,y:o==="horizontal"?L:M.coordinate},j=gw({active:h.payload.active,coordinate:H,dataKey:h.payload.dataKey,index:String(M.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(j)}}};return qc.on(bw,c),()=>{qc.off(bw,c)}},[u,n,t,e,r,i,o,s])}function mde(){var e=Ce(bS),t=Ce(xS),n=Mt();A.useEffect(()=>{if(e==null)return ta;var r=(i,o,s)=>{t!==s&&e===i&&n(ade(o))};return qc.on(Tk,r),()=>{qc.off(Tk,r)}},[n,t,e])}function gde(){var e=Mt();A.useEffect(()=>{e(rde())},[e]),pde(),mde()}function vde(e,t,n,r,i,o){var s=Ce(b=>Efe(b,e,t)),u=Ce(xS),c=Ce(bS),f=Ce(E3),h=Ce(ide),p=h==null?void 0:h.active,g=Cm();A.useEffect(()=>{if(!p&&c!=null&&u!=null){var b=gw({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});qc.emit(bw,c,b,u)}},[p,n,s,i,r,u,c,f,o,g])}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){yde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yde(e,t,n){return(t=bde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bde(e){var t=xde(e,"string");return typeof t=="symbol"?t:t+""}function xde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wde(e){return e.dataKey}function _de(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(ooe,t)}var Rk=[],Sde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yb(e){var t,n,r=bn(e,Sde),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:u,content:c,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:g,position:b,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:C,shared:R,trigger:N,defaultIndex:I,portal:O,axisId:M}=r,U=Mt(),q=typeof I=="number"?String(I):I;A.useEffect(()=>{U(xce({shared:R,trigger:N,axisId:M,active:i,defaultIndex:q}))},[U,R,N,M,i,q]);var V=Cm(),ne=bU(),ie=pce(R),{activeIndex:Y,isActive:L}=(t=Ce(he=>Cfe(he,ie,N,q)))!==null&&t!==void 0?t:{},H=Ce(he=>Afe(he,ie,N,q)),j=Ce(he=>$$(he,ie,N,q)),D=Ce(he=>Tfe(he,ie,N,q)),z=H,F=Xfe(),J=(n=i??L)!==null&&n!==void 0?n:!1,[se,$]=Hne([z,J]),W=ie==="axis"?j:void 0;vde(ie,N,D,W,Y,J);var ce=O??F;if(ce==null||V==null||ie==null)return null;var ue=z??Rk;J||(ue=Rk),f&&ue.length&&(ue=vne(ue.filter(he=>he.value!=null&&(he.hide!==!0||r.includeHidden)),g,wde));var de=ue.length>0,pe=A.createElement(doe,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:h,active:J,coordinate:D,hasPayload:de,offset:p,position:b,reverseDirection:S,useTranslate3d:E,viewBox:V,wrapperStyle:T,lastBoundingBox:se,innerRef:$,hasPortalFromProps:!!O},_de(c,Nk(Nk({},r),{},{payload:ue,label:W,active:J,activeIndex:Y,coordinate:D,accessibilityLayer:ne})));return A.createElement(A.Fragment,null,Gj.createPortal(pe,ce),J&&A.createElement(Jfe,{cursor:C,tooltipEventType:ie,coordinate:D,payload:ue,index:Y}))}var G$=e=>null;G$.displayName="Cell";function Ede(e,t,n){return(t=Tde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tde(e){var t=Ade(e,"string");return typeof t=="symbol"?t:t+""}function Ade(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cde{constructor(t){Ede(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pde(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(n),!0).forEach(function(r){Nde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nde(e,t,n){return(t=Rde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rde(e){var t=Ide(e,"string");return typeof t=="symbol"?t:t+""}function Ide(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mde={cacheSize:2e3,enableCache:!0},H$=Pde({},Mde),Mk=new Cde(H$.cacheSize),Ode={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ok="recharts_measurement_span";function kde(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",s=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var kk=(e,t)=>{try{var n=document.getElementById(Ok);n||(n=document.createElement("span"),n.setAttribute("id",Ok),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ode,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},gc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||af.isSsr)return{width:0,height:0};if(!H$.enableCache)return kk(t,n);var r=kde(t,n),i=Mk.get(r);if(i)return i;var o=kk(t,n);return Mk.set(r,o),o},F$;function Dde(e,t,n){return(t=Lde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lde(e){var t=jde(e,"string");return typeof t=="symbol"?t:t+""}function jde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ude=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$de=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bde=["cm","mm","pt","pc","in","Q","px"];function Vde(e){return Bde.includes(e)}var ml="NaN";function qde(e,t){return e*zde[t]}class vn{static parse(t){var n,[,r,i]=(n=$de.exec(t))!==null&&n!==void 0?n:[];return r==null?vn.NaN:new vn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Kr(t)&&(this.unit=""),n!==""&&!Ude.test(n)&&(this.num=NaN,this.unit=""),Vde(n)&&(this.num=qde(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new vn(NaN,""):new vn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vn(NaN,""):new vn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vn(NaN,""):new vn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vn(NaN,""):new vn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Kr(this.num)}}F$=vn;Dde(vn,"NaN",new F$(NaN,""));function K$(e){if(e==null||e.includes(ml))return ml;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=Dk.exec(t))!==null&&n!==void 0?n:[],s=vn.parse(r??""),u=vn.parse(o??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return ml;t=t.replace(Dk,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=Lk.exec(t))!==null&&f!==void 0?f:[],b=vn.parse(h??""),S=vn.parse(g??""),E=p==="+"?b.add(S):b.subtract(S);if(E.isNaN())return ml;t=t.replace(Lk,E.toString())}return t}var jk=/\(([^()]*)\)/;function Gde(e){for(var t=e,n;(n=jk.exec(t))!=null;){var[,r]=n;t=t.replace(jk,K$(r))}return t}function Hde(e){var t=e.replace(/\s+/g,"");return t=Gde(t),t=K$(t),t}function Fde(e){try{return Hde(e)}catch{return ml}}function bb(e){var t=Fde(e.slice(5,-1));return t===ml?"":t}var Kde=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wde=["dx","dy","angle","className","breakAll"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}function Uk(e,t){if(e==null)return{};var n,r,i=Yde(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var W$=/[ \f\n\r\t\v\u2028\u2029]+/,Y$=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];xt(t)||(n?i=t.toString().split(""):i=t.toString().split(W$));var o=i.map(u=>({word:u,width:gc(u,r).width})),s=n?0:gc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Jde(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var J$=(e,t,n,r)=>e.reduce((i,o)=>{var{word:s,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(t==null||r||c.width+u+n<Number(t)))c.words.push(s),c.width+=u+n;else{var f={words:[s],width:u};i.push(f)}return i},[]),X$=e=>e.reduce((t,n)=>t.width>n.width?t:n),Xde="",$k=(e,t,n,r,i,o,s,u)=>{var c=e.slice(0,t),f=Y$({breakAll:n,style:r,children:c+Xde});if(!f)return[!1,[]];var h=J$(f.wordsWithComputedWidth,o,s,u),p=h.length>i||X$(h).width>Number(o);return[p,h]},Zde=(e,t,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:c}=e,f=ve(o),h=String(s),p=J$(t,r,n,i);if(!f||i)return p;var g=p.length>o||X$(p).width>Number(r);if(!g)return p;for(var b=0,S=h.length-1,E=0,T;b<=S&&E<=h.length-1;){var C=Math.floor((b+S)/2),R=C-1,[N,I]=$k(h,R,c,u,o,r,n,i),[O]=$k(h,C,c,u,o,r,n,i);if(!N&&!O&&(b=C+1),N&&O&&(S=C-1),!N&&O){T=I;break}E++}return T||p},zk=e=>{var t=xt(e)?[]:e.toString().split(W$);return[{words:t,width:void 0}]},Qde=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=e;if((t||n)&&!af.isSsr){var u,c,f=Y$({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;u=h,c=p}else return zk(r);return Zde({breakAll:o,children:r,maxLines:s,style:i},u,c,t,!!n)}return zk(r)},Z$="#808080",ehe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Z$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},GS=A.forwardRef((e,t)=>{var n=bn(e,ehe),{x:r,y:i,lineHeight:o,capHeight:s,fill:u,scaleToFit:c,textAnchor:f,verticalAnchor:h}=n,p=Uk(n,Kde),g=A.useMemo(()=>Qde({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:b,dy:S,angle:E,className:T,breakAll:C}=p,R=Uk(p,Wde);if(!mi(r)||!mi(i)||g.length===0)return null;var N=Number(r)+(ve(b)?b:0),I=Number(i)+(ve(S)?S:0);if(!je(N)||!je(I))return null;var O;switch(h){case"start":O=bb("calc(".concat(s,")"));break;case"middle":O=bb("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:O=bb("calc(".concat(g.length-1," * -").concat(o,")"));break}var M=[],U=g[0];if(c&&U!=null){var q=U.width,{width:V}=p;M.push("scale(".concat(ve(V)&&ve(q)?V/q:1,")"))}return E&&M.push("rotate(".concat(E,", ").concat(N,", ").concat(I,")")),M.length&&(R.transform=M.join(" ")),A.createElement("text",xw({},En(R),{ref:t,x:N,y:I,className:et("recharts-text",T),textAnchor:f,fill:u.includes("url")?Z$:u}),g.map((ne,ie)=>{var Y=ne.words.join(C?"":" ");return A.createElement("tspan",{x:N,dy:ie===0?O:o,key:"".concat(Y,"-").concat(ie)},Y)}))});GS.displayName="Text";function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(r){the(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function the(e,t,n){return(t=nhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nhe(e){var t=rhe(e,"string");return typeof t=="symbol"?t:t+""}function rhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ihe=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:s,height:u,upperWidth:c,lowerWidth:f}=V_(t),h=o,p=o+(c-f)/2,g=(h+p)/2,b=(c+f)/2,S=h+c/2,E=u>=0?1:-1,T=E*r,C=E>0?"end":"start",R=E>0?"start":"end",N=c>=0?1:-1,I=N*r,O=N>0?"end":"start",M=N>0?"start":"end",U=i;if(n==="top"){var q={x:h+c/2,y:s-T,horizontalAnchor:"middle",verticalAnchor:C};return U&&(q.height=Math.max(s-U.y,0),q.width=c),q}if(n==="bottom"){var V={x:p+f/2,y:s+u+T,horizontalAnchor:"middle",verticalAnchor:R};return U&&(V.height=Math.max(U.y+U.height-(s+u),0),V.width=f),V}if(n==="left"){var ne={x:g-I,y:s+u/2,horizontalAnchor:O,verticalAnchor:"middle"};return U&&(ne.width=Math.max(ne.x-U.x,0),ne.height=u),ne}if(n==="right"){var ie={x:g+b+I,y:s+u/2,horizontalAnchor:M,verticalAnchor:"middle"};return U&&(ie.width=Math.max(U.x+U.width-ie.x,0),ie.height=u),ie}var Y=U?{width:b,height:u}:{};return n==="insideLeft"?si({x:g+I,y:s+u/2,horizontalAnchor:M,verticalAnchor:"middle"},Y):n==="insideRight"?si({x:g+b-I,y:s+u/2,horizontalAnchor:O,verticalAnchor:"middle"},Y):n==="insideTop"?si({x:h+c/2,y:s+T,horizontalAnchor:"middle",verticalAnchor:R},Y):n==="insideBottom"?si({x:p+f/2,y:s+u-T,horizontalAnchor:"middle",verticalAnchor:C},Y):n==="insideTopLeft"?si({x:h+I,y:s+T,horizontalAnchor:M,verticalAnchor:R},Y):n==="insideTopRight"?si({x:h+c-I,y:s+T,horizontalAnchor:O,verticalAnchor:R},Y):n==="insideBottomLeft"?si({x:p+I,y:s+u-T,horizontalAnchor:M,verticalAnchor:C},Y):n==="insideBottomRight"?si({x:p+f-I,y:s+u-T,horizontalAnchor:O,verticalAnchor:C},Y):n&&typeof n=="object"&&(ve(n.x)||Wa(n.x))&&(ve(n.y)||Wa(n.y))?si({x:o+Wr(n.x,b),y:s+Wr(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},Y):si({x:S,y:s+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},Y)},ohe=["labelRef"],ahe=["content"];function Vk(e,t){if(e==null)return{};var n,r,i=she(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function she(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(n),!0).forEach(function(r){lhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lhe(e,t,n){return(t=uhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uhe(e){var t=che(e,"string");return typeof t=="symbol"?t:t+""}function che(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(null,arguments)}var Q$=A.createContext(null),fhe=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s,children:u}=e,c=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:s}),[t,n,r,i,o,s]);return A.createElement(Q$.Provider,{value:c},u)},ez=()=>{var e=A.useContext(Q$),t=Cm();return e||(t?V_(t):void 0)},dhe=A.createContext(null),hhe=()=>{var e=A.useContext(dhe),t=Ce(N3);return e||t},phe=e=>{var{value:t,formatter:n}=e,r=xt(e.children)?t:e.children;return typeof n=="function"?n(r):r},HS=e=>e!=null&&typeof e=="function",mhe=(e,t)=>{var n=Vn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},ghe=(e,t,n,r,i)=>{var{offset:o,className:s}=e,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:b}=i,S=(f+h)/2,E=mhe(p,g),T=E>=0?1:-1,C,R;switch(t){case"insideStart":C=p+T*o,R=b;break;case"insideEnd":C=g-T*o,R=!b;break;case"end":C=g+T*o,R=b;break;default:throw new Error("Unsupported position ".concat(t))}R=E<=0?R:!R;var N=yn(u,c,S,C),I=yn(u,c,S,C+(R?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(R?0:1,`,
    `).concat(I.x,",").concat(I.y),M=xt(e.id)?Rc("recharts-radial-line-"):e.id;return A.createElement("text",qi({},r,{dominantBaseline:"central",className:et("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:M,d:O})),A.createElement("textPath",{xlinkHref:"#".concat(M)},n))},vhe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:c}=e,f=(u+c)/2;if(n==="outside"){var{x:h,y:p}=yn(r,i,s+t,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(o+s)/2,{x:b,y:S}=yn(r,i,g,f);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Ih=e=>e!=null&&"cx"in e&&ve(e.cx),yhe={angle:0,offset:5,zIndex:Ht.label,position:"middle",textBreakAll:!1};function bhe(e){if(!Ih(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function qo(e){var t=bn(e,yhe),{viewBox:n,parentViewBox:r,position:i,value:o,children:s,content:u,className:c="",textBreakAll:f,labelRef:h}=t,p=hhe(),g=ez(),b=i==="center"?g:p??g,S,E,T;n==null?S=b:Ih(n)?S=n:S=V_(n);var C=bhe(S);if(!S||xt(o)&&xt(s)&&!A.isValidElement(u)&&typeof u!="function")return null;var R=lc(lc({},t),{},{viewBox:S});if(A.isValidElement(u)){var{labelRef:N}=R,I=Vk(R,ohe);return A.cloneElement(u,I)}if(typeof u=="function"){var{content:O}=R,M=Vk(R,ahe);if(E=A.createElement(u,M),A.isValidElement(E))return E}else E=phe(t);var U=En(t);if(Ih(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return ghe(t,i,E,U,S);T=vhe(S,t.offset,t.position)}else{if(!C)return null;var q=ihe({viewBox:C,position:i,offset:t.offset,parentViewBox:Ih(r)?void 0:r});T=lc(lc({x:q.x,y:q.y,textAnchor:q.horizontalAnchor,verticalAnchor:q.verticalAnchor},q.width!==void 0?{width:q.width}:{}),q.height!==void 0?{height:q.height}:{})}return A.createElement(cr,{zIndex:t.zIndex},A.createElement(GS,qi({ref:h,className:et("recharts-label",c)},U,T,{textAnchor:Jde(U.textAnchor)?U.textAnchor:T.textAnchor,breakAll:f}),E))}qo.displayName="Label";var xhe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(qo,qi({key:"label-implicit"},r)):mi(e)?A.createElement(qo,qi({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===qo?A.cloneElement(e,lc({key:"label-implicit"},r)):A.createElement(qo,qi({key:"label-implicit",content:e},r)):HS(e)?A.createElement(qo,qi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(qo,qi({},e,{key:"label-implicit"},r)):null};function whe(e){var{label:t,labelRef:n}=e,r=ez();return xhe(t,r,n)||null}var xb={},wb={},Gk;function _he(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(wb)),wb}var _b={},Hk;function She(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(_b)),_b}var Fk;function Ehe(){return Fk||(Fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_he(),n=She(),r=I_();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(xb)),xb}var Sb,Kk;function The(){return Kk||(Kk=1,Sb=Ehe().last),Sb}var Ahe=The();const Che=Jr(Ahe);var Phe=["valueAccessor"],Nhe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bp.apply(null,arguments)}function Wk(e,t){if(e==null)return{};var n,r,i=Rhe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ihe=e=>Array.isArray(e.value)?Che(e.value):e.value,tz=A.createContext(void 0),FS=tz.Provider,nz=A.createContext(void 0);nz.Provider;function Mhe(){return A.useContext(tz)}function Ohe(){return A.useContext(nz)}function Mh(e){var{valueAccessor:t=Ihe}=e,n=Wk(e,Phe),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:u}=n,c=Wk(n,Nhe),f=Mhe(),h=Ohe(),p=f||h;return!p||!p.length?null:A.createElement(cr,{zIndex:u??Ht.label},A.createElement(Tn,{className:"recharts-label-list"},p.map((g,b)=>{var S,E=xt(r)?t(g,b):Nt(g.payload,r),T=xt(o)?{}:{id:"".concat(o,"-").concat(b)};return A.createElement(qo,Bp({key:"label-".concat(b)},En(g),c,T,{fill:(S=n.fill)!==null&&S!==void 0?S:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:s,viewBox:g.viewBox,index:b,zIndex:0}))})))}Mh.displayName="LabelList";function KS(e){var{label:t}=e;return t?t===!0?A.createElement(Mh,{key:"labelList-implicit"}):A.isValidElement(t)||HS(t)?A.createElement(Mh,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Mh,Bp({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(null,arguments)}var rz=e=>{var{cx:t,cy:n,r,className:i}=e,o=et("recharts-dot",i);return ve(t)&&ve(n)&&ve(r)?A.createElement("circle",ww({},lr(e),N_(e),{className:o,cx:t,cy:n,r})):null},khe={radiusAxis:{},angleAxis:{}},iz=Hn({name:"polarAxis",initialState:khe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:k0e,removeRadiusAxis:D0e,addAngleAxis:L0e,removeAngleAxis:j0e}=iz.actions,Dhe=iz.reducer;function Lhe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Eb={exports:{}},ot={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk;function jhe(){if(Yk)return ot;Yk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case c:case f:case g:return E;default:switch(E=E&&E.$$typeof,E){case s:case u:case p:case h:return E;case o:return E;default:return T}}case t:return T}}}return ot.ContextConsumer=o,ot.ContextProvider=s,ot.Element=e,ot.ForwardRef=u,ot.Fragment=n,ot.Lazy=p,ot.Memo=h,ot.Portal=t,ot.Profiler=i,ot.StrictMode=r,ot.Suspense=c,ot.SuspenseList=f,ot.isContextConsumer=function(E){return S(E)===o},ot.isContextProvider=function(E){return S(E)===s},ot.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},ot.isForwardRef=function(E){return S(E)===u},ot.isFragment=function(E){return S(E)===n},ot.isLazy=function(E){return S(E)===p},ot.isMemo=function(E){return S(E)===h},ot.isPortal=function(E){return S(E)===t},ot.isProfiler=function(E){return S(E)===i},ot.isStrictMode=function(E){return S(E)===r},ot.isSuspense=function(E){return S(E)===c},ot.isSuspenseList=function(E){return S(E)===f},ot.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===c||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===h||E.$$typeof===s||E.$$typeof===o||E.$$typeof===u||E.$$typeof===b||E.getModuleId!==void 0)},ot.typeOf=S,ot}var Jk;function Uhe(){return Jk||(Jk=1,Eb.exports=jhe()),Eb.exports}var $he=Uhe(),Xk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Zk=null,Tb=null,oz=e=>{if(e===Zk&&Array.isArray(Tb))return Tb;var t=[];return A.Children.forEach(e,n=>{xt(n)||($he.isFragment(n)?t=t.concat(oz(n.props.children)):t.push(n))}),Tb=t,Zk=e,t};function zhe(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Xk(i)):r=[Xk(t)],oz(e).forEach(i=>{var o=El(i,"type.displayName")||El(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var WS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Ab={},Qk;function Bhe(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Ab)),Ab}var Cb,eD;function Vhe(){return eD||(eD=1,Cb=Bhe().isPlainObject),Cb}var qhe=Vhe();const Ghe=Jr(qhe);var tD,nD,rD,iD,oD;function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){Hhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hhe(e,t,n){return(t=Fhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fhe(e){var t=Khe(e,"string");return typeof t=="symbol"?t:t+""}function Khe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vp.apply(null,arguments)}function nc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lD=(e,t,n,r,i)=>{var o=n-r,s;return s=Pt(tD||(tD=nc(["M ",",",""])),e,t),s+=Pt(nD||(nD=nc(["L ",",",""])),e+n,t),s+=Pt(rD||(rD=nc(["L ",",",""])),e+n-o/2,t+i),s+=Pt(iD||(iD=nc(["L ",",",""])),e+n-o/2-r,t+i),s+=Pt(oD||(oD=nc(["L ",","," Z"])),e,t),s},Whe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yhe=e=>{var t=bn(e,Whe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:u}=t,{animationEasing:c,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t,g=A.useRef(null),[b,S]=A.useState(-1),E=A.useRef(i),T=A.useRef(o),C=A.useRef(s),R=A.useRef(n),N=A.useRef(r),I=lf(e,"trapezoid-");if(A.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var H=g.current.getTotalLength();H&&S(H)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var O=et("recharts-trapezoid",u);if(!p)return A.createElement("g",null,A.createElement("path",Vp({},En(t),{className:O,d:lD(n,r,i,o,s)})));var M=E.current,U=T.current,q=C.current,V=R.current,ne=N.current,ie="0px ".concat(b===-1?1:b,"px"),Y="".concat(b,"px 0px"),L=xU(["strokeDasharray"],f,c);return A.createElement(sf,{animationId:I,key:I,canBegin:b>0,duration:f,easing:c,isActive:p,begin:h},H=>{var j=at(M,i,H),D=at(U,o,H),z=at(q,s,H),F=at(V,n,H),J=at(ne,r,H);g.current&&(E.current=j,T.current=D,C.current=z,R.current=F,N.current=J);var se=H>0?{transition:L,strokeDasharray:Y}:{strokeDasharray:ie};return A.createElement("path",Vp({},En(t),{className:O,d:lD(F,J,j,D,z),ref:g,style:sD(sD({},se),t.style)}))})},Jhe=["option","shapeType","activeClassName"];function Xhe(e,t){if(e==null)return{};var n,r,i=Zhe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){Qhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qhe(e,t,n){return(t=epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function epe(e){var t=tpe(e,"string");return typeof t=="symbol"?t:t+""}function tpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function npe(e,t){return qp(qp({},t),e)}function rpe(e,t){return e==="symbols"}function cD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(EU,n);case"trapezoid":return A.createElement(Yhe,n);case"sector":return A.createElement(CU,n);case"symbols":if(rpe(t))return A.createElement(f5,n);break;case"curve":return A.createElement(mc,n);default:return null}}function ipe(e){return A.isValidElement(e)?e.props:e}function az(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Xhe(e,Jhe),o;if(A.isValidElement(t))o=A.cloneElement(t,qp(qp({},i),ipe(t)));else if(typeof t=="function")o=t(i,i.index);else if(Ghe(t)&&typeof t!="boolean"){var s=npe(t,i);o=A.createElement(cD,{shapeType:n,elementProps:s})}else{var u=i;o=A.createElement(cD,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(Tn,{className:r},o):o}var sz=(e,t,n)=>{var r=Mt();return(i,o)=>s=>{e==null||e(i,o,s),r(y$({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},lz=e=>{var t=Mt();return(n,r)=>i=>{e==null||e(n,r,i),t(wce())}},uz=(e,t,n)=>{var r=Mt();return(i,o)=>s=>{e==null||e(i,o,s),r(_ce({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function YS(e){var{tooltipEntrySettings:t}=e,n=Mt(),r=nn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(vce(t)):i.current!==t&&n(yce({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(bce(i.current)),i.current=null)},[n]),null}function JS(e){var{legendPayload:t}=e,n=Mt(),r=nn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Xie(t)):i.current!==t&&n(Zie({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(Qie(i.current)),i.current=null)},[n]),null}var Pb,ope=()=>{var[e]=A.useState(()=>Rc("uid-"));return e},ape=(Pb=CV.useId)!==null&&Pb!==void 0?Pb:ope;function spe(e,t){var n=ape();return t||(e?"".concat(e,"-").concat(n):n)}var lpe=A.createContext(void 0),XS=e=>{var{id:t,type:n,children:r}=e,i=spe("recharts-".concat(n),t);return A.createElement(lpe.Provider,{value:i},r(i))},upe={cartesianItems:[],polarItems:[]},cz=Hn({name:"graphicalItems",initialState:upe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:yt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Fr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:yt()},removeCartesianGraphicalItem:{reducer(e,t){var n=Fr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:yt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:yt()},removePolarGraphicalItem:{reducer(e,t){var n=Fr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:yt()}}}),{addCartesianGraphicalItem:cpe,replaceCartesianGraphicalItem:fpe,removeCartesianGraphicalItem:dpe,addPolarGraphicalItem:U0e,removePolarGraphicalItem:$0e}=cz.actions,hpe=cz.reducer,ppe=e=>{var t=Mt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(cpe(e)):n.current!==e&&t(fpe({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(dpe(n.current)),n.current=null)},[t]),null},ZS=A.memo(ppe),mpe=["points"];function fD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(n),!0).forEach(function(r){gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gpe(e,t,n){return(t=vpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vpe(e){var t=ype(e,"string");return typeof t=="symbol"?t:t+""}function ype(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gp.apply(null,arguments)}function bpe(e,t){if(e==null)return{};var n,r,i=xpe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xpe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wpe(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=et(r,typeof t!="boolean"?t.className:""),o=n??{},{points:s}=o,u=bpe(o,mpe);return A.createElement(rz,Gp({},u,{className:i}))}function _pe(e,t){return e==null?!1:t?!0:e.length===1}function fz(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:s,needClip:u,clipPathId:c,zIndex:f=Ht.scatter}=e;if(!_pe(t,n))return null;var h=WS(n),p=qee(n),g=t.map((S,E)=>{var T,C,R=Nb(Nb(Nb({r:3},s),p),{},{index:E,cx:(T=S.x)!==null&&T!==void 0?T:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:o,value:S.value,payload:S.payload,points:t});return A.createElement(wpe,{key:"dot-".concat(E),option:n,dotProps:R,className:i})}),b={};return u&&c!=null&&(b.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),A.createElement(cr,{zIndex:f},A.createElement(Tn,Gp({className:r},b),g))}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){Spe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Spe(e,t,n){return(t=Epe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Epe(e){var t=Tpe(e,"string");return typeof t=="symbol"?t:t+""}function Tpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dz=0,Ape={xAxis:{},yAxis:{},zAxis:{}},hz=Hn({name:"cartesianAxis",initialState:Ape,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:yt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:yt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:yt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:yt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:yt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:yt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:yt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:yt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:yt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((o=s[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...s,r].slice(-3);e.yAxis[n]=hD(hD({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:Cpe,replaceXAxis:Ppe,removeXAxis:Npe,addYAxis:Rpe,replaceYAxis:Ipe,removeYAxis:Mpe,addZAxis:z0e,replaceZAxis:B0e,removeZAxis:V0e,updateYAxisWidth:Ope}=hz.actions,kpe=hz.reducer,Dpe=te([tn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Lpe=te([Dpe,ao,so],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Jm=()=>Ce(Lpe),jpe=()=>Ce(ffe);function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){Upe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Upe(e,t,n){return(t=$pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $pe(e){var t=zpe(e,"string");return typeof t=="symbol"?t:t+""}function zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bpe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Rb(Rb(Rb({},u),Zc(i)),N_(i)),f;return A.isValidElement(i)?f=A.cloneElement(i,c):typeof i=="function"?f=i(c):f=A.createElement(rz,c),A.createElement(Tn,{className:"recharts-active-dot",clipPath:s},f)};function _w(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:s=Ht.activeDot}=e,u=Ce(Qa),c=jpe();if(t==null||c==null)return null;var f=t.find(h=>c.includes(h.payload));return xt(f)?null:A.createElement(cr,{zIndex:s},A.createElement(Bpe,{point:f,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var mD=(e,t,n)=>{var r=n??e;if(!xt(r))return Wr(r,t,0)},Vpe=(e,t,n)=>{var r={},i=e.filter(qm),o=e.filter(f=>f.stackId==null),s=i.reduce((f,h)=>{var p=f[h.stackId];return p==null&&(p=[]),p.push(h),f[h.stackId]=p,f},r),u=Object.entries(s).map(f=>{var h,[p,g]=f,b=g.map(E=>E.dataKey),S=mD(t,n,(h=g[0])===null||h===void 0?void 0:h.barSize);return{stackId:p,dataKeys:b,barSize:S}}),c=o.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=mD(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...u,...c]};function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpe(e,t,n){return(t=Gpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gpe(e){var t=Hpe(e,"string");return typeof t=="symbol"?t:t+""}function Hpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fpe(e,t,n,r,i){var o,s=r.length;if(!(s<1)){var u=Wr(e,n,0,!0),c,f=[];if(je((o=r[0])===null||o===void 0?void 0:o.barSize)){var h=!1,p=n/s,g=r.reduce((R,N)=>R+(N.barSize||0),0);g+=(s-1)*u,g>=n&&(g-=(s-1)*u,u=0),g>=n&&p>0&&(h=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,S={offset:b-u,size:0};c=r.reduce((R,N)=>{var I,O={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:S.offset+S.size+u,size:h?p:(I=N.barSize)!==null&&I!==void 0?I:0}},M=[...R,O];return S=O.position,M},f)}else{var E=Wr(t,n,0,!0);n-2*E-(s-1)*u<=0&&(u=0);var T=(n-2*E-(s-1)*u)/s;T>1&&(T>>=0);var C=je(i)?Math.min(T,i):T;c=r.reduce((R,N,I)=>[...R,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:E+(T+u)*I+(T-C)/2,size:C}}],f)}return c}}var Kpe=(e,t,n,r,i,o,s)=>{var u=xt(s)?t:s,c=Fpe(n,r,i!==o?i:o,e,u);return i!==o&&c!=null&&(c=c.map(f=>gh(gh({},f),{},{position:gh(gh({},f.position),{},{offset:f.position.offset-i/2})}))),c},Wpe=(e,t)=>{var n=Vm(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(s=>s.key===n)}}}},Ype=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function Jpe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&je(e.zIndex)?e.zIndex:t}var Xpe=e=>{var{chartData:t}=e,n=Mt(),r=nn();return A.useEffect(()=>r?()=>{}:(n(Ak(t)),()=>{n(Ak(void 0))}),[t,n,r]),null},vD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pz=Hn({name:"brush",initialState:vD,reducers:{setBrushSettings(e,t){return t.payload==null?vD:t.payload}}}),{setBrushSettings:q0e}=pz.actions,Zpe=pz.reducer;function Qpe(e){return(e%180+180)%180}var eme=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Qpe(i),s=o*Math.PI/180,u=Math.atan(r/n),c=s>u&&s<Math.PI-u?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},tme={dots:[],areas:[],lines:[]},mz=Hn({name:"referenceElements",initialState:tme,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Fr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Fr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Fr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:G0e,removeDot:H0e,addArea:F0e,removeArea:K0e,addLine:W0e,removeLine:Y0e}=mz.actions,nme=mz.reducer,rme=A.createContext(void 0),ime=e=>{var{children:t}=e,[n]=A.useState("".concat(Rc("recharts"),"-clip")),r=Jm();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return A.createElement(rme.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:u,width:s}))),t)};function gz(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ome(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return eme(r,n)}function ame(e,t,n){var r=n==="width",{x:i,y:o,width:s,height:u}=e;return t===1?{start:r?i:o,end:r?i+s:o+u}:{start:r?i+s:o+u,end:r?i:o}}function Gc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function sme(e,t){return gz(e,t+1)}function lme(e,t,n,r,i){for(var o=(r||[]).slice(),{start:s,end:u}=t,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:gz(r,f)};var E=c,T,C=()=>(T===void 0&&(T=n(S,E)),T),R=S.coordinate,N=c===0||Gc(e,R,C,h,u);N||(c=0,h=s,f+=1),N&&(h=R+e*(C()/2+i),c+=f)},g;f<=o.length;)if(g=p(),g)return g.v;return[]}function ume(e,t,n,r,i){var o=(r||[]).slice(),s=o.length;if(s===0)return[];for(var{start:u,end:c}=t,f=1;f<=s;f++){for(var h=(s-1)%f,p=u,g=!0,b=function(){var I=r[E];if(I==null)return 0;var O=E,M,U=()=>(M===void 0&&(M=n(I,O)),M),q=I.coordinate,V=E===h||Gc(e,q,U,p,c);if(!V)return g=!1,1;V&&(p=q+e*(U()/2+i))},S,E=h;E<s&&(S=b(),!(S!==0&&S===1));E+=f);if(g){for(var T=[],C=h;C<s;C+=f){var R=r[C];R!=null&&T.push(R)}return T}}return[]}function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(r){cme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cme(e,t,n){return(t=fme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fme(e){var t=dme(e,"string");return typeof t=="symbol"?t:t+""}function dme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hme(e,t,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:u}=t,{end:c}=t,f=function(g){var b=o[g];if(b==null)return 1;var S=b,E,T=()=>(E===void 0&&(E=n(b,g)),E);if(g===s-1){var C=e*(S.coordinate+e*T()/2-c);o[g]=S=wn(wn({},S),{},{tickCoord:C>0?S.coordinate-C*e:S.coordinate})}else o[g]=S=wn(wn({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var R=Gc(e,S.tickCoord,T,u,c);R&&(c=S.tickCoord-e*(T()/2+i),o[g]=wn(wn({},S),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return o}function pme(e,t,n,r,i,o){var s=(r||[]).slice(),u=s.length,{start:c,end:f}=t;if(o){var h=r[u-1];if(h!=null){var p=n(h,u-1),g=e*(h.coordinate+e*p/2-f);if(s[u-1]=h=wn(wn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate}),h.tickCoord!=null){var b=Gc(e,h.tickCoord,()=>p,c,f);b&&(f=h.tickCoord-e*(p/2+i),s[u-1]=wn(wn({},h),{},{isShow:!0}))}}}for(var S=o?u-1:u,E=function(R){var N=s[R];if(N==null)return 1;var I=N,O,M=()=>(O===void 0&&(O=n(N,R)),O);if(R===0){var U=e*(I.coordinate-e*M()/2-c);s[R]=I=wn(wn({},I),{},{tickCoord:U<0?I.coordinate-U*e:I.coordinate})}else s[R]=I=wn(wn({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var q=Gc(e,I.tickCoord,M,c,f);q&&(c=I.tickCoord+e*(M()/2+i),s[R]=wn(wn({},I),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return s}function QS(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:u,interval:c,tickFormatter:f,unit:h,angle:p}=e;if(!i||!i.length||!r)return[];if(ve(c)||af.isSsr){var g;return(g=sme(i,ve(c)?c:0))!==null&&g!==void 0?g:[]}var b=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?gc(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(O,M)=>{var U=typeof f=="function"?f(O.value,M):O.value;return S==="width"?ome(gc(U,{fontSize:t,letterSpacing:n}),E,p):gc(U,{fontSize:t,letterSpacing:n})[S]},C=i[0],R=i[1],N=i.length>=2&&C!=null&&R!=null?Vn(R.coordinate-C.coordinate):1,I=ame(o,N,S);return c==="equidistantPreserveStart"?lme(N,I,T,i,s):c==="equidistantPreserveEnd"?ume(N,I,T,i,s):(c==="preserveStart"||c==="preserveStartEnd"?b=pme(N,I,T,i,s,c==="preserveStartEnd"):b=hme(N,I,T,i,s),b.filter(O=>O.isShow))}var mme=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,s=0;if(t){Array.from(t).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var u=n?n.getBoundingClientRect().width:0,c=i+o,f=s+c+u+(n?r:0);return Math.round(f)}return 0},gme=["axisLine","width","height","className","hide","ticks","axisType"];function vme(e,t){if(e==null)return{};var n,r,i=yme(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(null,arguments)}function bD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(n),!0).forEach(function(r){bme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bme(e,t,n){return(t=xme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xme(e){var t=wme(e,"string");return typeof t=="symbol"?t:t+""}function wme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ht.axis};function _me(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:u,otherSvgProps:c}=e;if(!u)return null;var f=At(At(At({},c),lr(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!s||o==="bottom"&&s);f=At(At({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(o==="left"&&!s||o==="right"&&s);f=At(At({},f),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return A.createElement("line",es({},f,{className:et("recharts-cartesian-axis-line",El(u,"className"))}))}function Sme(e,t,n,r,i,o,s,u,c){var f,h,p,g,b,S,E=u?-1:1,T=e.tickSize||s,C=ve(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=h=e.coordinate,g=n+ +!u*i,p=g-E*T,S=p-E*c,b=C;break;case"left":p=g=e.coordinate,h=t+ +!u*r,f=h-E*T,b=f-E*c,S=C;break;case"right":p=g=e.coordinate,h=t+ +u*r,f=h+E*T,b=f+E*c,S=C;break;default:f=h=e.coordinate,g=n+ +u*i,p=g+E*T,S=p+E*c,b=C;break}return{line:{x1:f,y1:p,x2:h,y2:g},tick:{x:b,y:S}}}function Eme(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Tme(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ame(e){var{option:t,tickProps:n,value:r}=e,i,o=et(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,At(At({},n),{},{className:o}));else if(typeof t=="function")i=t(At(At({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=et(s,Lhe(t))),i=A.createElement(GS,es({},n,{className:s}),r)}return i}var Cme=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:s,unit:u,padding:c,tickTextProps:f,orientation:h,mirror:p,x:g,y:b,width:S,height:E,tickSize:T,tickMargin:C,fontSize:R,letterSpacing:N,getTicksConfig:I,events:O,axisType:M}=e,U=QS(At(At({},I),{},{ticks:n}),R,N),q=Eme(h,p),V=Tme(h,p),ne=lr(I),ie=Zc(r),Y={};typeof i=="object"&&(Y=i);var L=At(At({},ne),{},{fill:"none"},Y),H=U.map(z=>At({entry:z},Sme(z,g,b,S,E,h,T,p,C))),j=H.map(z=>{var{entry:F,line:J}=z;return A.createElement(Tn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},i&&A.createElement("line",es({},L,J,{className:et("recharts-cartesian-axis-tick-line",El(i,"className"))})))}),D=H.map((z,F)=>{var J,se,{entry:$,tick:W}=z,ce=At(At(At(At({verticalAnchor:V},ne),{},{textAnchor:q,stroke:"none",fill:o},W),{},{index:F,payload:$,visibleTicksCount:U.length,tickFormatter:s,padding:c},f),{},{angle:(J=(se=f==null?void 0:f.angle)!==null&&se!==void 0?se:ne.angle)!==null&&J!==void 0?J:0}),ue=At(At({},ce),ie);return A.createElement(Tn,es({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},R_(O,$,F)),r&&A.createElement(Ame,{option:r,tickProps:ue,value:"".concat(typeof s=="function"?s($.value,F):$.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},D.length>0&&A.createElement(cr,{zIndex:Ht.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},D)),j.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},j))}),Pme=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:s,ticks:u,axisType:c}=e,f=vme(e,gme),[h,p]=A.useState(""),[g,b]=A.useState(""),S=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return mme({ticks:S.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=A.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var R=C[0];if(R){var N=window.getComputedStyle(R),I=N.fontSize,O=N.letterSpacing;(I!==h||O!==g)&&(p(I),b(O))}}},[h,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(cr,{zIndex:e.zIndex},A.createElement(Tn,{className:et("recharts-cartesian-axis",o)},A.createElement(_me,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:lr(e)}),A.createElement(Cme,{ref:E,axisType:c,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(fhe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(whe,{label:e.label,labelRef:e.labelRef}),e.children)))}),eE=A.forwardRef((e,t)=>{var n=bn(e,Ki);return A.createElement(Pme,es({},n,{ref:t}))});eE.displayName="CartesianAxis";var Nme=["x1","y1","x2","y2","key"],Rme=["offset"],Ime=["xAxisId","yAxisId"],Mme=["xAxisId","yAxisId"];function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(r){Ome(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ome(e,t,n){return(t=kme(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kme(e){var t=Dme(e,"string");return typeof t=="symbol"?t:t+""}function Dme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(null,arguments)}function Hp(e,t){if(e==null)return{};var n,r,i=Lme(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jme=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vz(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:s,x2:u,y2:c,key:f}=n,h=Hp(n,Nme),p=(i=lr(h))!==null&&i!==void 0?i:{},{offset:g}=p,b=Hp(p,Rme);r=A.createElement("line",Ba({},b,{x1:o,y1:s,x2:u,y2:c,fill:"none",key:f}))}return r}function Ume(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,u=Hp(e,Ime),c=i.map((f,h)=>{var p=_n(_n({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return A.createElement(vz,{key:"line-".concat(h),option:r,lineItemProps:p})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function $me(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:s}=e,u=Hp(e,Mme),c=i.map((f,h)=>{var p=_n(_n({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return A.createElement(vz,{option:r,lineItemProps:p,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function zme(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:u,horizontal:c=!0}=e;if(!c||!t||!t.length||u==null)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var b=f[g+1],S=b==null,E=S?i+s-p:b-p;if(E<=0)return null;var T=g%t.length;return A.createElement("rect",{key:"react-".concat(g),y:p,x:r,height:E,width:o,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Bme(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:u,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var f=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var b=f[g+1],S=b==null,E=S?i+s-p:b-p;if(E<=0)return null;var T=g%n.length;return A.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:E,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Vme=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return tU(QS(_n(_n(_n({},Ki),n),{},{ticks:nU(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},qme=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return tU(QS(_n(_n(_n({},Ki),n),{},{ticks:nU(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Gme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ht.grid};function Oh(e){var t=uU(),n=cU(),r=lU(),i=_n(_n({},bn(e,Gme)),{},{x:ve(e.x)?e.x:r.left,y:ve(e.y)?e.y:r.top,width:ve(e.width)?e.width:r.width,height:ve(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:s,x:u,y:c,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:b}=i,S=nn(),E=Ce(V=>pk(V,"xAxis",o,S)),T=Ce(V=>pk(V,"yAxis",s,S));if(!gi(f)||!gi(h)||!ve(u)||!ve(c))return null;var C=i.verticalCoordinatesGenerator||Vme,R=i.horizontalCoordinatesGenerator||qme,{horizontalPoints:N,verticalPoints:I}=i;if((!N||!N.length)&&typeof R=="function"){var O=g&&g.length,M=R({yAxis:T?_n(_n({},T),{},{ticks:O?g:T.ticks}):void 0,width:t??f,height:n??h,offset:r},O?!0:p);gp(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}if((!I||!I.length)&&typeof C=="function"){var U=b&&b.length,q=C({xAxis:E?_n(_n({},E),{},{ticks:U?b:E.ticks}):void 0,width:t??f,height:n??h,offset:r},U?!0:p);gp(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(I=q)}return A.createElement(cr,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(jme,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(zme,Ba({},i,{horizontalPoints:N})),A.createElement(Bme,Ba({},i,{verticalPoints:I})),A.createElement(Ume,Ba({},i,{offset:r,horizontalPoints:N,xAxis:E,yAxis:T})),A.createElement($me,Ba({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:T}))))}Oh.displayName="CartesianGrid";var Hme={},yz=Hn({name:"errorBars",initialState:Hme,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:J0e,replaceErrorBar:X0e,removeErrorBar:Z0e}=yz.actions,Fme=yz.reducer,Kme=["children"];function Wme(e,t){if(e==null)return{};var n,r,i=Yme(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yme(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jme={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xme=A.createContext(Jme);function bz(e){var{children:t}=e,n=Wme(e,Kme);return A.createElement(Xme.Provider,{value:n},t)}function Xm(e,t){var n,r,i=Ce(f=>co(f,e)),o=Ce(f=>fo(f,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Jt.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Xt.allowDataOverflow,c=s||u;return{needClip:c,needClipX:s,needClipY:u}}function tE(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Jm(),{needClipX:o,needClipY:s,needClip:u}=Xm(t,n);if(!u||!i)return null;var{x:c,y:f,width:h,height:p}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?c:c-h/2,y:s?f:f-p/2,width:o?h:h*2,height:s?p:p*2}))}var xz=(e,t,n,r)=>bi(e,"xAxis",t,r),wz=(e,t,n,r)=>yi(e,"xAxis",t,r),_z=(e,t,n,r)=>bi(e,"yAxis",n,r),Sz=(e,t,n,r)=>yi(e,"yAxis",n,r),Zme=te([We,xz,_z,wz,Sz],(e,t,n,r,i)=>Qr(e,"xAxis")?Zo(t,r,!1):Zo(n,i,!1)),Qme=(e,t,n,r,i)=>i;function ege(e){return e.type==="line"}var tge=te([pf,Qme],(e,t)=>e.filter(ege).find(n=>n.id===t)),nge=te([We,xz,_z,wz,Sz,tge,Zme,mS],(e,t,n,r,i,o,s,u)=>{var{chartData:c,dataStartIndex:f,dataEndIndex:h}=u;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:g}=o,b;if(g!=null&&g.length>0?b=g:b=c==null?void 0:c.slice(f,h+1),b!=null)return zge({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:b})}});function Ez(e){var t=Zc(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,s=Number(i),u=Number(o);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(u)||u<0)&&(u=r),{r:s,strokeWidth:u}}return{r:n,strokeWidth:r}}var Ib={exports:{}},Mb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD;function rge(){if(wD)return Mb;wD=1;var e=Rl();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,u=e.useDebugValue;return Mb.useSyncExternalStoreWithSelector=function(c,f,h,p,g){var b=i(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=s(function(){function T(O){if(!C){if(C=!0,R=O,O=p(O),g!==void 0&&S.hasValue){var M=S.value;if(g(M,O))return N=M}return N=O}if(M=N,n(R,O))return M;var U=p(O);return g!==void 0&&g(M,U)?(R=O,M):(R=O,N=U)}var C=!1,R,N,I=h===void 0?null:h;return[function(){return T(f())},I===null?void 0:function(){return T(I())}]},[f,h,p,g]);var E=r(c,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Mb}var _D;function ige(){return _D||(_D=1,Ib.exports=rge()),Ib.exports}ige();function oge(e){e()}function age(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oge(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SD={notify(){},get:()=>[]};function sge(e,t){let n,r=SD,i=0,o=!1;function s(E){h();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),p())}}function u(){r.notify()}function c(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=e.subscribe(c),r=age())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=SD)}function g(){o||(o=!0,h())}function b(){o&&(o=!1,p())}const S={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:f,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>r};return S}var lge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uge=lge(),cge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fge=cge(),dge=()=>uge||fge?A.useLayoutEffect:A.useEffect,hge=dge();function ED(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pge(e,t){if(ED(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!ED(e[n[i]],t[n[i]]))return!1;return!0}var Ob=Symbol.for("react-redux-context"),kb=typeof globalThis<"u"?globalThis:{};function mge(){if(!A.createContext)return{};const e=kb[Ob]??(kb[Ob]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var gge=mge();function vge(e){const{children:t,context:n,serverState:r,store:i}=e,o=A.useMemo(()=>{const c=sge(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=A.useMemo(()=>i.getState(),[i]);hge(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const u=n||gge;return A.createElement(u.Provider,{value:o},t)}var yge=vge,bge=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xge(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function xf(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(bge.has(r)){if(e[r]==null&&t[r]==null)continue;if(!pge(e[r],t[r]))return!1}else if(!xge(e[r],t[r]))return!1;return!0}var wge=["id"],_ge=["type","layout","connectNulls","needClip","shape"],Sge=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(null,arguments)}function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){Ege(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ege(e,t,n){return(t=Tge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tge(e){var t=Age(e,"string");return typeof t=="symbol"?t:t+""}function Age(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nE(e,t){if(e==null)return{};var n,r,i=Cge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pge=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ul(n,t),payload:e}]},Nge=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:u,unit:c,tooltipType:f,id:h}=e,p={dataDefinedOnItem:n,getPosition:ta,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:Ul(s,t),hide:u,type:f,color:r,unit:c,graphicalItemId:h}};return A.createElement(YS,{tooltipEntrySettings:p})}),Tz=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Rge(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Ige=(e,t,n)=>{var r=n.reduce((b,S)=>b+S);if(!r)return Tz(t,e);for(var i=Math.floor(e/r),o=e%r,s=t-e,u=[],c=0,f=0;c<n.length;f+=(h=n[c])!==null&&h!==void 0?h:0,++c){var h,p=n[c];if(p!=null&&f+p>o){u=[...n.slice(0,c),o-f];break}}var g=u.length%2===0?[0,s]:[s];return[...Rge(n,i),...u,...g].map(b=>"".concat(b,"px")).join(", ")};function Mge(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:s}=r,{id:u}=r,c=nE(r,wge),f=lr(c);return A.createElement(fz,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:f,needClip:s,clipPathId:t})}function Oge(e){var{showLabels:t,children:n,points:r}=e,i=A.useMemo(()=>r==null?void 0:r.map(o=>{var s,u,c={x:(s=o.x)!==null&&s!==void 0?s:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ui(ui({},c),{},{value:o.value,payload:o.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(FS,{value:t?i:void 0},n)}function AD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:s,layout:u,connectNulls:c,needClip:f,shape:h}=o,p=nE(o,_ge),g=ui(ui({},En(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:u,connectNulls:c,strokeDasharray:i??o.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(az,Hc({shapeType:"curve",option:h},g,{pathRef:n})),A.createElement(Mge,{points:r,clipPathId:t,props:o}))}function kge(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Dge(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:u,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:g,width:b,height:S,onAnimationEnd:E,onAnimationStart:T}=n,C=i.current,R=lf(s,"recharts-line-"),N=A.useRef(R),[I,O]=A.useState(!1),M=!I,U=A.useCallback(()=>{typeof E=="function"&&E(),O(!1)},[E]),q=A.useCallback(()=>{typeof T=="function"&&T(),O(!0)},[T]),V=kge(r.current),ne=A.useRef(0);N.current!==R&&(ne.current=o.current,N.current=R);var ie=ne.current;return A.createElement(Oge,{points:s,showLabels:M},n.children,A.createElement(sf,{animationId:R,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:U,onAnimationStart:q,key:R},Y=>{var L=at(ie,V+ie,Y),H=Math.min(L,V),j;if(c)if(u){var D="".concat(u).split(/[,\s]+/gim).map(J=>parseFloat(J));j=Ige(H,V,D)}else j=Tz(V,H);else j=u==null?void 0:String(u);if(Y>0&&V>0&&(i.current=s,o.current=Math.max(o.current,H)),C){var z=C.length/s.length,F=Y===1?s:s.map((J,se)=>{var $=Math.floor(se*z);if(C[$]){var W=C[$];return ui(ui({},J),{},{x:at(W.x,J.x,Y),y:at(W.y,J.y,Y)})}return g?ui(ui({},J),{},{x:at(b*2,J.x,Y),y:at(S/2,J.y,Y)}):ui(ui({},J),{},{x:J.x,y:J.y})});return i.current=F,A.createElement(AD,{props:n,points:F,clipPathId:t,pathRef:r,strokeDasharray:j})}return A.createElement(AD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:j})}),A.createElement(KS,{label:n.label}))}function Lge(e){var{clipPathId:t,props:n}=e,r=A.useRef(null),i=A.useRef(0),o=A.useRef(null);return A.createElement(Dge,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var jge=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Nt(e.payload,t)}};class Uge extends A.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:s,top:u,left:c,width:f,height:h,id:p,needClip:g,zIndex:b}=this.props;if(t)return null;var S=et("recharts-line",i),E=p,{r:T,strokeWidth:C}=Ez(n),R=WS(n),N=T*2+C,I=g?"url(#clipPath-".concat(R?"":"dots-").concat(E,")"):void 0;return A.createElement(cr,{zIndex:b},A.createElement(Tn,{className:S},g&&A.createElement("defs",null,A.createElement(tE,{clipPathId:E,xAxisId:o,yAxisId:s}),!R&&A.createElement("clipPath",{id:"clipPath-dots-".concat(E)},A.createElement("rect",{x:c-N/2,y:u-N/2,width:f+N,height:h+N}))),A.createElement(bz,{xAxisId:o,yAxisId:s,data:r,dataPointFormatter:jge,errorBarOffset:0},A.createElement(Lge,{props:this.props,clipPathId:E}))),A.createElement(_w,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var Az={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ht.line,type:"linear"};function $ge(e){var t=bn(e,Az),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:u,dot:c,hide:f,isAnimationActive:h,label:p,legendType:g,xAxisId:b,yAxisId:S,id:E}=t,T=nE(t,Sge),{needClip:C}=Xm(b,S),R=Jm(),N=na(),I=nn(),O=Ce(ne=>nge(ne,b,S,I,E));if(N!=="horizontal"&&N!=="vertical"||O==null||R==null)return null;var{height:M,width:U,x:q,y:V}=R;return A.createElement(Uge,Hc({},T,{id:E,connectNulls:u,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:h,hide:f,label:p,legendType:g,xAxisId:b,yAxisId:S,points:O,layout:N,height:M,width:U,left:q,top:V,needClip:C}))}function zge(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:s,bandSize:u,displayedData:c}=e;return c.map((f,h)=>{var p=Nt(f,s);if(t==="horizontal"){var g=mp({axis:n,ticks:i,bandSize:u,entry:f,index:h}),b=xt(p)?null:r.scale.map(p);return{x:g,y:b??null,value:p,payload:f}}var S=xt(p)?null:n.scale.map(p),E=mp({axis:r,ticks:o,bandSize:u,entry:f,index:h});return S==null||E==null?null:{x:S,y:E,value:p,payload:f}}).filter(Boolean)}function Bge(e){var t=bn(e,Az),n=nn();return A.createElement(XS,{id:t.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(JS,{legendPayload:Pge(t)}),A.createElement(Nge,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),A.createElement(ZS,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),A.createElement($ge,Hc({},t,{id:r}))))}var Cz=A.memo(Bge,xf);Cz.displayName="Line";function xi(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:dz}function wi(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:dz}var Pz=(e,t,n)=>bi(e,"xAxis",xi(e,t),n),Nz=(e,t,n)=>yi(e,"xAxis",xi(e,t),n),Rz=(e,t,n)=>bi(e,"yAxis",wi(e,t),n),Iz=(e,t,n)=>yi(e,"yAxis",wi(e,t),n),Vge=te([We,Pz,Rz,Nz,Iz],(e,t,n,r,i)=>Qr(e,"xAxis")?Zo(t,r,!1):Zo(n,i,!1)),qge=(e,t)=>t,Mz=te([pf,qge],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),Oz=e=>{var t=We(e),n=Qr(t,"xAxis");return n?"yAxis":"xAxis"},Gge=(e,t)=>{var n=Oz(e);return n==="yAxis"?wi(e,t):xi(e,t)},Hge=(e,t,n)=>Up(e,Oz(e),Gge(e,t),n),Fge=te([Mz,Hge],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=Vm(e);if(!(r==null||i==null)){var o=(n=t[r])===null||n===void 0?void 0:n.stackedData,s=o==null?void 0:o.find(u=>u.key===i);if(s!=null)return s.map(u=>[u[0],u[1]])}}}),Kge=te([We,Pz,Rz,Nz,Iz,Fge,u3,Vge,Mz,aue],(e,t,n,r,i,o,s,u,c,f)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:g}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:b}=c,S;if(b&&b.length>0?S=b:S=h==null?void 0:h.slice(p,g+1),S!=null)return dve({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:c,stackedData:o,displayedData:S,chartBaseValue:f,bandSize:u})}}),Wge=["id"],Yge=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(null,arguments)}function kz(e,t){if(e==null)return{};var n,r,i=Jge(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(n),!0).forEach(function(r){Xge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xge(e,t,n){return(t=Zge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zge(e){var t=Qge(e,"string");return typeof t=="symbol"?t:t+""}function Qge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fp(e,t){return e&&e!=="none"?e:t}var eve=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:o,hide:s}=e;return[{inactive:s,dataKey:t,type:o,color:Fp(r,i),value:Ul(n,t),payload:e}]},tve=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:u,unit:c,tooltipType:f,id:h}=e,p={dataDefinedOnItem:n,getPosition:ta,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:Ul(s,t),hide:u,type:f,color:Fp(r,o),unit:c,graphicalItemId:h}};return A.createElement(YS,{tooltipEntrySettings:p})});function nve(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:o,dataKey:s}=r,u=lr(r);return A.createElement(fz,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:u,needClip:i,clipPathId:t})}function rve(e){var{showLabels:t,children:n,points:r}=e,i=r.map(o=>{var s,u,c={x:(s=o.x)!==null&&s!==void 0?s:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gl(gl({},c),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return A.createElement(FS,{value:t?i:void 0},n)}function PD(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:o}=e,{layout:s,type:u,stroke:c,connectNulls:f,isRange:h}=o,{id:p}=o,g=kz(o,Wge),b=lr(g),S=En(g);return A.createElement(A.Fragment,null,(t==null?void 0:t.length)>1&&A.createElement(Tn,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(mc,Fa({},S,{id:p,points:t,connectNulls:f,type:u,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&A.createElement(mc,Fa({},b,{className:"recharts-area-curve",layout:s,type:u,connectNulls:f,fill:"none",points:t})),c!=="none"&&h&&A.createElement(mc,Fa({},b,{className:"recharts-area-curve",layout:s,type:u,connectNulls:f,fill:"none",points:n}))),A.createElement(nve,{points:t,props:g,clipPathId:i}))}function ive(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,u=(t=o[0])===null||t===void 0?void 0:t.y,c=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!je(u)||!je(c))return null;var f=r*Math.abs(u-c),h=Math.max(...o.map(p=>p.x||0));return ve(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(p=>p.x||0),h)),ve(h)?A.createElement("rect",{x:0,y:u<c?u:u-f,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(f)}):null}function ove(e){var t,n,{alpha:r,baseLine:i,points:o,strokeWidth:s}=e,u=(t=o[0])===null||t===void 0?void 0:t.x,c=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!je(u)||!je(c))return null;var f=r*Math.abs(u-c),h=Math.max(...o.map(p=>p.y||0));return ve(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(p=>p.y||0),h)),ve(h)?A.createElement("rect",{x:u<c?u:u-f,y:0,width:f,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function ave(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:o}=e;return n==="vertical"?A.createElement(ive,{alpha:t,points:r,baseLine:i,strokeWidth:o}):A.createElement(ove,{alpha:t,points:r,baseLine:i,strokeWidth:o})}function sve(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=e,{points:s,baseLine:u,isAnimationActive:c,animationBegin:f,animationDuration:h,animationEasing:p,onAnimationStart:g,onAnimationEnd:b}=r,S=A.useMemo(()=>({points:s,baseLine:u}),[s,u]),E=lf(S,"recharts-area-"),T=q_(),[C,R]=A.useState(!1),N=!C,I=A.useCallback(()=>{typeof b=="function"&&b(),R(!1)},[b]),O=A.useCallback(()=>{typeof g=="function"&&g(),R(!0)},[g]);if(T==null)return null;var M=i.current,U=o.current;return A.createElement(rve,{showLabels:N,points:s},r.children,A.createElement(sf,{animationId:E,begin:f,duration:h,isActive:c,easing:p,onAnimationEnd:I,onAnimationStart:O,key:E},q=>{if(M){var V=M.length/s.length,ne=q===1?s:s.map((Y,L)=>{var H=Math.floor(L*V);if(M[H]){var j=M[H];return gl(gl({},Y),{},{x:at(j.x,Y.x,q),y:at(j.y,Y.y,q)})}return Y}),ie;return ve(u)?ie=at(U,u,q):xt(u)||Kr(u)?ie=at(U,0,q):ie=u.map((Y,L)=>{var H=Math.floor(L*V);if(Array.isArray(U)&&U[H]){var j=U[H];return gl(gl({},Y),{},{x:at(j.x,Y.x,q),y:at(j.y,Y.y,q)})}return Y}),q>0&&(i.current=ne,o.current=ie),A.createElement(PD,{points:ne,baseLine:ie,needClip:t,clipPathId:n,props:r})}return q>0&&(i.current=s,o.current=u),A.createElement(Tn,null,c&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(ave,{alpha:q,points:s,baseLine:u,layout:T,strokeWidth:r.strokeWidth}))),A.createElement(Tn,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(PD,{points:s,baseLine:u,needClip:t,clipPathId:n,props:r})))}),A.createElement(KS,{label:r.label}))}function lve(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),o=A.useRef();return A.createElement(sve,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class uve extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:o,left:s,needClip:u,xAxisId:c,yAxisId:f,width:h,height:p,id:g,baseLine:b,zIndex:S}=this.props;if(t)return null;var E=et("recharts-area",i),T=g,{r:C,strokeWidth:R}=Ez(n),N=WS(n),I=C*2+R,O=u?"url(#clipPath-".concat(N?"":"dots-").concat(T,")"):void 0;return A.createElement(cr,{zIndex:S},A.createElement(Tn,{className:E},u&&A.createElement("defs",null,A.createElement(tE,{clipPathId:T,xAxisId:c,yAxisId:f}),!N&&A.createElement("clipPath",{id:"clipPath-dots-".concat(T)},A.createElement("rect",{x:s-I/2,y:o-I/2,width:h+I,height:p+I}))),A.createElement(lve,{needClip:u,clipPathId:T,props:this.props})),A.createElement(_w,{points:r,mainColor:Fp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(b)&&A.createElement(_w,{points:b,mainColor:Fp(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var Dz={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ht.area};function cve(e){var t,n=bn(e,Dz),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:u,dot:c,fill:f,fillOpacity:h,hide:p,isAnimationActive:g,legendType:b,stroke:S,xAxisId:E,yAxisId:T}=n,C=kz(n,Yge),R=na(),N=L$(),{needClip:I}=Xm(E,T),O=nn(),{points:M,isRange:U,baseLine:q}=(t=Ce(H=>Kge(H,e.id,O)))!==null&&t!==void 0?t:{},V=Jm();if(R!=="horizontal"&&R!=="vertical"||V==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:ne,width:ie,x:Y,y:L}=V;return!M||!M.length?null:A.createElement(uve,Fa({},C,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:q,connectNulls:u,dot:c,fill:f,fillOpacity:h,height:ne,hide:p,layout:R,isAnimationActive:g==="auto"?!af.isSsr:g,isRange:U,legendType:b,needClip:I,points:M,stroke:S,width:ie,left:Y,top:L,xAxisId:E,yAxisId:T}))}var fve=(e,t,n,r,i)=>{var o=n??t;if(ve(o))return o;var s=e==="horizontal"?i:r,u=s.scale.domain();if(s.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function dve(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:u,yAxis:c,displayedData:f,dataStartIndex:h,xAxisTicks:p,yAxisTicks:g,bandSize:b}=e,S=i&&i.length,E=fve(o,s,n,u,c),T=o==="horizontal",C=!1,R=f.map((I,O)=>{var M,U,q,V;if(S)V=i[h+O];else{var ne=Nt(I,r);Array.isArray(ne)?(V=ne,C=!0):V=[E,ne]}var ie=(M=(U=V)===null||U===void 0?void 0:U[1])!==null&&M!==void 0?M:null,Y=ie==null||S&&!t&&Nt(I,r)==null;if(T){var L;return{x:mp({axis:u,ticks:p,bandSize:b,entry:I,index:O}),y:Y?null:(L=c.scale.map(ie))!==null&&L!==void 0?L:null,value:V,payload:I}}return{x:Y?null:(q=u.scale.map(ie))!==null&&q!==void 0?q:null,y:mp({axis:c,ticks:g,bandSize:b,entry:I,index:O}),value:V,payload:I}}),N;return S||C?N=R.map(I=>{var O,M=Array.isArray(I.value)?I.value[0]:null;if(T){var U;return{x:I.x,y:M!=null&&I.y!=null&&(U=c.scale.map(M))!==null&&U!==void 0?U:null,payload:I.payload}}return{x:M!=null&&(O=u.scale.map(M))!==null&&O!==void 0?O:null,y:I.y,payload:I.payload}}):N=T?c.scale.map(E):u.scale.map(E),{points:R,baseLine:N??0,isRange:C}}function hve(e){var t=bn(e,Dz),n=nn();return A.createElement(XS,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(JS,{legendPayload:eve(t)}),A.createElement(tve,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),A.createElement(ZS,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:rU(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(cve,Fa({},t,{id:r}))))}var Sw=A.memo(hve,xf);Sw.displayName="Area";var pve="Invariant failed";function mve(e,t){throw new Error(pve)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(null,arguments)}function Kp(e){return A.createElement(az,Ew({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var gve=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ve(t))return t;var o=ve(r)||xt(r);return o?t(r,i):(o||mve(),n)}},vve=(e,t,n)=>n,yve=(e,t)=>t,wf=te([pf,yve],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),bve=te([wf],e=>e==null?void 0:e.maxBarSize),xve=(e,t,n,r)=>r,wve=te([We,pf,xi,wi,vve],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),_ve=(e,t,n)=>{var r=We(e),i=xi(e,t),o=wi(e,t);if(!(i==null||o==null))return r==="horizontal"?Up(e,"yAxis",o,n):Up(e,"xAxis",i,n)},Sve=(e,t)=>{var n=We(e),r=xi(e,t),i=wi(e,t);if(!(r==null||i==null))return n==="horizontal"?hk(e,"xAxis",r):hk(e,"yAxis",i)},Eve=te([wve,oue,Sve],Vpe),Tve=(e,t,n)=>{var r,i,o=wf(e,t);if(o==null)return 0;var s=xi(e,t),u=wi(e,t);if(s==null||u==null)return 0;var c=We(e),f=w3(e),{maxBarSize:h}=o,p=xt(h)?f:h,g,b;return c==="horizontal"?(g=bi(e,"xAxis",s,n),b=yi(e,"xAxis",s,n)):(g=bi(e,"yAxis",u,n),b=yi(e,"yAxis",u,n)),(r=(i=Zo(g,b,!0))!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0},Lz=(e,t,n)=>{var r=We(e),i=xi(e,t),o=wi(e,t);if(!(i==null||o==null)){var s,u;return r==="horizontal"?(s=bi(e,"xAxis",i,n),u=yi(e,"xAxis",i,n)):(s=bi(e,"yAxis",o,n),u=yi(e,"yAxis",o,n)),Zo(s,u)}},Ave=te([Eve,w3,iue,_3,Tve,Lz,bve],Kpe),Cve=(e,t,n)=>{var r=xi(e,t);if(r!=null)return bi(e,"xAxis",r,n)},Pve=(e,t,n)=>{var r=wi(e,t);if(r!=null)return bi(e,"yAxis",r,n)},Nve=(e,t,n)=>{var r=xi(e,t);if(r!=null)return yi(e,"xAxis",r,n)},Rve=(e,t,n)=>{var r=wi(e,t);if(r!=null)return yi(e,"yAxis",r,n)},Ive=te([Ave,wf],Ype),Mve=te([_ve,wf],Wpe),Ove=te([tn,z_,Cve,Pve,Nve,Rve,Ive,We,u3,Lz,Mve,wf,xve],(e,t,n,r,i,o,s,u,c,f,h,p,g)=>{var{chartData:b,dataStartIndex:S,dataEndIndex:E}=c;if(!(p==null||s==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:T}=p,C;if(T!=null&&T.length>0?C=T:C=b==null?void 0:b.slice(S,E+1),C!=null)return sye({layout:u,barSettings:p,pos:s,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:C,offset:e,cells:g,dataStartIndex:S})}}),kve=["index"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tw.apply(null,arguments)}function Dve(e,t){if(e==null)return{};var n,r,i=Lve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jz=A.createContext(void 0),jve=e=>{var t=A.useContext(jz);if(t!=null)return t.stackId;if(e!=null)return rU(e)},Uve=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),$ve=e=>{var t=A.useContext(jz);if(t!=null){var{stackId:n}=t;return"url(#".concat(Uve(n,e),")")}},Uz=e=>{var{index:t}=e,n=Dve(e,kve),r=$ve(t);return A.createElement(Tn,Tw({className:"recharts-bar-stack-layer",clipPath:r},n))},zve=["onMouseEnter","onMouseLeave","onClick"],Bve=["value","background","tooltipPosition"],Vve=["id"],qve=["onMouseEnter","onClick","onMouseLeave"];function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(null,arguments)}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(n),!0).forEach(function(r){Gve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gve(e,t,n){return(t=Hve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hve(e){var t=Fve(e,"string");return typeof t=="symbol"?t:t+""}function Fve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wp(e,t){if(e==null)return{};var n,r,i=Kve(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wve=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Ul(n,t),payload:e}]},Yve=A.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:s,unit:u,tooltipType:c,id:f}=e,h={dataDefinedOnItem:void 0,getPosition:ta,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ul(o,t),hide:s,type:c,color:i,unit:u,graphicalItemId:f}};return A.createElement(YS,{tooltipEntrySettings:h})});function Jve(e){var t=Ce(Qa),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:s,onMouseLeave:u,onClick:c}=o,f=Wp(o,zve),h=sz(s,r,o.id),p=lz(u),g=uz(c,r,o.id);if(!i||n==null)return null;var b=Zc(i);return A.createElement(cr,{zIndex:Jpe(i,Ht.barBackground)},n.map((S,E)=>{var{value:T,background:C,tooltipPosition:R}=S,N=Wp(S,Bve);if(!C)return null;var I=h(S,E),O=p(S,E),M=g(S,E),U=Pn(Pn(Pn(Pn(Pn({option:i,isActive:String(E)===t},N),{},{fill:"#eee"},C),b),R_(f,S,E)),{},{onMouseEnter:I,onMouseLeave:O,onClick:M,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(Kp,no({key:"background-bar-".concat(E)},U))}))}function Xve(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var s={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Pn(Pn({},s),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:s,fill:o.fill})});return A.createElement(FS,{value:t?i:void 0},n)}function Zve(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:s}=e,u=Ce(Qa),c=Ce(O$),f=n&&String(o)===u&&(c==null||s===c),h=f?n:t;return f?A.createElement(cr,{zIndex:Ht.activeBar},A.createElement(Uz,{index:o},A.createElement(Kp,no({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:s})))):A.createElement(Kp,no({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:s}))}function Qve(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return A.createElement(Kp,no({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function eye(e){var t,{data:n,props:r}=e,i=(t=lr(r))!==null&&t!==void 0?t:{},{id:o}=i,s=Wp(i,Vve),{shape:u,dataKey:c,activeBar:f}=r,{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,b=Wp(r,qve),S=sz(h,c,o),E=lz(g),T=uz(p,c,o);return n?A.createElement(A.Fragment,null,n.map((C,R)=>A.createElement(Uz,no({index:R,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(R),className:"recharts-bar-rectangle"},R_(b,C,R),{onMouseEnter:S(C,R),onMouseLeave:E(C,R),onClick:T(C,R)}),f?A.createElement(Zve,{shape:u,activeBar:f,baseProps:s,entry:C,index:R,dataKey:c}):A.createElement(Qve,{shape:u,baseProps:s,entry:C,index:R,dataKey:c})))):null}function tye(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:c,onAnimationEnd:f,onAnimationStart:h}=t,p=n.current,g=lf(t,"recharts-bar-"),[b,S]=A.useState(!1),E=!b,T=A.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),C=A.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return A.createElement(Xve,{showLabels:E,rects:r},A.createElement(sf,{animationId:g,begin:s,duration:u,isActive:o,easing:c,onAnimationEnd:T,onAnimationStart:C,key:g},R=>{var N=R===1?r:r==null?void 0:r.map((I,O)=>{var M=p&&p[O];if(M)return Pn(Pn({},I),{},{x:at(M.x,I.x,R),y:at(M.y,I.y,R),width:at(M.width,I.width,R),height:at(M.height,I.height,R)});if(i==="horizontal"){var U=at(0,I.height,R),q=at(I.stackedBarStart,I.y,R);return Pn(Pn({},I),{},{y:q,height:U})}var V=at(0,I.width,R),ne=at(I.stackedBarStart,I.x,R);return Pn(Pn({},I),{},{width:V,x:ne})});return R>0&&(n.current=N??null),N==null?null:A.createElement(Tn,null,A.createElement(eye,{props:t,data:N}))}),A.createElement(KS,{label:t.label}),t.children)}function nye(e){var t=A.useRef(null);return A.createElement(tye,{previousRectanglesRef:t,props:e})}var $z=0,rye=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Nt(e,t)}};class iye extends A.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:s,needClip:u,background:c,id:f}=this.props;if(t||n==null)return null;var h=et("recharts-bar",i),p=f;return A.createElement(Tn,{className:h,id:f},u&&A.createElement("defs",null,A.createElement(tE,{clipPathId:p,xAxisId:o,yAxisId:s})),A.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},A.createElement(Jve,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),A.createElement(nye,this.props)))}}var oye={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:$z,xAxisId:0,yAxisId:0,zIndex:Ht.bar};function aye(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h}=e,{needClip:p}=Xm(t,n),g=na(),b=nn(),S=zhe(e.children,G$),E=Ce(R=>Ove(R,e.id,b,S));if(g!=="vertical"&&g!=="horizontal")return null;var T,C=E==null?void 0:E[0];return C==null||C.height==null||C.width==null?T=0:T=g==="vertical"?C.height/2:C.width/2,A.createElement(bz,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:rye,errorBarOffset:T},A.createElement(iye,no({},e,{layout:g,needClip:p,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:s,animationBegin:u,animationDuration:c,animationEasing:f,isAnimationActive:h})))}function sye(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:s,yAxis:u,xAxisTicks:c,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:b,parentViewBox:S,dataStartIndex:E}=e,T=t==="horizontal"?u:s,C=h?T.scale.domain():null,R=tie({numericAxis:T}),N=T.scale.map(R);return p.map((I,O)=>{var M,U,q,V,ne,ie;if(h){var Y=h[O+E];if(Y==null)return null;M=Jre(Y,C)}else M=Nt(I,n),Array.isArray(M)||(M=[R,M]);var L=gve(r,$z)(M[1],O);if(t==="horizontal"){var H,j=u.scale.map(M[0]),D=u.scale.map(M[1]);if(j==null||D==null)return null;U=pM({axis:s,ticks:c,bandSize:o,offset:i.offset,entry:I,index:O}),q=(H=D??j)!==null&&H!==void 0?H:void 0,V=i.size;var z=j-D;if(ne=Kr(z)?0:z,ie={x:U,y:g.top,width:V,height:g.height},Math.abs(L)>0&&Math.abs(ne)<Math.abs(L)){var F=Vn(ne||L)*(Math.abs(L)-Math.abs(ne));q-=F,ne+=F}}else{var J=s.scale.map(M[0]),se=s.scale.map(M[1]);if(J==null||se==null)return null;if(U=J,q=pM({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:I,index:O}),V=se-J,ne=i.size,ie={x:g.left,y:q,width:g.width,height:ne},Math.abs(L)>0&&Math.abs(V)<Math.abs(L)){var $=Vn(V||L)*(Math.abs(L)-Math.abs(V));V+=$}}if(U==null||q==null||V==null||ne==null)return null;var W=Pn(Pn({},I),{},{stackedBarStart:N,x:U,y:q,width:V,height:ne,value:h?M:M[1],payload:I,background:ie,tooltipPosition:{x:U+V/2,y:q+ne/2},parentViewBox:S},b&&b[O]&&b[O].props);return W}).filter(Boolean)}function lye(e){var t=bn(e,oye),n=jve(t.stackId),r=nn();return A.createElement(XS,{id:t.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(JS,{legendPayload:Wve(t)}),A.createElement(Yve,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),A.createElement(ZS,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),A.createElement(cr,{zIndex:t.zIndex},A.createElement(aye,no({},t,{id:i})))))}var zz=A.memo(lye,xf);zz.displayName="Bar";var uye=["domain","range"],cye=["domain","range"];function RD(e,t){if(e==null)return{};var n,r,i=fye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ID(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Bz(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=RD(e,uye),{domain:o,range:s}=t,u=RD(t,cye);return!ID(n,o)||!ID(r,s)?!1:xf(i,u)}var dye=["type"],hye=["dangerouslySetInnerHTML","ticks","scale"],pye=["id","scale"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(r){mye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mye(e,t,n){return(t=gye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gye(e){var t=vye(e,"string");return typeof t=="symbol"?t:t+""}function vye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cw(e,t){if(e==null)return{};var n,r,i=yye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bye(e){var t=Mt(),n=A.useRef(null),r=q_(),{type:i}=e,o=Cw(e,dye),s=$m(r,"xAxis",i),u=A.useMemo(()=>{if(s!=null)return OD(OD({},o),{},{type:s})},[o,s]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Cpe(u)):n.current!==u&&t(Ppe({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(Npe(n.current)),n.current=null)},[t]),null}var xye=e=>{var{xAxisId:t,className:n}=e,r=Ce(z_),i=nn(),o="xAxis",s=Ce(C=>d$(C,o,t,i)),u=Ce(C=>l$(C,t)),c=Ce(C=>sce(C,t)),f=Ce(C=>I3(C,t));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:g}=e,b=Cw(e,hye),{id:S,scale:E}=f,T=Cw(f,pye);return A.createElement(eE,Aw({},b,T,{x:c.x,y:c.y,width:u.width,height:u.height,className:et("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:s,axisType:o}))},wye={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,angle:Jt.angle,axisLine:Ki.axisLine,height:Jt.height,hide:!1,includeHidden:Jt.includeHidden,interval:Jt.interval,label:!1,minTickGap:Jt.minTickGap,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tick:Jt.tick,tickCount:Jt.tickCount,tickLine:Ki.tickLine,tickSize:Ki.tickSize,type:Jt.type,xAxisId:0},_ye=e=>{var t=bn(e,wye);return A.createElement(A.Fragment,null,A.createElement(bye,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(xye,t))},kh=A.memo(_ye,Bz);kh.displayName="XAxis";var Sye=["type"],Eye=["dangerouslySetInnerHTML","ticks","scale"],Tye=["id","scale"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(null,arguments)}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){Aye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aye(e,t,n){return(t=Cye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cye(e){var t=Pye(e,"string");return typeof t=="symbol"?t:t+""}function Pye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nw(e,t){if(e==null)return{};var n,r,i=Nye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rye(e){var t=Mt(),n=A.useRef(null),r=q_(),{type:i}=e,o=Nw(e,Sye),s=$m(r,"yAxis",i),u=A.useMemo(()=>{if(s!=null)return DD(DD({},o),{},{type:s})},[s,o]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Rpe(u)):n.current!==u&&t(Ipe({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(Mpe(n.current)),n.current=null)},[t]),null}function Iye(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=A.useRef(null),s=A.useRef(null),u=Ce(z_),c=nn(),f=Mt(),h="yAxis",p=Ce(M=>u$(M,t)),g=Ce(M=>uce(M,t)),b=Ce(M=>d$(M,h,t,c)),S=Ce(M=>M3(M,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!p||HS(i)||A.isValidElement(i)||S==null)){var M=o.current;if(M){var U=M.getCalculatedWidth();Math.round(p.width)!==Math.round(U)&&f(Ope({id:t,width:U}))}}},[b,p,f,i,t,r,S]),p==null||g==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:C}=e,R=Nw(e,Eye),{id:N,scale:I}=S,O=Nw(S,Tye);return A.createElement(eE,Pw({},R,O,{ref:o,labelRef:s,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:et("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:b,axisType:h}))}var Mye={allowDataOverflow:Xt.allowDataOverflow,allowDecimals:Xt.allowDecimals,allowDuplicatedCategory:Xt.allowDuplicatedCategory,angle:Xt.angle,axisLine:Ki.axisLine,hide:!1,includeHidden:Xt.includeHidden,interval:Xt.interval,label:!1,minTickGap:Xt.minTickGap,mirror:Xt.mirror,orientation:Xt.orientation,padding:Xt.padding,reversed:Xt.reversed,scale:Xt.scale,tick:Xt.tick,tickCount:Xt.tickCount,tickLine:Ki.tickLine,tickSize:Ki.tickSize,type:Xt.type,width:Xt.width,yAxisId:0},Oye=e=>{var t=bn(e,Mye);return A.createElement(A.Fragment,null,A.createElement(Rye,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(Iye,t))},Dh=A.memo(Oye,Bz);Dh.displayName="YAxis";var kye=(e,t)=>t,rE=te([kye,We,N3,an,N$,ho,Sfe,tn],Rfe),iE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Vz=Pr("mouseClick"),qz=tf();qz.startListening({actionCreator:Vz,effect:(e,t)=>{var n=e.payload,r=rE(t.getState(),iE(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Sce({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Rw=Pr("mouseMove"),Gz=tf(),vh=null;Gz.startListening({actionCreator:Rw,effect:(e,t)=>{var n=e.payload;vh!==null&&cancelAnimationFrame(vh);var r=iE(n);vh=requestAnimationFrame(()=>{var i=t.getState(),o=OS(i,i.tooltip.settings.shared);if(o==="axis"){var s=rE(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(x$({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(b$())}vh=null})}});function Dye(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var LD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Hz=Hn({name:"rootProps",initialState:LD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:LD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Lye=Hz.reducer,{updateOptions:jye}=Hz.actions,Uye=null,$ye={updatePolarOptions:(e,t)=>t.payload},Fz=Hn({name:"polarOptions",initialState:Uye,reducers:$ye}),{updatePolarOptions:Q0e}=Fz.actions,zye=Fz.reducer,Kz=Pr("keyDown"),Wz=Pr("focus"),oE=tf();oE.startListening({actionCreator:Kz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=kS(i,Kl(n),gf(n),yf(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=ho(n);if(o==="Enter"){var f=zp(n,"axis","hover",String(i.index));t.dispatch(vw({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=hce(n),p=h==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,b=u+g*p;if(!(c==null||b>=c.length||b<0)){var S=zp(n,"axis","hover",String(b));t.dispatch(vw({active:!0,activeIndex:b.toString(),activeCoordinate:S}))}}}}}});oE.startListening({actionCreator:Wz,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=zp(n,"axis","hover",String(o));t.dispatch(vw({active:!0,activeIndex:o,activeCoordinate:s}))}}}});var Sr=Pr("externalEvent"),Yz=tf(),Db=new Map;Yz.startListening({actionCreator:Sr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=Db.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var u=t.getState(),c={activeCoordinate:lfe(u),activeDataKey:O$(u),activeIndex:Qa(u),activeLabel:M$(u),activeTooltipIndex:Qa(u),isTooltipActive:ufe(u)};n(c,r)}finally{Db.delete(i)}});Db.set(i,s)}}});var Bye=te([Hl],e=>e.tooltipItemPayloads),Vye=te([Bye,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),Jz=Pr("touchMove"),Xz=tf();Xz.startListening({actionCreator:Jz,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=OS(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var s=rE(r,iE({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(x$({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var u,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var f=document.elementFromPoint(c.clientX,c.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(lie),p=(u=f.getAttribute(uie))!==null&&u!==void 0?u:void 0,g=Fl(r).find(E=>E.id===p);if(h==null||g==null||p==null)return;var{dataKey:b}=g,S=Vye(r,h,p);t.dispatch(y$({activeDataKey:b,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:p}))}}}});var qye=A5({brush:Zpe,cartesianAxis:kpe,chartData:sde,errorBars:Fme,graphicalItems:hpe,layout:Hre,legend:eoe,options:nde,polarAxis:Dhe,polarOptions:zye,referenceElements:nme,rootProps:Lye,tooltip:Ece,zIndex:Gfe}),Gye=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gre({reducer:qye,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([qz.middleware,Gz.middleware,oE.middleware,Yz.middleware,Xz.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(B5({type:"raf"}))},devTools:{serialize:{replacer:Dye},name:"recharts-".concat(n)}})};function Hye(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=nn(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=Gye(t,r));var s=O_;return A.createElement(yge,{context:s,store:o.current},n)}function Fye(e){var{layout:t,margin:n}=e,r=Mt(),i=nn();return A.useEffect(()=>{i||(r(Vre(t)),r(Bre(n)))},[r,i,t,n]),null}var Kye=A.memo(Fye,xf);function Wye(e){var t=Mt();return A.useEffect(()=>{t(jye(e))},[t,e]),null}function jD(e){var{zIndex:t,isPanorama:n}=e,r=A.useRef(null),i=Mt();return A.useLayoutEffect(()=>(r.current&&i(Vfe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(qfe({zIndex:t,isPanorama:n}))}),[i,t,n]),A.createElement("g",{tabIndex:-1,ref:r})}function UD(e){var{children:t,isPanorama:n}=e,r=Ce(Mfe);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return A.createElement(A.Fragment,null,i.map(s=>A.createElement(jD,{key:s,zIndex:s,isPanorama:n})),t,o.map(s=>A.createElement(jD,{key:s,zIndex:s,isPanorama:n})))}var Yye=["children"];function Jye(e,t){if(e==null)return{};var n,r,i=Xye(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yp.apply(null,arguments)}var Zye={width:"100%",height:"100%",display:"block"},Qye=A.forwardRef((e,t)=>{var n=uU(),r=cU(),i=bU();if(!gi(n)||!gi(r))return null;var{children:o,otherAttributes:s,title:u,desc:c}=e,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),A.createElement(qj,Yp({},s,{title:u,desc:c,role:h,tabIndex:f,width:n,height:r,style:Zye,ref:t}),o)}),e0e=e=>{var{children:t}=e,n=Ce(Am);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return A.createElement(qj,{width:r,height:i,x:s,y:o},t)},$D=A.forwardRef((e,t)=>{var{children:n}=e,r=Jye(e,Yye),i=nn();return i?A.createElement(e0e,null,A.createElement(UD,{isPanorama:!0},n)):A.createElement(Qye,Yp({ref:t},r),A.createElement(UD,{isPanorama:!1},n))});function t0e(){var e=Mt(),[t,n]=A.useState(null),r=Ce(sie);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;je(o)&&o!==r&&e(Gre(o))}},[t,e,r]),n}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){r0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0e(e,t,n){return(t=i0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i0e(e){var t=o0e(e,"string");return typeof t=="symbol"?t:t+""}function o0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jo.apply(null,arguments)}var a0e=()=>(gde(),null);function Jp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var s0e=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[o,s]=A.useState({containerWidth:Jp((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Jp((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((f,h)=>{s(p=>{var g=Math.round(f),b=Math.round(h);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),c=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();u(h,p);var g=S=>{var E=S[0];if(E!=null){var{width:T,height:C}=E.contentRect;u(T,C)}},b=new ResizeObserver(g);b.observe(f),i.current=b}},[t,u]);return A.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(rf,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",Jo({ref:c},e)))}),l0e=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=A.useState({containerWidth:Jp(n),containerHeight:Jp(r)}),s=A.useCallback((c,f)=>{o(h=>{var p=Math.round(c),g=Math.round(f);return h.containerWidth===p&&h.containerHeight===g?h:{containerWidth:p,containerHeight:g}})},[]),u=A.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:f,height:h}=c.getBoundingClientRect();s(f,h)}},[t,s]);return A.createElement(A.Fragment,null,A.createElement(rf,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",Jo({ref:u},e)))}),u0e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(rf,{width:n,height:r}),A.createElement("div",Jo({ref:t},e)))}),c0e=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?A.createElement(l0e,Jo({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?A.createElement(u0e,Jo({},e,{width:n,height:r,ref:t})):A.createElement(A.Fragment,null,A.createElement(rf,{width:n,height:r}),A.createElement("div",Jo({ref:t},e)))});function f0e(e){return e?s0e:c0e}var d0e=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:b,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:R,dispatchTouchEvents:N=!0}=e,I=A.useRef(null),O=Mt(),[M,U]=A.useState(null),[q,V]=A.useState(null),ne=t0e(),ie=B_(),Y=(ie==null?void 0:ie.width)>0?ie.width:C,L=(ie==null?void 0:ie.height)>0?ie.height:i,H=A.useCallback(ee=>{ne(ee),typeof t=="function"&&t(ee),U(ee),V(ee),ee!=null&&(I.current=ee)},[ne,t,U,V]),j=A.useCallback(ee=>{O(Vz(ee)),O(Sr({handler:o,reactEvent:ee}))},[O,o]),D=A.useCallback(ee=>{O(Rw(ee)),O(Sr({handler:f,reactEvent:ee}))},[O,f]),z=A.useCallback(ee=>{O(b$()),O(Sr({handler:h,reactEvent:ee}))},[O,h]),F=A.useCallback(ee=>{O(Rw(ee)),O(Sr({handler:p,reactEvent:ee}))},[O,p]),J=A.useCallback(()=>{O(Wz())},[O]),se=A.useCallback(ee=>{O(Kz(ee.key))},[O]),$=A.useCallback(ee=>{O(Sr({handler:s,reactEvent:ee}))},[O,s]),W=A.useCallback(ee=>{O(Sr({handler:u,reactEvent:ee}))},[O,u]),ce=A.useCallback(ee=>{O(Sr({handler:c,reactEvent:ee}))},[O,c]),ue=A.useCallback(ee=>{O(Sr({handler:g,reactEvent:ee}))},[O,g]),de=A.useCallback(ee=>{O(Sr({handler:E,reactEvent:ee}))},[O,E]),pe=A.useCallback(ee=>{N&&O(Jz(ee)),O(Sr({handler:S,reactEvent:ee}))},[O,N,S]),he=A.useCallback(ee=>{O(Sr({handler:b,reactEvent:ee}))},[O,b]),ye=f0e(R);return A.createElement(B$.Provider,{value:M},A.createElement(Jee.Provider,{value:q},A.createElement(ye,{width:Y??(T==null?void 0:T.width),height:L??(T==null?void 0:T.height),className:et("recharts-wrapper",r),style:n0e({position:"relative",cursor:"default",width:Y,height:L},T),onClick:j,onContextMenu:$,onDoubleClick:W,onFocus:J,onKeyDown:se,onMouseDown:ce,onMouseEnter:D,onMouseLeave:z,onMouseMove:F,onMouseUp:ue,onTouchEnd:he,onTouchMove:pe,onTouchStart:de,ref:H},A.createElement(a0e,null),n)))}),h0e=["width","height","responsive","children","className","style","compact","title","desc"];function p0e(e,t){if(e==null)return{};var n,r,i=m0e(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g0e=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:u,compact:c,title:f,desc:h}=e,p=p0e(e,h0e),g=lr(p);return c?A.createElement(A.Fragment,null,A.createElement(rf,{width:n,height:r}),A.createElement($D,{otherAttributes:g,title:f,desc:h},o)):A.createElement(d0e,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement($D,{otherAttributes:g,title:f,desc:h,ref:t},A.createElement(ime,null,o)))});function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iw.apply(null,arguments)}var v0e={top:5,right:5,bottom:5,left:5},y0e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:v0e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},aE=A.forwardRef(function(t,n){var r,i=bn(t.categoricalChartProps,y0e),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,categoricalChartProps:f}=t,h={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return A.createElement(Hye,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},A.createElement(Xpe,{chartData:f.data}),A.createElement(Kye,{layout:i.layout,margin:i.margin}),A.createElement(Wye,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(g0e,Iw({},i,{ref:n})))}),b0e=["axis"],x0e=A.forwardRef((e,t)=>A.createElement(aE,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:b0e,tooltipPayloadSearcher:qS,categoricalChartProps:e,ref:t})),w0e=["axis","item"],_0e=A.forwardRef((e,t)=>A.createElement(aE,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:w0e,tooltipPayloadSearcher:qS,categoricalChartProps:e,ref:t})),S0e=["axis"],E0e=A.forwardRef((e,t)=>A.createElement(aE,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:S0e,tooltipPayloadSearcher:qS,categoricalChartProps:e,ref:t}));const T0e=()=>{var V,ne,ie,Y;const[e,t]=A.useState({agents:[],messages:[],tasks:[],dailyCost:{total:"$'0.00",breakdown:[]},goals:[],memories:[],logs:[],cronJobs:[],artifacts:[],internalMessages:[],proposals:[],research:[],securityIssues:[],selectedAgentId:null,activeTab:"Dashboard"}),[n,r]=A.useState(!1),[i,o]=A.useState({x:0,y:0}),[s,u]=A.useState(!1),[c,f]=A.useState(""),[h,p]=A.useState(!1),[g,b]=A.useState(""),[S,E]=A.useState(!1),[T,C]=A.useState(!1);A.useEffect(()=>{const L=setInterval(()=>{t(j=>{const D=j.agents.map(z=>{const F=j.tasks.find($=>$.assigneeId===z.id&&$.status!=="DONE");let J=z.status,se=z.mood;if(F?I(F,j.tasks)?(F.status==="TODO"||F.status==="STUCK")&&(O(F.id,"IN_PROGRESS"),J="WORKING",se="FOCUSED"):(F.status!=="STUCK"&&O(F.id,"STUCK"),J="IDLE",se="STRESSED"):J="IDLE",J==="IDLE"&&Math.random()<.05){const $=["FOCUSED","SOCIAL","STRESSED"];se=$[Math.floor(Math.random()*$.length)]}return{...z,status:J,mood:se}});return{...j,agents:D}})},2e3),H=setInterval(()=>{t(j=>({...j,agents:j.agents.map(D=>{if(!D.currentPosition||!D.homePosition)return D;const z=Math.sqrt(Math.pow(D.currentPosition.x-D.homePosition.x,2)+Math.pow(D.currentPosition.y-D.homePosition.y,2))<1;switch(D.mood){case"SOCIAL":if(Math.random()<.2){const F=pn.find($=>$.id==="LOUNGE");if(!F)return D;const J=F.x+10+Math.random()*(F.w-20),se=F.y+10+Math.random()*(F.h-20);return{...D,currentPosition:{x:J,y:se},isFacingLeft:J<D.currentPosition.x,currentActivity:"Socializing"}}break;case"STRESSED":if(z&&Math.random()<.3){const F=pn.find($=>$.id===D.room);if(!F)return D;const J=F.x+Math.random()*F.w,se=F.y+Math.random()*F.h;return{...D,currentPosition:{x:J,y:se},isFacingLeft:J<D.currentPosition.x,currentActivity:"Pacing"}}break;case"FOCUSED":default:if(!z)return{...D,currentPosition:{...D.homePosition},isFacingLeft:D.homePosition.x<D.currentPosition.x,currentActivity:"Deep Work"};break}return D})}))},6e3);return()=>{clearInterval(L),clearInterval(H)}},[]);const R=A.useCallback((L,H)=>L.map(j=>{const D={...j};return H==="agent"?(D.currentPosition=j.currentPosition||j.current_position||{x:50,y:50},D.homePosition=j.homePosition||j.home_position||{x:50,y:50},D.currentActivity=j.currentActivity||j.current_activity||"Idle",D.isFacingLeft=j.isFacingLeft!==void 0?j.isFacingLeft:j.is_facing_left!==void 0?j.is_facing_left:!1,D.trustScore=j.trustScore||j.trust_score||50,D.systemPrompt=j.systemPrompt||j.system_prompt||"",D.parentId=j.parentId||j.parent_id):H==="task"?(D.assigneeId=j.assigneeId||j.assignee_id,D.dueDate=j.dueDate||j.due_date):H==="artifact"?D.creatorId=j.creatorId||j.creator_id:H==="memory"?D.agentId=j.agentId||j.agent_id:H==="cron"?(D.nextRun=j.nextRun||j.next_run,D.lastRunStatus=j.lastRunStatus||j.last_run_status):H==="log"&&(D.agentId=j.agentId||j.agent_id),D}),[]);A.useEffect(()=>{(async()=>{try{const[H,j,D,z,F,J,se,$,W,ce,ue,de,pe]=await Promise.all([Aee(),Cee(),Pee(),Nee(),Ree(),Uee(),$ee(),Oee(),kee(),Mee(),Dee(),Lee(),jee()]);t(he=>({...he,agents:H.length>0?H:he.agents,tasks:j.length>0?j:he.tasks,goals:D.length>0?D:he.goals,memories:z.length>0?z:he.memories,logs:J.length>0?J:he.logs,research:se,securityIssues:$,artifacts:W,proposals:ce,dailyCost:F||{total:"$0.00",breakdown:[]},systemHealth:pe||{status:"UNKNOWN",uptime:"0",responseTime:"0",errorRate:"0",activeTasks:0},cronJobs:[]})),console.log("Capabilities:",ue.length),console.log("Models:",de.length),console.log("SystemHealth:",pe.status),console.log("Proposals count:",(ce==null?void 0:ce.length)||0),console.log("Proposals sample:",ce==null?void 0:ce[0]),console.log("Proposals:",(ce==null?void 0:ce.length)||0)}catch(H){console.error("Error fetching initial state from OPI Supabase:",H)}})()},[]),A.useEffect(()=>{const L=Iee(H=>{console.log("Task change received from OPI!",H),t(j=>{const D=[...j.tasks];if(H.eventType==="INSERT")return{...j,tasks:[...D,{id:String(H.new.id),title:H.new.title,assigneeId:H.new.owner||"1",status:"TODO",priority:H.new.priority||"MEDIUM",dueDate:H.new.deadline||""}]};if(H.eventType==="UPDATE"){const z=D.findIndex(F=>F.id===String(H.old.id));return z!==-1&&(D[z]={...D[z],status:H.new.status||D[z].status}),{...j,tasks:D}}return j})});return()=>{Gt.removeChannel(L)}},[]),A.useEffect(()=>{const L=Gt.channel("realtime-agents").on("postgres_changes",{event:"*",schema:"public",table:"agents"},H=>{console.log("Agent change received!",H),t(j=>{const D=[...j.agents];if(H.eventType==="INSERT"||H.eventType==="UPDATE"){const z=R([H.new],"agent")[0];if(H.eventType==="INSERT")return{...j,agents:[...D,z]};{const F=D.findIndex(J=>J.id===H.old.id);return F!==-1&&(D[F]=z),{...j,agents:D}}}return H.eventType==="DELETE"?{...j,agents:D.filter(z=>z.id!==H.old.id)}:j})}).subscribe();return()=>{Gt.removeChannel(L)}},[]);const N=L=>{o({x:(L.clientX/window.innerWidth-.5)*20,y:(L.clientY/window.innerHeight-.5)*20})},I=(L,H)=>!L.dependencies||L.dependencies.length===0?!0:L.dependencies.every(j=>{const D=H.find(z=>z.id===j);return D?D.status==="DONE":!0}),O=async(L,H)=>{try{const{data:j,error:D}=await Gt.from("tasks").update({status:H}).eq("id",L).select().single();if(D)throw D;j&&t(z=>({...z,tasks:z.tasks.map(F=>F.id===L?j:F)}))}catch(j){console.error("Error updating task status in Supabase:",j)}},M=(L,H)=>{const j=e.proposals.find(D=>D.id===L);if(j&&(t(D=>({...D,proposals:D.proposals.map(z=>z.id===L?{...z,status:H==="approve"?"approved":"rejected"}:z),logs:[{id:Date.now().toString(),timestamp:Date.now(),agentId:"SYSTEM",message:`Proposal "${j.title}" has been ${H==="approve"?"approved":"rejected"}.`,type:H==="approve"?"SUCCESS":"WARNING"},...D.logs]})),H==="approve")){const D=j.agents.map(z=>{const F=e.agents.find(J=>J.name===z);return{id:`task-${Date.now()}-${z}`,title:`[${j.title}] - ${z}'s role`,assigneeId:F?F.id:"unassigned",status:"TODO",priority:j.impact==="Critical"||j.impact==="High"?"HIGH":"MEDIUM",dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0]}});t(z=>({...z,tasks:[...D,...z.tasks]}))}},U=async(L,H)=>{if(!L.trim()||s)return;const j=e.agents.find(F=>F.id===H);u(!0);const D=await qX(L,j.systemPrompt),z={id:Date.now().toString(),senderId:j.id,senderName:j.name,text:D,timestamp:Date.now(),role:"model"};t(F=>({...F,messages:[...F.messages,z],agents:F.agents.map(J=>J.id===j.id?{...J,status:"THINKING"}:J)})),u(!1),setTimeout(()=>{t(F=>({...F,agents:F.agents.map(J=>J.id===j.id?{...J,status:"IDLE"}:J)}))},1500)},q=()=>{e.selectedAgentId&&(t(L=>({...L,agents:L.agents.map(H=>H.id===e.selectedAgentId?{...H,systemPrompt:g}:H),logs:[{id:Date.now().toString(),timestamp:Date.now(),agentId:"SYSTEM",message:`System Prompt updated for agent ${e.selectedAgentId}.`,type:"SUCCESS"},...L.logs]})),p(!1))};return A.useEffect(()=>{const L=setInterval(()=>{t(H=>{const j=H.agents.map(D=>{if(Math.random()>.7&&D.status!=="WORKING"){const z=pn.find(F=>F.id===D.room);if(z){const J=z.x+5+Math.random()*(z.w-10),se=z.y+5+Math.random()*(z.h-10);return{...D,currentPosition:{x:J,y:se},isFacingLeft:J<D.currentPosition.x}}}return D});return{...H,agents:j}})},3e3);return()=>clearInterval(L)},[]),w.jsxs("div",{className:"h-screen w-screen flex bg-[#030305] text-zinc-400 overflow-hidden font-sans rtl selection:bg-blue-500/20",onMouseMove:N,children:[w.jsx("div",{className:"film-grain"}),w.jsx("div",{className:"scanlines absolute inset-0 z-[100] pointer-events-none"}),w.jsxs("aside",{className:`hidden lg:flex ${T?"w-20":"w-80"} glass border-l border-white/5 flex-col z-50 shadow-[25px_0_60px_rgba(0,0,0,0.8)] transition-all duration-500 ease-in-out`,children:[w.jsx("div",{className:`p-8 flex flex-col gap-1 ${T?"items-center":""}`,children:w.jsxs("div",{className:"flex justify-between items-center w-full",children:[!T&&w.jsxs("div",{children:[w.jsxs("div",{className:"text-white text-4xl font-black tracking-tighter",children:["NEXUS",w.jsx("span",{className:"text-blue-500",children:"."})]}),w.jsx("div",{className:"text-[10px] text-zinc-600 font-bold uppercase tracking-[0.5em] opacity-40",children:"Command Center"})]}),T&&w.jsxs("div",{className:"text-white text-2xl font-black tracking-tighter mb-4",children:["N",w.jsx("span",{className:"text-blue-500",children:"."})]}),w.jsx("button",{onClick:()=>C(!T),className:`w-8 h-8 rounded-lg bg-white/5 hover:bg-white/10 flex items-center justify-center text-zinc-400 transition-colors ${T?"mb-2":""}`,children:T?w.jsx(YV,{size:16}):w.jsx(KV,{size:16})})]})}),w.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar",children:[{id:"Dashboard",label:" ",icon:xC},{id:"Security",label:" ",icon:Lb},{id:"Research",label:" ",icon:Vu},{id:"Physical",label:" ",icon:yh},{id:"Tasks",label:" ",icon:by},{id:"OrgTree",label:" ",icon:xy},{id:"Artifacts",label:" ",icon:vC},{id:"Memory",label:" ",icon:bC},{id:"Cron",label:" (Cron)",icon:yC},{id:"Logs",label:" ",icon:wC},{id:"Capabilities",label:" ",icon:SC},{id:"Models",label:" ",icon:Vu},{id:"Approvals",label:"  ",icon:wy},{id:"SystemHealth",label:" ",icon:Qs}].map(L=>w.jsxs("button",{onClick:()=>t(H=>({...H,activeTab:L.id})),className:`w-full text-right px-4 py-3 text-[11px] font-bold uppercase tracking-widest rounded-xl transition-all duration-300 group flex items-center ${T?"justify-center":"justify-between"}
                 ${e.activeTab===L.id?"bg-blue-600 text-white shadow-[0_10px_30px_rgba(37,99,235,0.3)]":"text-zinc-600 hover:text-zinc-300 hover:bg-white/5"}`,title:T?L.label:"",children:[w.jsxs("div",{className:`flex items-center ${T?"justify-center":"gap-3"}`,children:[w.jsx(L.icon,{size:20,className:`${e.activeTab===L.id?"text-white":"text-zinc-600 group-hover:text-zinc-300"} transition-colors`}),!T&&w.jsx("span",{children:L.label})]}),!T&&e.activeTab===L.id&&w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white shadow-[0_0_10px_#fff]"})]},L.id))}),w.jsx("div",{className:`p-6 bg-black/40 border-t border-white/5 ${T?"flex justify-center":""}`,children:T?w.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse",title:"System Online"}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("div",{className:"text-[10px] font-bold text-zinc-700 uppercase tracking-widest",children:"Global Status"}),w.jsxs("div",{className:"flex gap-1",children:[w.jsx("div",{className:"w-1 h-3 bg-green-500 rounded-full animate-pulse"}),w.jsx("div",{className:"w-1 h-3 bg-green-500/40 rounded-full"})]})]}),w.jsxs("div",{className:"text-[9px] font-mono text-zinc-500 opacity-50 space-y-1",children:[w.jsx("div",{children:"Uptime: 99.998%"}),w.jsxs("div",{children:["Active Agents: ",e.agents.length]})]})]})})]}),w.jsxs("div",{className:`lg:hidden fixed inset-0 z-[200] pointer-events-none transition-all duration-500 ${S?"pointer-events-auto":""}`,children:[w.jsx("div",{className:`absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity duration-500 ${S?"opacity-100":"opacity-0"}`,onClick:()=>E(!1)}),w.jsxs("div",{className:`absolute top-0 right-0 bottom-0 w-[80%] max-w-sm bg-[#0a0a0c] border-l border-white/10 shadow-2xl transform transition-transform duration-500 flex flex-col ${S?"translate-x-0":"translate-x-full"}`,children:[w.jsxs("div",{className:"p-8 border-b border-white/5 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"text-white text-2xl font-black tracking-tighter",children:["NEXUS",w.jsx("span",{className:"text-blue-500",children:"."})]}),w.jsx("div",{className:"text-[10px] text-zinc-600 font-bold uppercase tracking-[0.5em]",children:"Mobile Command"})]}),w.jsx("button",{onClick:()=>E(!1),className:"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center text-zinc-400 hover:text-white",children:w.jsx(Sq,{size:20})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-2",children:[{id:"Dashboard",label:" ",icon:xC},{id:"Security",label:" ",icon:Lb},{id:"Research",label:" ",icon:Vu},{id:"Tasks",label:" ",icon:by},{id:"Capabilities",label:" ",icon:SC},{id:"Models",label:" ",icon:Vu},{id:"Approvals",label:" ",icon:wy},{id:"SystemHealth",label:" ",icon:Qs},{id:"Logs",label:" ",icon:wC},{id:"Physical",label:" ",icon:yh},{id:"OrgTree",label:" ",icon:xy},{id:"Artifacts",label:" ",icon:vC},{id:"Memory",label:" ",icon:bC},{id:"Cron",label:"",icon:yC}].map(L=>w.jsxs("button",{onClick:()=>{t(H=>({...H,activeTab:L.id})),E(!1)},className:`w-full text-right px-6 py-4 rounded-xl transition-all duration-300 flex items-center justify-between group
                        ${e.activeTab===L.id?"bg-blue-600/10 border border-blue-500/20 text-blue-400":"hover:bg-white/5 text-zinc-400 hover:text-white border border-transparent"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx(L.icon,{size:20,className:`transition-opacity ${e.activeTab===L.id?"opacity-100":"opacity-70 group-hover:opacity-100"}`}),w.jsx("span",{className:"text-sm font-bold uppercase tracking-wide",children:L.label})]}),e.activeTab===L.id&&w.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 shadow-[0_0_10px_#3b82f6]"})]},L.id))}),w.jsxs("div",{className:"p-6 border-t border-white/5 bg-black/20",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),w.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"System Online"})]}),w.jsx("div",{className:"text-[10px] text-zinc-700 font-mono",children:"v2.5.0-mobile-build"})]})]})]}),w.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden pb-0 lg:pb-0",children:[w.jsx("header",{className:"h-20 lg:h-32 px-4 lg:px-16 flex items-center justify-between z-40 relative border-b border-white/5 bg-black/20 backdrop-blur-md lg:bg-transparent",children:w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>E(!0),className:"lg:hidden w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center active:scale-95 transition-transform text-white",children:w.jsx(sq,{size:20})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h1",{className:"text-white text-xl lg:text-4xl font-light tracking-tight",children:e.activeTab}),w.jsx("div",{className:"hidden lg:block text-[10px] font-black text-blue-500 uppercase tracking-[0.3em] mt-1",children:"Strategic Control Layer Activated"})]})]})}),w.jsxs("section",{className:`flex-1 overflow-y-auto custom-scrollbar relative z-10 ${e.activeTab==="Physical"?"p-0":"p-6 lg:p-16"}`,children:[e.activeTab==="Dashboard"&&w.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 lg:space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6",children:[w.jsxs("button",{onClick:()=>t(L=>({...L,activeTab:"Approvals"})),className:"glass p-5 rounded-2xl border border-white/5 hover:border-yellow-500/30 transition-all group text-left relative overflow-hidden",children:[w.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(wy,{size:60})}),w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Pending Approvals"}),w.jsx("div",{className:`w-2 h-2 rounded-full ${(Array.isArray(e.proposals)?e.proposals:[]).filter(L=>L.status==="pending").length>0?"bg-yellow-500 animate-pulse":"bg-zinc-800"}`})]}),w.jsx("div",{className:"text-3xl font-black text-white mb-1",children:(Array.isArray(e.proposals)?e.proposals:[]).filter(L=>L.status==="pending").length}),w.jsx("div",{className:"text-[10px] text-zinc-600",children:"Requires immediate review"})]}),w.jsxs("button",{onClick:()=>t(L=>({...L,activeTab:"Tasks"})),className:"glass p-5 rounded-2xl border border-white/5 hover:border-red-500/30 transition-all group text-left relative overflow-hidden",children:[w.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(by,{size:60})}),w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Blocked Tasks"}),w.jsx("div",{className:`w-2 h-2 rounded-full ${e.tasks.filter(L=>L.status==="open").length>0?"bg-red-500 animate-pulse":"bg-zinc-800"}`})]}),w.jsx("div",{className:"text-3xl font-black text-white mb-1",children:e.tasks.filter(L=>L.status==="open").length}),w.jsx("div",{className:"text-[10px] text-zinc-600",children:"High priority bottlenecks"})]}),w.jsxs("button",{onClick:()=>t(L=>({...L,activeTab:"Models"})),className:"glass p-5 rounded-2xl border border-white/5 hover:border-green-500/30 transition-all group text-left relative overflow-hidden",children:[w.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(Vu,{size:60})}),w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Daily Spend"}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"})]}),w.jsx("div",{className:"text-3xl font-black text-white mb-1",children:e.dailyCost.total}),w.jsx("div",{className:"text-[10px] text-zinc-600",children:"28% of daily budget"})]}),w.jsxs("button",{onClick:()=>t(L=>({...L,activeTab:"SystemHealth"})),className:"glass p-5 rounded-2xl border border-white/5 hover:border-blue-500/30 transition-all group text-left relative overflow-hidden",children:[w.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:w.jsx(Qs,{size:60})}),w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"System Health"}),w.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"})]}),w.jsx("div",{className:"text-3xl font-black text-white mb-1",children:"98%"}),w.jsx("div",{className:"text-[10px] text-zinc-600",children:"All systems operational"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 glass rounded-3xl p-6 lg:p-8 border border-white/5",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("h2",{className:"text-white text-lg font-bold flex items-center gap-2",children:[w.jsx(xy,{size:18,className:"text-blue-500"}),"Team Status"]}),w.jsxs("span",{className:"text-[10px] text-zinc-500 font-mono uppercase",children:[e.agents.filter(L=>L.status!=="IDLE").length," Active Agents"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.agents.map(L=>{const H=e.tasks.find(j=>j.assigneeId===L.id&&j.status==="IN_PROGRESS");return w.jsxs("div",{className:"bg-white/[0.02] p-4 rounded-2xl border border-white/5 flex items-center gap-4 hover:bg-white/[0.04] transition-colors",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden border border-white/10",children:w.jsx("img",{src:L.avatar,className:"w-full h-full object-cover"})}),w.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-[#0a0a0c] ${L.status==="IDLE"?"bg-zinc-500":L.status==="THINKING"?"bg-purple-500 animate-pulse":"bg-green-500"}`})]}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[w.jsx("span",{className:"text-white font-bold text-sm truncate",children:L.name}),w.jsx("span",{className:`text-[9px] font-bold uppercase tracking-wider ${L.mood==="STRESSED"?"text-red-400":"text-zinc-500"}`,children:L.mood})]}),w.jsx("div",{className:"text-[10px] text-zinc-400 truncate",children:H?w.jsxs("span",{className:"text-blue-400 flex items-center gap-1",children:[w.jsx(Qs,{size:10})," ",H.title]}):w.jsx("span",{className:"opacity-50",children:"Idle - Standing by"})})]})]},L.id)})})]}),w.jsxs("div",{className:"glass rounded-3xl p-6 lg:p-8 border border-white/5 flex flex-col",children:[w.jsx("div",{className:"flex justify-between items-center mb-6",children:w.jsxs("h2",{className:"text-white text-lg font-bold flex items-center gap-2",children:[w.jsx(Qs,{size:18,className:"text-orange-500"}),"Critical Events"]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 pr-2 max-h-[400px]",children:[e.logs.filter(L=>L.type==="ERROR"||L.type==="WARNING"||L.message.includes("Proposal")).slice(0,8).map(L=>{var H;return w.jsxs("div",{className:"flex gap-3 relative pl-4 border-l border-white/10",children:[w.jsx("div",{className:`absolute left-[-5px] top-1.5 w-2.5 h-2.5 rounded-full border-2 border-[#0a0a0c] ${L.type==="ERROR"?"bg-red-500":L.type==="WARNING"?"bg-yellow-500":"bg-blue-500"}`}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-500",children:new Date(L.timestamp).toLocaleTimeString()}),w.jsx("span",{className:"text-[9px] font-bold text-zinc-400 uppercase",children:((H=e.agents.find(j=>j.id===L.agentId))==null?void 0:H.name)||"SYSTEM"})]}),w.jsx("p",{className:"text-xs text-zinc-300 leading-relaxed",children:L.message})]})]},L.id)}),e.logs.filter(L=>L.type==="ERROR"||L.type==="WARNING").length===0&&w.jsx("div",{className:"text-center py-10 text-zinc-600 text-xs",children:"No critical events to report."})]})]})]}),w.jsxs("div",{className:"glass rounded-3xl p-6 lg:p-8 border border-white/5",children:[w.jsxs("h2",{className:"text-white text-lg font-bold mb-6 flex items-center gap-2",children:[w.jsx(yh,{size:18,className:"text-purple-500"}),"Strategic Goals Progress"]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.goals.map(L=>w.jsxs("div",{className:"bg-white/[0.02] p-5 rounded-2xl border border-white/5",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("span",{className:"text-white text-sm font-bold",children:L.title}),w.jsxs("span",{className:`text-xs font-mono font-bold ${L.progress>=80?"text-green-400":L.progress>=50?"text-blue-400":"text-zinc-500"}`,children:[L.progress,"%"]})]}),w.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${L.progress>=80?"bg-green-500":L.progress>=50?"bg-blue-500":"bg-zinc-500"}`,style:{width:`${L.progress}%`}})})]},L.id))})]})]}),e.activeTab==="Tasks"&&w.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in zoom-in-95 duration-500",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 lg:mb-10",children:[w.jsx("h2",{className:"text-white text-xl lg:text-3xl font-bold",children:"Master Task Board"}),w.jsx("button",{className:"px-4 lg:px-8 py-2 lg:py-3 bg-blue-600 rounded-xl text-[9px] lg:text-[11px] font-bold text-white uppercase tracking-widest hover:bg-blue-500 transition-all",children:"+ New"})]}),w.jsx("div",{className:"hidden lg:block glass rounded-[2rem] border border-white/10 overflow-hidden shadow-2xl",children:w.jsxs("table",{className:"w-full text-right border-collapse",children:[w.jsx("thead",{className:"bg-white/5 text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-6",children:"Item Name"}),w.jsx("th",{className:"p-6",children:"Assignee"}),w.jsx("th",{className:"p-6",children:"Status"}),w.jsx("th",{className:"p-6",children:"Priority"}),w.jsx("th",{className:"p-6",children:"Due Date"}),w.jsx("th",{className:"p-6",children:"Tags"})]})}),w.jsx("tbody",{className:"text-sm divide-y divide-white/5",children:e.tasks.map(L=>{var H,j,D;return w.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[w.jsx("td",{className:"p-6 text-white font-medium",children:L.title}),w.jsx("td",{className:"p-6",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg overflow-hidden border border-white/10",children:w.jsx("img",{src:(H=e.agents.find(z=>z.id===L.assigneeId))==null?void 0:H.avatar,className:"w-full h-full"})}),w.jsx("span",{className:"text-zinc-400",children:(j=e.agents.find(z=>z.id===L.assigneeId))==null?void 0:j.name})]})}),w.jsx("td",{className:"p-6",children:w.jsx("span",{className:`px-4 py-1.5 rounded-lg text-[9px] font-black uppercase tracking-widest
                                    ${L.status==="DONE"?"bg-green-500/10 text-green-500":"bg-blue-500/10 text-blue-500"}`,children:L.status})}),w.jsx("td",{className:"p-6",children:w.jsx("span",{className:`text-[9px] font-bold uppercase ${L.priority==="HIGH"?"text-red-500":"text-zinc-600"}`,children:L.priority})}),w.jsx("td",{className:"p-6 text-zinc-500 font-mono text-[11px]",children:L.dueDate}),w.jsx("td",{className:"p-6",children:w.jsx("div",{className:"flex gap-2",children:(D=L.tags)==null?void 0:D.map(z=>w.jsx("span",{className:"text-[8px] bg-white/5 px-2 py-1 rounded text-zinc-400 uppercase",children:z},z))})})]},L.id)})})]})}),w.jsx("div",{className:"lg:hidden space-y-4",children:e.tasks.map(L=>{var H,j,D;return w.jsxs("div",{className:"glass p-5 rounded-2xl border border-white/10 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h3",{className:"text-white font-bold text-sm leading-tight",children:L.title}),w.jsx("span",{className:`text-[8px] font-black uppercase tracking-widest ${L.priority==="HIGH"?"text-red-500":"text-zinc-600"}`,children:L.priority})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-lg overflow-hidden border border-white/5",children:w.jsx("img",{src:(H=e.agents.find(z=>z.id===L.assigneeId))==null?void 0:H.avatar,className:"w-full h-full"})}),w.jsx("span",{className:"text-[10px] text-zinc-400",children:(j=e.agents.find(z=>z.id===L.assigneeId))==null?void 0:j.name})]}),w.jsx("span",{className:`px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-widest
                                ${L.status==="DONE"?"bg-green-500/10 text-green-500":"bg-blue-500/10 text-blue-500"}`,children:L.status})]}),w.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/5",children:[w.jsx("span",{className:"text-[9px] font-mono text-zinc-600",children:L.dueDate}),w.jsx("div",{className:"flex gap-1",children:(D=L.tags)==null?void 0:D.slice(0,2).map(z=>w.jsx("span",{className:"text-[7px] bg-white/5 px-2 py-0.5 rounded text-zinc-500 uppercase",children:z},z))})]})]},L.id)})})]}),e.activeTab==="OrgTree"&&w.jsxs("div",{className:"max-w-6xl mx-auto h-full flex flex-col items-center animate-in fade-in slide-in-from-top-4 duration-1000",children:[w.jsx("h2",{className:"text-white text-xl lg:text-3xl font-bold mb-10 lg:mb-20",children:"Neural Organization Hierarchy"}),w.jsxs("div",{className:"flex flex-col items-center gap-20",children:[w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("div",{className:"w-24 h-24 rounded-3xl glass border-2 border-blue-500/40 p-1 shadow-[0_0_50px_rgba(59,130,246,0.2)]",children:w.jsx("img",{src:(V=e.agents.find(L=>!L.parentId))==null?void 0:V.avatar,className:"w-full h-full rounded-2xl"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-white font-black uppercase tracking-widest",children:(ne=e.agents.find(L=>!L.parentId))==null?void 0:ne.name}),w.jsx("div",{className:"text-[9px] text-blue-500 font-bold uppercase",children:(ie=e.agents.find(L=>!L.parentId))==null?void 0:ie.role})]})]}),w.jsxs("div",{className:"flex gap-32 relative",children:[w.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 w-px h-10 bg-white/10"}),w.jsx("div",{className:"absolute -top-10 left-[20%] right-[20%] h-px bg-white/10"}),e.agents.filter(L=>{var H;return L.parentId===((H=e.agents.find(j=>!j.parentId))==null?void 0:H.id)}).map(L=>w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("div",{className:"w-16 h-16 rounded-2xl glass border border-white/20 p-1",children:w.jsx("img",{src:L.avatar,className:"w-full h-full rounded-xl"})}),w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"text-zinc-300 font-bold text-xs uppercase tracking-widest",children:L.name}),w.jsx("div",{className:"text-[8px] text-zinc-600 font-bold uppercase",children:L.role})]})]},L.id))]})]})]}),e.activeTab==="Physical"&&w.jsx(Eq,{agents:e.agents,selectedAgentId:e.selectedAgentId,onSelectAgent:L=>t(H=>({...H,selectedAgentId:L}))}),e.activeTab==="Research"&&w.jsx(b8,{research:e.research,agents:e.agents}),e.activeTab==="Security"&&w.jsx(zP,{issues:e.securityIssues,agents:e.agents}),e.activeTab==="Security"&&w.jsx(zP,{issues:e.securityIssues,agents:e.agents}),e.activeTab==="Cron"&&w.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-in fade-in slide-in-from-right-10 duration-500",children:[w.jsx("h2",{className:"text-white text-3xl font-bold mb-10",children:"Automation Pulse (Cron)"}),w.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.cronJobs.map(L=>w.jsxs("div",{className:"glass p-10 rounded-[2.5rem] border border-white/5 flex items-center justify-between group hover:border-blue-500/20 transition-all",children:[w.jsxs("div",{className:"flex gap-8 items-center",children:[w.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border
                              ${L.lastRunStatus==="RUNNING"?"bg-blue-600/20 border-blue-500/30":"bg-white/5 border-white/10"}`,children:w.jsx("div",{className:`w-4 h-4 rounded-full ${L.lastRunStatus==="RUNNING"?"bg-blue-500 animate-ping":"bg-green-500 shadow-[0_0_10px_#22c55e]"}`})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-white text-xl font-bold",children:L.name}),w.jsx("p",{className:"text-[10px] text-zinc-500 uppercase tracking-widest mt-1",children:L.description})]})]}),w.jsxs("div",{className:"flex gap-12 text-right",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-[9px] font-bold text-zinc-600 uppercase tracking-widest mb-1",children:"Interval"}),w.jsxs("div",{className:"text-sm text-zinc-300 font-mono",children:[L.interval,"s"]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-[9px] font-bold text-zinc-600 uppercase tracking-widest mb-1",children:"Next Run"}),w.jsx("div",{className:"text-sm text-zinc-300 font-mono",children:new Date(L.nextRun).toLocaleTimeString()})]}),w.jsx("button",{className:"px-6 py-2 bg-white/5 rounded-xl text-[10px] font-bold text-white uppercase hover:bg-white/10 border border-white/5 transition-all",children:"Manual Run"})]})]},L.id))})]}),e.activeTab==="Artifacts"&&w.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsx("h2",{className:"text-white text-3xl font-bold mb-10",children:"Artifact Archive"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.artifacts.map(L=>{var H,j;return w.jsxs("div",{className:"glass p-8 rounded-3xl border border-white/5 hover:border-blue-500/20 transition-all group",children:[w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-600/10 flex items-center justify-center text-blue-500",children:L.type==="CODE"?"</>":L.type==="DOCUMENT"?"DOC":L.type==="IMAGE"?"IMG":"DATA"}),w.jsx("span",{className:"text-[9px] font-mono text-zinc-600",children:new Date(L.timestamp).toLocaleDateString()})]}),w.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:L.title}),w.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.jsx("div",{className:"w-5 h-5 rounded-full overflow-hidden border border-white/10",children:w.jsx("img",{src:(H=e.agents.find(D=>D.id===L.creatorId))==null?void 0:H.avatar,className:"w-full h-full"})}),w.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-widest",children:(j=e.agents.find(D=>D.id===L.creatorId))==null?void 0:j.name})]}),w.jsx("div",{className:"text-xs text-zinc-400 line-clamp-3 mb-6 bg-black/20 p-4 rounded-xl border border-white/5 font-mono",children:L.content}),w.jsx("button",{className:"w-full py-3 bg-white/5 rounded-xl text-[10px] font-bold text-white uppercase tracking-widest hover:bg-white/10 border border-white/5 transition-all",children:"View Full Content"})]},L.id)})})]}),e.activeTab==="Memory"&&w.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsx("h2",{className:"text-white text-3xl font-bold mb-10",children:"Neural Memory Core"}),w.jsx("div",{className:"space-y-4",children:e.memories.map(L=>{var H,j;return w.jsxs("div",{className:"glass p-6 rounded-2xl border border-white/5 flex gap-6 items-start",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden border border-white/10 flex-shrink-0",children:w.jsx("img",{src:(H=e.agents.find(D=>D.id===L.agentId))==null?void 0:H.avatar,className:"w-full h-full"})}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("span",{className:"text-[10px] font-bold text-blue-500 uppercase tracking-widest",children:(j=e.agents.find(D=>D.id===L.agentId))==null?void 0:j.name}),w.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((D,z)=>w.jsx("div",{className:`w-1 h-1 rounded-full ${z<L.importance?"bg-yellow-500":"bg-zinc-800"}`},z))})]}),w.jsx("p",{className:"text-zinc-300 text-sm leading-relaxed",children:L.content}),w.jsx("div",{className:"mt-4 text-[9px] font-mono text-zinc-600",children:new Date(L.timestamp).toLocaleString()})]})]},L.id)})})]}),e.activeTab==="Logs"&&w.jsxs("div",{className:"max-w-6xl mx-auto h-full flex flex-col animate-in fade-in duration-500",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 lg:mb-8",children:[w.jsx("h2",{className:"text-white text-xl lg:text-3xl font-bold",children:"System Logs"}),w.jsxs("div",{className:"flex gap-2 lg:gap-4",children:[w.jsx("button",{className:"px-3 lg:px-4 py-2 bg-white/5 rounded-lg text-[9px] lg:text-[10px] font-bold text-zinc-400 uppercase border border-white/5",children:"Clear"}),w.jsx("button",{className:"px-3 lg:px-4 py-2 bg-blue-600 rounded-lg text-[9px] lg:text-[10px] font-bold text-white uppercase",children:"Export"})]})]}),w.jsxs("div",{className:"flex-1 glass rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"hidden lg:flex bg-white/5 px-8 py-4 border-b border-white/5 text-[10px] font-black text-zinc-500 uppercase tracking-widest",children:[w.jsx("div",{className:"w-32",children:"Timestamp"}),w.jsx("div",{className:"w-32",children:"Agent"}),w.jsx("div",{className:"w-24",children:"Type"}),w.jsx("div",{className:"flex-1",children:"Message"})]}),w.jsx("div",{className:"flex-1 overflow-y-auto p-2 lg:p-4 space-y-1 lg:space-y-1 font-mono text-[10px] lg:text-[11px] custom-scrollbar",children:e.logs.map(L=>{var H;return w.jsxs("div",{className:"flex flex-col lg:flex-row px-3 py-3 lg:px-4 lg:py-2 bg-white/[0.02] lg:bg-transparent hover:bg-white/5 rounded-xl lg:rounded transition-colors group border-b border-white/5 lg:border-none gap-1 lg:gap-0",children:[w.jsxs("div",{className:"flex justify-between lg:hidden mb-1",children:[w.jsx("div",{className:"text-zinc-500 text-[9px]",children:new Date(L.timestamp).toLocaleTimeString()}),w.jsx("div",{className:`font-bold text-[9px] ${L.type==="ERROR"?"text-red-500":L.type==="WARNING"?"text-yellow-500":L.type==="SUCCESS"?"text-green-500":"text-blue-400"}`,children:L.type})]}),w.jsx("div",{className:"hidden lg:block w-32 text-zinc-600",children:new Date(L.timestamp).toLocaleTimeString()}),w.jsxs("div",{className:"w-32 text-blue-500 font-bold flex items-center gap-2",children:[w.jsx("span",{className:"lg:hidden text-zinc-600 font-normal",children:"Source:"}),((H=e.agents.find(j=>j.id===L.agentId))==null?void 0:H.name)||"SYSTEM"]}),w.jsxs("div",{className:`hidden lg:block w-24 font-bold ${L.type==="ERROR"?"text-red-500":L.type==="WARNING"?"text-yellow-500":L.type==="SUCCESS"?"text-green-500":"text-blue-400"}`,children:["[",L.type,"]"]}),w.jsx("div",{className:"flex-1 text-zinc-300 group-hover:text-white transition-colors leading-relaxed",children:L.message})]},L.id)})})]})]}),e.activeTab==="Capabilities"&&w.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-10",children:[w.jsx("h2",{className:"text-white text-3xl font-bold",children:"Capabilities & Tools Hub"}),w.jsx("button",{className:"px-4 py-2 bg-blue-600 rounded-lg text-[10px] font-bold text-white uppercase tracking-widest hover:bg-blue-500 transition-colors",children:"+ Add Integration"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"web-search",name:"Web Search API",status:"Active",type:"External API",agents:["RESEARCHER","THINKER"],usage:"1,245 calls/day",icon:""},{id:"code-exec",name:"Secure Code Interpreter",status:"Active",type:"Compute",agents:["DEV_LEAD","QA_TESTER"],usage:"342 executions/day",icon:""},{id:"github",name:"GitHub Integration",status:"Active",type:"Version Control",agents:["DEV_LEAD"],usage:"45 commits/day",icon:""},{id:"db-access",name:"PostgreSQL Access",status:"Restricted",type:"Database",agents:["DATA_ANALYST"],usage:"8,900 queries/day",icon:""},{id:"slack",name:"Slack Notifications",status:"Active",type:"Communication",agents:["MANAGER"],usage:"12 msgs/day",icon:""}].map(L=>w.jsxs("div",{className:"glass p-8 rounded-3xl border border-white/5 hover:border-blue-500/30 transition-all group relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 text-6xl group-hover:scale-110 transition-transform",children:L.icon}),w.jsxs("div",{className:"flex justify-between items-start mb-6 relative z-10",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center text-xl border border-white/10",children:L.icon}),w.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest border ${L.status==="Active"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"}`,children:L.status})]}),w.jsx("h3",{className:"text-white font-bold text-xl mb-1 relative z-10",children:L.name}),w.jsx("p",{className:"text-zinc-500 text-xs font-mono mb-6 relative z-10",children:L.type}),w.jsxs("div",{className:"space-y-4 relative z-10",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-[9px] text-zinc-600 uppercase tracking-widest mb-2 font-bold",children:"Authorized Agents"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:L.agents.map(H=>w.jsx("span",{className:"px-2 py-1 bg-white/5 rounded text-[10px] text-zinc-300 border border-white/5",children:H},H))})]}),w.jsxs("div",{className:"pt-4 border-t border-white/5 flex justify-between items-center",children:[w.jsx("span",{className:"text-[9px] text-zinc-600 uppercase tracking-widest font-bold",children:"Usage"}),w.jsx("span",{className:"text-xs text-blue-400 font-mono",children:L.usage})]})]})]},L.id))})]}),e.activeTab==="Models"&&w.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-10",children:[w.jsx("h2",{className:"text-white text-3xl font-bold",children:"Models Fleet Monitor"}),w.jsx("div",{className:"flex gap-4",children:w.jsxs("div",{className:"px-4 py-2 bg-white/5 rounded-lg text-[10px] font-bold text-zinc-400 uppercase border border-white/5",children:["Total Cost Today: ",w.jsx("span",{className:"text-green-400 ml-1",children:e.dailyCost.total})]})})]}),w.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{id:"gemini-pro",name:"Gemini 3.1 Pro",provider:"Google",status:"Active",latency:"450ms",tokens:"1.2M",cost:"$8.40",agents:["DEV_LEAD","THINKER"],description:"Heavy reasoning & complex coding tasks."},{id:"gemini-flash",name:"Gemini 3 Flash",provider:"Google",status:"Active",latency:"120ms",tokens:"4.5M",cost:"$2.10",agents:["RESEARCHER","DATA_ANALYST"],description:"Fast execution & data processing."},{id:"claude-opus",name:"Claude 3 Opus",provider:"Anthropic",status:"Standby",latency:"800ms",tokens:"50K",cost:"$1.50",agents:["MANAGER"],description:"Strategic planning & nuanced communication."},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",status:"Active",latency:"350ms",tokens:"200K",cost:"$2.20",agents:["QA_TESTER"],description:"Code review & edge-case testing."}].map(L=>w.jsxs("div",{className:"glass p-8 rounded-3xl border border-white/5 hover:border-purple-500/30 transition-all group",children:[w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-white font-bold text-2xl mb-1",children:L.name}),w.jsx("p",{className:"text-zinc-500 text-xs font-mono",children:L.provider})]}),w.jsxs("div",{className:"flex flex-col items-end gap-2",children:[w.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest border ${L.status==="Active"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-zinc-500/10 text-zinc-400 border-zinc-500/20"}`,children:L.status}),w.jsx("span",{className:"text-[10px] font-mono text-zinc-600",children:L.latency})]})]}),w.jsx("p",{className:"text-sm text-zinc-400 mb-8",children:L.description}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5",children:[w.jsx("div",{className:"text-[9px] text-zinc-600 uppercase tracking-widest mb-1 font-bold",children:"Tokens Used (24h)"}),w.jsx("div",{className:"text-lg font-mono text-white",children:L.tokens})]}),w.jsxs("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5",children:[w.jsx("div",{className:"text-[9px] text-zinc-600 uppercase tracking-widest mb-1 font-bold",children:"Est. Cost (24h)"}),w.jsx("div",{className:"text-lg font-mono text-green-400",children:L.cost})]})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-[9px] text-zinc-600 uppercase tracking-widest mb-3 font-bold",children:"Routed Agents"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:L.agents.map(H=>w.jsx("span",{className:"px-3 py-1.5 bg-purple-500/10 rounded-lg text-[10px] text-purple-300 border border-purple-500/20 font-bold",children:H},H))})]})]},L.id))})]}),e.activeTab==="Approvals"&&w.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-10",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-white text-3xl font-bold mb-2",children:"Innovation & Approvals"}),w.jsx("p",{className:"text-zinc-400 text-sm",children:"Review and approve autonomous project proposals."})]}),w.jsx("div",{className:"flex gap-4",children:w.jsxs("div",{className:"px-4 py-2 bg-yellow-500/10 rounded-lg text-[10px] font-bold text-yellow-500 uppercase border border-yellow-500/20",children:[(Array.isArray(e.proposals)?e.proposals:[]).filter(L=>L.status==="pending").length," Pending Approvals"]})})]}),w.jsx("div",{className:"space-y-6",children:(Array.isArray(e.proposals)?e.proposals:[]).filter(L=>L.status==="pending").map(L=>w.jsxs("div",{className:"glass p-8 rounded-3xl border border-white/5 hover:border-yellow-500/30 transition-all group",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-xl bg-yellow-500/10 flex items-center justify-center text-yellow-500 text-lg",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-white font-bold text-xl",children:L.title}),w.jsxs("div",{className:"text-[10px] text-zinc-500 font-mono mt-1",children:["Proposed by ",w.jsx("span",{className:"text-blue-400",children:L.proposer}),"  ",L.date]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("span",{className:`px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest border ${L.impact==="Critical"?"bg-red-500/10 text-red-400 border-red-500/20":L.impact==="High"?"bg-orange-500/10 text-orange-400 border-orange-500/20":"bg-blue-500/10 text-blue-400 border-blue-500/20"}`,children:["Impact: ",L.impact]}),w.jsxs("span",{className:"px-3 py-1 rounded-full text-[9px] font-bold uppercase tracking-widest border bg-zinc-500/10 text-zinc-400 border-zinc-500/20",children:["Effort: ",L.effort]})]})]}),w.jsx("p",{className:"text-sm text-zinc-300 mb-6 leading-relaxed bg-black/20 p-5 rounded-2xl border border-white/5",children:L.description}),w.jsxs("div",{className:"flex justify-between items-end",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-[9px] text-zinc-600 uppercase tracking-widest mb-2 font-bold",children:"Required Team"}),w.jsx("div",{className:"flex gap-2",children:L.agents.map(H=>w.jsx("span",{className:"px-2 py-1 bg-white/5 rounded text-[10px] text-zinc-300 border border-white/5",children:H},H))})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>M(L.id,"reject"),className:"px-6 py-3 bg-white/5 hover:bg-red-500/20 hover:text-red-400 hover:border-red-500/30 rounded-xl text-[10px] font-bold text-zinc-400 uppercase tracking-widest border border-white/5 transition-all",children:"Reject / Revise"}),w.jsx("button",{onClick:()=>M(L.id,"approve"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl text-[10px] font-bold text-white uppercase tracking-widest shadow-[0_0_20px_rgba(37,99,235,0.4)] transition-all",children:"Approve & Execute"})]})]})]},L.id))})]}),e.activeTab==="SystemHealth"&&w.jsxs("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-5 duration-700",children:[w.jsxs("div",{className:"flex justify-between items-center mb-10",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-white text-3xl font-bold mb-2",children:"System Health"}),w.jsx("p",{className:"text-zinc-400 text-sm",children:"Real-time metrics and performance monitoring."})]}),w.jsx("div",{className:"flex gap-2",children:w.jsxs("div",{className:"px-3 py-1 bg-green-500/10 rounded-full text-[10px] font-bold text-green-500 uppercase border border-green-500/20 flex items-center gap-2",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"System Operational"]})})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[w.jsxs("div",{className:"glass p-6 rounded-3xl border border-white/5",children:[w.jsx("h3",{className:"text-white text-sm font-bold uppercase tracking-widest mb-6",children:"Resource Usage"}),w.jsx("div",{className:"h-64 w-full",children:w.jsx(tb,{width:"100%",height:"100%",children:w.jsxs(E0e,{data:Array.from({length:20},(L,H)=>({time:`${H}:00`,cpu:40+Math.random()*30,memory:60+Math.random()*20})),children:[w.jsxs("defs",{children:[w.jsxs("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[w.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),w.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),w.jsxs("linearGradient",{id:"colorMem",x1:"0",y1:"0",x2:"0",y2:"1",children:[w.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),w.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),w.jsx(Oh,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),w.jsx(kh,{dataKey:"time",stroke:"#52525b",tick:{fontSize:10},tickLine:!1,axisLine:!1}),w.jsx(Dh,{stroke:"#52525b",tick:{fontSize:10},tickLine:!1,axisLine:!1}),w.jsx(yb,{contentStyle:{backgroundColor:"#000",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{fontSize:"12px"}}),w.jsx(Sw,{type:"monotone",dataKey:"cpu",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorCpu)",name:"CPU Usage %"}),w.jsx(Sw,{type:"monotone",dataKey:"memory",stroke:"#8b5cf6",strokeWidth:2,fillOpacity:1,fill:"url(#colorMem)",name:"Memory Usage %"})]})})})]}),w.jsxs("div",{className:"glass p-6 rounded-3xl border border-white/5",children:[w.jsx("h3",{className:"text-white text-sm font-bold uppercase tracking-widest mb-6",children:"Network Latency (ms)"}),w.jsx("div",{className:"h-64 w-full",children:w.jsx(tb,{width:"100%",height:"100%",children:w.jsxs(x0e,{data:Array.from({length:20},(L,H)=>({time:`${H}:00`,latency:20+Math.random()*50})),children:[w.jsx(Oh,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),w.jsx(kh,{dataKey:"time",stroke:"#52525b",tick:{fontSize:10},tickLine:!1,axisLine:!1}),w.jsx(Dh,{stroke:"#52525b",tick:{fontSize:10},tickLine:!1,axisLine:!1}),w.jsx(yb,{contentStyle:{backgroundColor:"#000",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{fontSize:"12px"}}),w.jsx(Cz,{type:"monotone",dataKey:"latency",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#10b981"},name:"Latency"})]})})})]})]}),w.jsxs("div",{className:"glass p-6 rounded-3xl border border-white/5",children:[w.jsx("h3",{className:"text-white text-sm font-bold uppercase tracking-widest mb-6",children:"API Response Times (ms)"}),w.jsx("div",{className:"h-64 w-full",children:w.jsx(tb,{width:"100%",height:"100%",children:w.jsxs(_0e,{data:Array.from({length:24},(L,H)=>({time:`${H}:00`,api:100+Math.random()*200})),children:[w.jsx(Oh,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.1)",vertical:!1}),w.jsx(kh,{dataKey:"time",stroke:"#52525b",tick:{fontSize:10},tickLine:!1,axisLine:!1}),w.jsx(Dh,{stroke:"#52525b",tick:{fontSize:10},tickLine:!1,axisLine:!1}),w.jsx(yb,{cursor:{fill:"rgba(255,255,255,0.05)"},contentStyle:{backgroundColor:"#000",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{fontSize:"12px"}}),w.jsx(zz,{dataKey:"api",fill:"#f59e0b",radius:[4,4,0,0],name:"Response Time"})]})})})]})]})]}),w.jsxs("div",{className:`fixed lg:absolute bottom-0 inset-x-0 z-[100] transition-all duration-700 cubic-bezier(0.16, 1, 0.3, 1)
          ${e.selectedAgentId?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none"}`,children:[w.jsx("div",{className:"lg:hidden absolute -top-10 inset-x-0 h-10 bg-gradient-to-t from-black/50 to-transparent pointer-events-none"}),w.jsx("div",{className:"lg:hidden w-12 h-1.5 bg-white/20 rounded-full mx-auto mb-3 shadow-[0_0_10px_rgba(0,0,0,0.5)]"}),w.jsxs("div",{className:"glass h-[92vh] lg:h-[550px] m-0 lg:m-10 rounded-t-[2rem] lg:rounded-[4rem] border border-white/20 shadow-[0_50px_100px_rgba(0,0,0,0.9)] flex flex-col lg:flex-row overflow-hidden bg-[#0a0a0c]",children:[w.jsx("div",{className:"w-full lg:w-[400px] border-b lg:border-b-0 lg:border-l border-white/10 p-6 lg:p-16 bg-black/40 flex flex-row lg:flex-col items-center lg:text-center gap-4 lg:gap-0 shrink-0",children:e.selectedAgentId&&(()=>{const L=e.agents.find(H=>H.id===e.selectedAgentId);return w.jsxs("div",{className:"contents lg:block animate-in fade-in slide-in-from-right-10 duration-700 w-full",children:[w.jsxs("div",{className:"relative shrink-0",children:[w.jsx("div",{className:"w-16 h-16 lg:w-32 lg:h-32 rounded-2xl lg:rounded-[2.5rem] border-2 border-white/20 p-1 lg:p-2 shadow-2xl mx-auto",children:w.jsx("img",{src:L.avatar,className:"w-full h-full rounded-xl lg:rounded-2xl object-cover"})}),w.jsx("div",{className:"absolute -bottom-1 -right-1 lg:-bottom-2 lg:-right-2 bg-green-500 w-5 h-5 lg:w-8 lg:h-8 rounded-full border-2 lg:border-4 border-black flex items-center justify-center text-[7px] lg:text-[10px] font-black text-black",children:"99"})]}),w.jsxs("div",{className:"flex-1 lg:flex-none min-w-0 lg:mt-8",children:[w.jsx("h3",{className:"text-white text-lg lg:text-3xl font-bold tracking-tight uppercase truncate",children:L.name}),w.jsx("div",{className:"text-[8px] lg:text-[10px] font-black text-blue-500 uppercase tracking-[0.4em] mt-0.5 lg:mt-2 truncate",children:L.role}),w.jsxs("p",{className:"hidden lg:block text-sm text-zinc-500 leading-relaxed italic mt-4",children:['"',L.description,'"']}),w.jsx("div",{className:"hidden lg:flex flex-wrap justify-center gap-2 mt-6",children:L.expertise.slice(0,3).map(H=>w.jsx("span",{className:"text-[8px] border border-white/10 px-3 py-1.5 rounded-full text-zinc-400 uppercase tracking-widest",children:H},H))})]}),w.jsx("div",{className:"lg:hidden flex flex-col gap-2",children:w.jsx("button",{onClick:()=>t(H=>({...H,selectedAgentId:null})),className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-zinc-400",children:""})}),w.jsxs("div",{className:"hidden lg:flex gap-3 mt-8 w-full",children:[w.jsx("button",{onClick:()=>t(H=>({...H,selectedAgentId:null})),className:"flex-1 py-5 rounded-2xl bg-white/5 text-[10px] font-bold text-zinc-500 uppercase tracking-[0.3em] hover:bg-white/10 transition-all border border-white/5 active:scale-95",children:"Close"}),w.jsx("button",{onClick:()=>{b(L.systemPrompt),p(!0)},className:"flex-1 py-5 rounded-2xl bg-blue-600/10 text-[10px] font-bold text-blue-500 uppercase tracking-[0.3em] hover:bg-blue-600/20 transition-all border border-blue-500/20 active:scale-95",children:"Configure"})]})]})})()}),w.jsx("div",{className:"flex-1 p-4 lg:p-16 flex flex-col bg-gradient-to-br from-[#0a0a0c] to-black overflow-hidden relative h-full",children:h?w.jsxs("div",{className:"flex flex-col h-full animate-in fade-in zoom-in-95 duration-300",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 lg:mb-6",children:[w.jsx("h3",{className:"text-white text-lg lg:text-xl font-bold uppercase tracking-widest",children:"System Prompt"}),w.jsx("button",{onClick:()=>p(!1),className:"text-zinc-500 hover:text-white transition-colors text-xs lg:text-sm",children:"Cancel"})]}),w.jsx("textarea",{value:g,onChange:L=>b(L.target.value),className:"flex-1 bg-black/40 border border-white/10 rounded-xl lg:rounded-2xl p-4 lg:p-6 text-xs lg:text-sm font-mono text-zinc-300 focus:border-blue-500/50 outline-none resize-none mb-4 lg:mb-6 custom-scrollbar leading-relaxed",placeholder:"Enter system prompt here..."}),w.jsx("div",{className:"flex justify-end",children:w.jsx("button",{onClick:q,className:"px-6 lg:px-8 py-3 lg:py-4 bg-blue-600 hover:bg-blue-500 rounded-xl text-[10px] lg:text-xs font-bold text-white uppercase tracking-widest shadow-2xl transition-all active:scale-95",children:"Save Config"})})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex-1 overflow-hidden relative mb-3 lg:mb-0",children:[w.jsx(Tq,{messages:e.messages.filter(L=>L.senderId==="user"||L.senderId===e.selectedAgentId)}),w.jsx("div",{className:"absolute inset-x-0 bottom-0 h-8 lg:h-20 bg-gradient-to-t from-[#0a0a0c] to-transparent pointer-events-none"})]}),w.jsxs("div",{className:"flex gap-2 lg:gap-6 mt-auto shrink-0",children:[w.jsx("input",{type:"text",value:c,onChange:L=>f(L.target.value),onKeyDown:L=>L.key==="Enter"&&U(c,e.selectedAgentId),placeholder:`Command ${(Y=e.agents.find(L=>L.id===e.selectedAgentId))==null?void 0:Y.name}...`,className:"flex-1 bg-black/60 border border-white/10 rounded-xl lg:rounded-[1.5rem] px-4 lg:px-10 py-3 lg:py-5 text-xs lg:text-sm text-white focus:border-blue-500/50 outline-none transition-all"}),w.jsx("button",{onClick:()=>U(c,e.selectedAgentId),disabled:s,className:"bg-blue-600 hover:bg-blue-500 px-4 lg:px-12 rounded-xl lg:rounded-[1.5rem] text-[9px] lg:text-[11px] font-bold text-white uppercase tracking-widest shadow-2xl transition-all active:scale-95 whitespace-nowrap",children:s?"...":"Send"})]}),w.jsx("div",{className:"lg:hidden mt-3 flex justify-center",children:w.jsx("button",{onClick:()=>{const L=e.agents.find(H=>H.id===e.selectedAgentId);L&&(b(L.systemPrompt),p(!0))},className:"text-[9px] text-zinc-600 uppercase tracking-widest font-bold flex items-center gap-1",children:w.jsx("span",{children:" Configure Agent"})})})]})})]})]})]})]})};class A0e extends Mw.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("React Error:",t,n)}render(){var t,n;return this.state.hasError?w.jsxs("div",{style:{padding:"20px",background:"#1a1a1a",color:"white",fontFamily:"monospace",minHeight:"100vh"},children:[w.jsx("h1",{children:"Something went wrong"}),w.jsx("pre",{style:{color:"red"},children:(t=this.state.error)==null?void 0:t.message}),w.jsx("pre",{style:{color:"gray"},children:(n=this.state.error)==null?void 0:n.stack})]}):this.props.children}}const Zz=document.getElementById("root");if(!Zz)throw new Error("Could not find root element to mount to");const C0e=kV.createRoot(Zz);C0e.render(w.jsx(Mw.StrictMode,{children:w.jsx(A0e,{children:w.jsx(T0e,{})})}));
